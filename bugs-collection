=================================================
This is an automated collection of open reports in
the R-bugs repository.
=================================================

Directory:  Accuracy

* PR# 751 *
Subject: BUG: polyroot()
From: "Li Dongfeng" <mavip1@inet.polyu.edu.hk>
Date: Tue, 28 Nov 2000 13:24:33 +0800
--Numerical instability. We may want a better algorithm!
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 751 <==
From mavip1@inet.polyu.edu.hk  Tue Nov 28 06:25:25 2000
Received: from hkpa04.polyu.edu.hk (hkpa04.PolyU.edu.hk [158.132.14.21])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id GAA06942
	for <r-bugs@biostat.ku.dk>; Tue, 28 Nov 2000 06:25:20 +0100 (MET)
Received: from hkpu01 ([158.132.174.240]) by hkpa04.polyu.edu.hk
          (Netscape Messaging Server 4.15) with SMTP id G4PZ0X01.43N for
          <r-bugs@biostat.ku.dk>; Tue, 28 Nov 2000 13:24:33 +0800 
Message-ID: <001b01c058fb$7db19700$f0ae849e@polyu.edu.hk>
From: "Li Dongfeng" <mavip1@inet.polyu.edu.hk>
To: <r-bugs@biostat.ku.dk>
Subject: BUG: polyroot()
Date: Tue, 28 Nov 2000 13:24:33 +0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="gb2312"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.50.4133.2400
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4133.2400
Content-Transfer-Encoding: 8bit
X-MIME-Autoconverted: from base64 to 8bit by pubhealth.ku.dk id GAA06942

I have found that the polyroot()
function in R-1.1.1(both solaris
and Win32 version) gives totally
incorrect result. Here is the offending
code:

# Polyroot bug report:
# from R-1.1.1
> sort(abs(polyroot(c(1, -2,1,0,0,0,0,0,0,0,0,0,-2,5,-2,0,0,0,0,0,0,0,0,0,1,-2,1))))
 [1] 0.8758259 0.9486499 0.9731015 1.5419189 1.7466214 1.7535362 1.7589484
 [8] 2.0216317 2.4421509 2.5098488 2.6615572 2.7717724 2.8444048 2.9147685
[15] 2.9302278 2.9757159 3.2037151 3.2052962 3.2498510 3.2815881 3.3250881
[22] 4.6593700 4.7048556 5.2738258 5.7369920 5.9017094
# from Splus 2000
> sort(abs(polyroot(c(1, -2,1,0,0,0,0,0,0,0,0,0,-2,5,-2,0,0,0,0,0,0,0,0,0,1,-2,1))))
 [1] 0.8038812 0.8038812 0.8758259 0.8758259 0.9235722
 [6] 0.9235722 0.9439788 0.9439788 0.9536692 0.9536692
[11] 0.9582403 0.9582403 0.9596028 1.0420978 1.0435796
[16] 1.0435796 1.0485816 1.0485816 1.0593458 1.0593458
[21] 1.0827524 1.0827524 1.1417794 1.1417794 1.2439649
[26] 1.2439649

From mathematical theory I know that the Splus result
is correct while the R result is wrong. I would have
checked the source if I had the time.



==> 751.reply.1 <==
From pd@biostat.ku.dk  Thu Dec  7 00:53:06 2000
Received: from biostat.ku.dk (blueberry [130.225.108.193])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id AAA04390;
	Thu, 7 Dec 2000 00:53:05 +0100 (MET)
Received: (from pd@localhost)
	by biostat.ku.dk (8.9.3/8.9.3) id AAA28616;
	Thu, 7 Dec 2000 00:58:28 +0100
Sender: pd@blueberry.kubism.ku.dk
To: mavip1@inet.polyu.edu.hk
Cc: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Re: [Rd] BUG: polyroot() (PR#751)
References: <200011280525.GAA06952@pubhealth.ku.dk>
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 07 Dec 2000 00:58:27 +0100
In-Reply-To: mavip1@inet.polyu.edu.hk's message of "Tue, 28 Nov 2000 06:25:26 +0100 (MET)"
Message-ID: <x2k89dxfto.fsf@blueberry.kubism.ku.dk>
Lines: 96
X-Mailer: Gnus v5.7/Emacs 20.7
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit

mavip1@inet.polyu.edu.hk writes:

> I have found that the polyroot()
> function in R-1.1.1(both solaris
> and Win32 version) gives totally
> incorrect result. Here is the offending
> code:
> 
> # Polyroot bug report:
> # from R-1.1.1
> > sort(abs(polyroot(c(1, -2,1,0,0,0,0,0,0,0,0,0,-2,5,-2,0,0,0,0,0,0,0,0,0,1,-2,1))))
>  [1] 0.8758259 0.9486499 0.9731015 1.5419189 1.7466214 1.7535362 1.7589484
>  [8] 2.0216317 2.4421509 2.5098488 2.6615572 2.7717724 2.8444048 2.9147685
> [15] 2.9302278 2.9757159 3.2037151 3.2052962 3.2498510 3.2815881 3.3250881
> [22] 4.6593700 4.7048556 5.2738258 5.7369920 5.9017094
> # from Splus 2000
> > sort(abs(polyroot(c(1, -2,1,0,0,0,0,0,0,0,0,0,-2,5,-2,0,0,0,0,0,0,0,0,0,1,-2,1))))
>  [1] 0.8038812 0.8038812 0.8758259 0.8758259 0.9235722
>  [6] 0.9235722 0.9439788 0.9439788 0.9536692 0.9536692
> [11] 0.9582403 0.9582403 0.9596028 1.0420978 1.0435796
> [16] 1.0435796 1.0485816 1.0485816 1.0593458 1.0593458
> [21] 1.0827524 1.0827524 1.1417794 1.1417794 1.2439649
> [26] 1.2439649
> 
> >From mathematical theory I know that the Splus result
> is correct while the R result is wrong. I would have
> checked the source if I had the time.

There seems to be a rather bad numerical instability with the R code.
If we define

 polyeval<-function(coef,x){v<-0;for (i in rev(coef)) v<-v*x+i; v}

(Horner's scheme), we get 

> polyeval(1:5,polyroot(1:5))
[1] -2.220446e-16-2.664833e-16i -2.220446e-16-1.554475e-16i
[3] -2.220446e-16+1.436839e-16i -2.220446e-16-5.076235e-16i

which is kind of OK except that it looks odd that the real part is the
same for all 4 roots. Increasing the degree gives

> polyeval(10:1,polyroot(10:1))
[1] 9.230968e-08+5.257143e-08i 9.230977e-08+5.257158e-08i
[3] 9.230961e-08+5.257162e-08i 9.230956e-08+5.257151e-08i
[5] 9.230974e-08+5.257145e-08i 9.230975e-08+5.257161e-08i
[7] 9.230949e-08+5.257178e-08i 9.230974e-08+5.257161e-08i
[9] 9.230969e-08+5.257184e-08i

which is fairly OK, but it does look odd that we can't get closer to
zero than that since there are no multiple roots, and again it is
peculiar that the values are so similar. The next items in the
sequence are -ahem- interesting:

> polyeval(11:1,polyroot(11:1))
 [1] 2.305607e-06+1.791577e-05i 2.309550e-06+1.791714e-05i
 [3] 2.307622e-06+1.792101e-05i 2.304150e-06+1.791869e-05i
 [5] 2.307087e-06+1.791537e-05i 2.309716e-06+1.791873e-05i
 [7] 2.306030e-06+1.792098e-05i 2.304727e-06+1.792011e-05i
 [9] 2.308569e-06+1.791588e-05i 2.308994e-06+1.792018e-05i
> polyeval(12:1,polyroot(12:1))
 [1] 70.94521-90.6597i 70.94521-90.6597i 70.94521-90.6597i 70.94521-90.6597i
 [5] 70.94521-90.6597i 70.94521-90.6597i 70.94521-90.6597i 70.94521-90.6597i
 [9] 70.94521-90.6597i 70.94521-90.6597i 70.94521-90.6597i
> polyeval(13:1,polyroot(13:1))
 [1] -9.076647e-05-0.0003440688i -1.253803e-04-0.0003691299i
 [3] -8.894859e-05-0.0003941022i -7.310528e-05-0.0003638818i
 [5] -1.144849e-04-0.0003471283i -1.221901e-04-0.0003814892i
 [7] -7.857251e-05-0.0003869614i -7.284137e-05-0.0003760067i
 [9] -1.029218e-04-0.0003424790i -1.136443e-04-0.0003910680i
[11] -1.016283e-04-0.0003956270i -1.225930e-04-0.0003567609i
> polyeval(14:1,polyroot(14:1))
 [1]     11.28833+   28.72917i     11.28833+   28.72917i
 [3]   5809.74030-  427.90119i -19407.81458+ 3462.91985i
 [5]  -2823.47547-  494.63498i -40909.65435-10789.57874i
 [7]  -8336.95783+ 5241.26935i    344.71455- 1520.94876i
 [9]   5357.44530-24665.94094i  57313.79892-43530.37668i
[11]  11464.67537+29484.08287i  30010.79343+24624.25551i
[13]  25799.32156+53755.92101i
> polyeval(15:1,polyroot(15:1))
 [1]  4.110828e+01+5.028631e+01i  4.123746e+01+5.033469e+01i
 [3]  4.113423e+01+5.043357e+01i  4.106175e+01+5.031924e+01i
 [5]  2.130747e+06+7.226414e+05i -1.088699e+08+1.096129e+09i
 [7]  1.785940e+09+1.407187e+09i  9.750674e+10-5.059480e+10i
 [9] -3.102572e+09-9.212065e+10i  7.213065e+09-1.023845e+10i
[11]  1.682049e+10+2.202050e+10i  1.889123e+10-1.046838e+11i
[13] -6.220741e+10-4.563469e+10i -1.477005e+10-3.393510e+10i

Root finding in high-degree polynomials is known to be nasty business,
but this looks more than ordinarily bad.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

==> 751.audit <==
Sun Dec 10 14:32:11 2000	pd	changed notes
Sun Dec 10 14:32:11 2000	pd	foobar
Sun Dec 10 14:32:11 2000	pd	moved from incoming to Accuracy

==> 751.followup.1 <==
From mark0060@tc.umn.edu  Wed Jan 17 03:51:59 2001
Received: from amethyst.tc.umn.edu (amethyst.tc.umn.edu [160.94.153.1])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id DAA19519
	for <r-bugs@biostat.ku.dk>; Wed, 17 Jan 2001 03:51:58 +0100 (MET)
Received: from [134.84.252.67] by amethyst.tc.umn.edu for r-bugs@biostat.ku.dk; Tue, 16 Jan 2001 20:51:40 -0600
Message-Id: <001b01c08041$2de9cae0$43fc5486@c9wz101>
Reply-To: "Kristian Markon" <mark0060@tc.umn.edu>
From: "Kristian Markon" <mark0060@tc.umn.edu>
To: <r-bugs@biostat.ku.dk>
Subject: PR#751
Date: Tue, 16 Jan 2001 20:51:38 -0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.00.2615.200
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2615.200

I'd just like to report a possible R bug--or rather, confirm an existing one
(bug #751).

I have had some difficulty using the polyroot() function.

For example, in Win 98, R 1.1.1,

> polyroot(c(2,1,1))

correctly (per the help index) gives the roots of  1 + (1*x) + (2*x^2) as

[1] -0.5+1.322876i -0.5-1.322876i

However,

> polyroot(c(-100,0,1))

gives the roots of

[1]  10+0i -10+0i

which corresponds to -100 + x^2, not 1 - (100*x^2).

Also,

> polyroot(c(0,0,0,1))

gives

[1]   0+0i   0+0i -10+0i

which aren't all roots of x^3.


Thanks for all your efforts.

I apologize if I'm missing something.

Kristian Markon











==> 751.reply.2 <==
From pd@biostat.ku.dk  Wed Jan 17 08:02:05 2001
Received: from biostat.ku.dk (blueberry [130.225.108.193])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id HAA19898;
	Wed, 17 Jan 2001 07:59:35 +0100 (MET)
Received: (from pd@localhost)
	by biostat.ku.dk (8.9.3/8.9.3) id IAA01976;
	Wed, 17 Jan 2001 08:01:11 +0100
Sender: pd@blueberry.kubism.ku.dk
To: mark0060@tc.umn.edu
Cc: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Re: [Rd] PR#751
References: <200101170252.DAA19529@pubhealth.ku.dk>
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 17 Jan 2001 08:01:11 +0100
In-Reply-To: mark0060@tc.umn.edu's message of "Wed, 17 Jan 2001 03:52:00 +0100 (MET)"
Message-ID: <x2hf2yirwo.fsf@blueberry.kubism.ku.dk>
Lines: 71
X-Mailer: Gnus v5.7/Emacs 20.7
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit

mark0060@tc.umn.edu writes:

> I'd just like to report a possible R bug--or rather, confirm an existing one
> (bug #751).
> 
> I have had some difficulty using the polyroot() function.
> 
> For example, in Win 98, R 1.1.1,
> 
> > polyroot(c(2,1,1))
> 
> correctly (per the help index) gives the roots of  1 + (1*x) + (2*x^2) as
> 
> [1] -0.5+1.322876i -0.5-1.322876i

Mm, no. The coefficients are by increasing degree, so these are the
roots of 2+x+x^2

> x<-polyroot(c(2,1,1))
> x
[1] -0.5+1.322876i -0.5-1.322876i
> 2+x+x^2
[1] -2.220446e-16+4.440892e-16i -2.220446e-16-4.440892e-16i


> However,
> 
> > polyroot(c(-100,0,1))
> 
> gives the roots of
> 
> [1]  10+0i -10+0i
> 
> which corresponds to -100 + x^2, not 1 - (100*x^2).

as it should.

> 
> Also,
> 
> > polyroot(c(0,0,0,1))
> 
> gives
> 
> [1]   0+0i   0+0i -10+0i
> 
> which aren't all roots of x^3.

That one is way out, however. Even more "fun":

> polyroot(c(-100,0,1))
[1]  10+0i -10+0i
> x<- polyroot(c(0,0,0,1))
> x
[1]   0+0i   0+0i -10+0i
> x<-polyroot(c(2,1,1))
> x<- polyroot(c(0,0,0,1))
> x
[1]  0.0+0.000000i  0.0+0.000000i -0.5-1.322876i

I.e. the result of polyroot(c(0,0,0,1)) depends on the previous
polyroot calculation! So there's more to the problem than numerical
instability.

Thanks for pointing it out.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

==> 751.followup.2 <==
From apjaworski@mmm.com  Wed Jan 17 17:21:34 2001
Received: from sulu.mmm.com (sulu.mmm.com [192.28.4.21])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id RAA00032
	for <R-bugs@biostat.ku.dk>; Wed, 17 Jan 2001 17:21:33 +0100 (MET)
From: apjaworski@mmm.com
Received: from us-ritahayworth.mmm.com (us-ritahayworth.mmm.com [169.10.9.87])
	by sulu.mmm.com (8.8.7/8.8.7) with ESMTP id KAA23813;
	Wed, 17 Jan 2001 10:21:14 -0600 (CST)
Subject: Re: [Rd] PR#751
X-Priority: 3 (Normal)
To: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
X-Mailer: Lotus Notes Release 5.0.3  March 21, 2000
Message-ID: <OF636EC57A.115D0ABC-ON862569D7.00599413@mmm.com>
Date: Wed, 17 Jan 2001 10:21:10 -0600
X-MIMETrack: Serialize by Router on US-RitaHayworth/US-Corporate/3M/US(Release 5.0.3 |March
 21, 2000) at 01/17/2001 10:21:14 AM
MIME-Version: 1.0
Content-type: text/plain; charset=us-ascii


... snip ...

> For example, in Win 98, R 1.1.1,
>
> > polyroot(c(2,1,1))
>
> correctly (per the help index) gives the roots of  1 + (1*x) + (2*x^2) as
>
> [1] -0.5+1.322876i -0.5-1.322876i

Mm, no. The coefficients are by increasing degree, so these are the
roots of 2+x+x^2

... snip ...

The manual page seems to have a typo.  It says (1.2.0 on Win)

Arguments:

       z: the vector of polynomial coefficients in decreasing order.


Andy


==> 751.reply.3 <==
From pd@biostat.ku.dk  Wed Jan 17 17:58:58 2001
Received: from biostat.ku.dk (blueberry [130.225.108.193])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id RAA00346;
	Wed, 17 Jan 2001 17:58:58 +0100 (MET)
Received: (from pd@localhost)
	by biostat.ku.dk (8.9.3/8.9.3) id SAA02739;
	Wed, 17 Jan 2001 18:00:38 +0100
Sender: pd@blueberry.kubism.ku.dk
To: apjaworski@mmm.com
Cc: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Re: [Rd] PR#751
References: <OF636EC57A.115D0ABC-ON862569D7.00599413@mmm.com>
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 17 Jan 2001 18:00:38 +0100
In-Reply-To: apjaworski@mmm.com's message of "Wed, 17 Jan 2001 10:21:10 -0600"
Message-ID: <x2zogqru4p.fsf@blueberry.kubism.ku.dk>
Lines: 37
X-Mailer: Gnus v5.7/Emacs 20.7
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit

apjaworski@mmm.com writes:

> ... snip ...
> 
> > For example, in Win 98, R 1.1.1,
> >
> > > polyroot(c(2,1,1))
> >
> > correctly (per the help index) gives the roots of  1 + (1*x) + (2*x^2) as
> >
> > [1] -0.5+1.322876i -0.5-1.322876i
> 
> Mm, no. The coefficients are by increasing degree, so these are the
> roots of 2+x+x^2
> 
> ... snip ...
> 
> The manual page seems to have a typo.  It says (1.2.0 on Win)
> 
> Arguments:
> 
>        z: the vector of polynomial coefficients in decreasing order.
> 

I suppose that could be clearer (it kind of depends on what you
consider the "normal" order), but it also has

              p(x) = z1 + z2 * x + ... + z[n] * x^(n-1)

which should be clear enough.


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

==> 751.reply.4 <==
From pd@biostat.ku.dk  Wed Jan 17 20:45:51 2001
Received: from biostat.ku.dk (blueberry [130.225.108.193])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id UAA01167;
	Wed, 17 Jan 2001 20:45:50 +0100 (MET)
Received: (from pd@localhost)
	by biostat.ku.dk (8.9.3/8.9.3) id UAA15273;
	Wed, 17 Jan 2001 20:47:29 +0100
Sender: pd@blueberry.kubism.ku.dk
To: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Cc: mark0060@tc.umn.edu, r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Re: [Rd] PR#751
References: <200101170252.DAA19529@pubhealth.ku.dk> <x2hf2yirwo.fsf@blueberry.kubism.ku.dk>
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 17 Jan 2001 20:47:27 +0100
In-Reply-To: Peter Dalgaard BSA's message of "17 Jan 2001 08:01:11 +0100"
Message-ID: <x2vgreyn8v.fsf@blueberry.kubism.ku.dk>
Lines: 47
X-Mailer: Gnus v5.7/Emacs 20.7
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit

Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk> writes:

> > [1]   0+0i   0+0i -10+0i
> > 
> > which aren't all roots of x^3.
> 
> That one is way out, however. Even more "fun":
> 
> > polyroot(c(-100,0,1))
> [1]  10+0i -10+0i
> > x<- polyroot(c(0,0,0,1))
> > x
> [1]   0+0i   0+0i -10+0i
> > x<-polyroot(c(2,1,1))
> > x<- polyroot(c(0,0,0,1))
> > x
> [1]  0.0+0.000000i  0.0+0.000000i -0.5-1.322876i
> 
> I.e. the result of polyroot(c(0,0,0,1)) depends on the previous
> polyroot calculation! So there's more to the problem than numerical
> instability.
> 
> Thanks for pointing it out.

Found and fixed. Unfortunately the code had just forgotten to test for
the case where you end with a zero-degree polynomial after zero-root
removal, so the fix has zero effect on the accuracy issue. 

The fix is simply 

--- src/appl/cpoly.c    2000/11/24 21:34:31     1.20
+++ src/appl/cpoly.c    2001/01/17 19:45:24
@@ -148,6 +148,8 @@
     nn++;
     /*-- Now, global var.  nn := #{coefficients} = (relevant degree)+1 */
 
+    if (nn == 1) return;
+
     /* make a copy of the coefficients and shr[] = | p[] | */
     for (i = 0; i < nn; i++) {
        pr[i] = opr[i];

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Directory:  Add-ons

* PR# 812 *
Subject: segmentation fault in integrate
From: Achim Zeileis <zeileis@ci.tuwien.ac.at>
Date: Thu, 11 Jan 2001 22:49:59 +0100
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 812 <==
From zeileis@ci.tuwien.ac.at  Thu Jan 11 22:49:50 2001
Received: from fangorn.ci.tuwien.ac.at (root@fangorn.ci.tuwien.ac.at [128.131.51.24])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id WAA26987
	for <R-bugs@biostat.ku.dk>; Thu, 11 Jan 2001 22:49:50 +0100 (MET)
Received: from ci.tuwien.ac.at (zeileis@thorin.ci.tuwien.ac.at [128.131.51.33])
	by fangorn.ci.tuwien.ac.at (8.9.3/8.8.5) with ESMTP id WAA16997;
	Thu, 11 Jan 2001 22:49:28 +0100
X-Authentication-Warning: fangorn.ci.tuwien.ac.at: Host zeileis@thorin.ci.tuwien.ac.at [128.131.51.33] claimed to be ci.tuwien.ac.at
Sender: zeileis@ci.tuwien.ac.at
Message-ID: <3A5E2A87.6864792F@ci.tuwien.ac.at>
Date: Thu, 11 Jan 2001 22:49:59 +0100
From: Achim Zeileis <zeileis@ci.tuwien.ac.at>
X-Mailer: Mozilla 4.75 [en] (X11; U; Linux 2.2.15 i686)
X-Accept-Language: en
MIME-Version: 1.0
To: r-devel@stat.math.ethz.ch
CC: R-bugs@biostat.ku.dk
Subject: segmentation fault in integrate
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

I tried to integrate numerically a function wich is similar to the
following:

> dummy <- function(x) { exp(-1*x) * dnorm(x) }
> dummy(-100)
[1] 0
> dummy(-1000)
[1] NaN
> dummy(-10000)
[1] NaN

If I choose the lower boundary to be too small integrate causes a
segmentation fault:

> library(integrate)
> integrate(dummy, -100, 0)$value
[1] 1.387143
> integrate(dummy, -1000, 0)$value
[1] NaN
Warning message:
Ifail=1, maxpts was too small. Check the returned relerr! in: adapt(1,
lower, upper, minpts, maxpts, functn, eps, ...)
> integrate(dummy, -10000, 0)$value
Segmentation fault

I'm running R.1.2.0 on Debian Linux.

Regards
Achim


> version
         _                
platform i686-pc-linux-gnu
arch     i686             
os       linux-gnu        
system   i686, linux-gnu  
status                    
major    1                
minor    2.0              
year     2000             
month    12               
day      15               
language R   



-------------------------

Achim Zeileis
Institut für Statistik
Technische Universität Wien

==> 812.audit <==
Sat Jan 13 18:52:20 2001	ripley	moved from incoming to Add-ons
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 781 *
Subject: syskern fails Rcmd check on Windows, gives incorrect information
From: Prof Brian Ripley <ripley@stats.ox.ac.uk>
Date: Wed, 20 Dec 2000 11:12:47 +0000 (GMT)
--Partially fixed by dse_2000.12, but still uses "ls" and gives
--incorrect information
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 781 <==
From postmaster@franz.stat.wisc.edu  Wed Dec 20 12:12:36 2000
Received: from franz.stat.wisc.edu (franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id MAA15275
	for <r-bugs@biostat.ku.dk>; Wed, 20 Dec 2000 12:12:35 +0100 (MET)
Received: from toucan.stats.ox.ac.uk (really [163.1.20.20]) by franz.stat.wisc.edu
	via in.smtpd with esmtp
	id <m148hAv-000IYUC@franz.stat.wisc.edu> (Debian Smail3.2.0.102)
	for <r-bugs@r-project.org>; Wed, 20 Dec 2000 05:12:49 -0600 (CST) 
Received: from localhost (ripley@localhost)
	by toucan.stats.ox.ac.uk (8.9.0/8.9.0) with ESMTP id LAA02938;
	Wed, 20 Dec 2000 11:12:48 GMT
X-Authentication-Warning: toucan.stats: ripley owned process doing -bs
Date: Wed, 20 Dec 2000 11:12:47 +0000 (GMT)
From: Prof Brian Ripley <ripley@stats.ox.ac.uk>
X-Sender: ripley@toucan.stats
To: r-bugs@r-project.org
cc: Paul Gilbert <pgilbert@bank-banque-canada.ca>
Subject: syskern fails Rcmd check on Windows, gives incorrect information
Message-ID: <Pine.GSO.4.05.10012201059520.2885-100000@toucan.stats>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

syskern (`Functions for writing code that is OS and R/S independent', an
amazing description given the reality) fails Rcmd check on Windows, and
also gives incorrect information where it does work.

There are already correct OS-independent functions for these purposes in
R.  It appears not to be needed to run the other three packages in the dse
bundle, but to be the only R package that deliberately does not work on
one of the major platforms.  I doubt if it works on Macs, either.  It
should not be in the main section of CRAN unless it does what it claims.
 
> example(global.assign)

glbl.s> date.parsed()
Error in eval.with.vis(expr, envir, enclos) : 
        couldn't find function "date.parsed"

It has not been implemented!

> example(system.call)

systm.> system.call("ls")
Error in system.call("ls") : system calls must be implemented for this operating system.

But they are:

> shell("ls -C")
#R.bug.report#       cvs-co               test1
DF.R                 jpegsrc.v6b.tar.gz   test2.emf
GSD2.EMF             libpng-1.0.8.tar.gz  test3.emf
R-1.2.0.tgz          library              test4.emf
R.bug.report         mri.dat              test5.emf
Rconsole             mydata               texinfo-4.0.tar.bz2
Rdist                packages             tools
TB                   rw1020               tools.zip
VR3sc                rw1021               winold.zip
addlibs              rw1030               zlib113.zip

> system("ls", intern=TRUE)
 [1] "#R.bug.report#"      "DF.R"                "GSD2.EMF"           
 [4] "R-1.2.0.tgz"         "R.bug.report"        "Rconsole"           
 [7] "Rdist"               "TB"                  "VR3sc"              
[10] "addlibs"             "cvs-co"              "jpegsrc.v6b.tar.gz" 
[13] "libpng-1.0.8.tar.gz" "library"             "mri.dat"            
[16] "mydata"              "packages"            "rw1020"             
[19] "rw1021"              "rw1030"              "test1"              
[22] "test2.emf"           "test3.emf"           "test4.emf"          
[25] "test5.emf"           "texinfo-4.0.tar.bz2" "tools"              
[28] "tools.zip"           "winold.zip"          "zlib113.zip"        

Of course, `ls' is OS-dependent, so should not be used as an example
in a purportedly OS-independent package.

> example(system.info)

systm.> system.info()
          _              
platform  i386-pc-mingw32
arch      x86            
os        Win32          
system    x86, Win32     
status                   
major     1              
minor     2              
year      2000           
month     12             
day       15             
language  R              
OSversion MS Windows 95  
OStype    MS Windows     

That is incorrect: see what bug.report gives below.  The heading looks
strange too.

> example(whoami)

whoami> whoami()
Error in whoami() : system calls must be implemented for this operating system.

They are:

> system("whoami", intern=T)
[1] "ripley"
> Sys.info()["user"]
    user 
"ripley" 


--please do not edit the information below--

Version:
 platform = i386-pc-mingw32
 arch = x86
 os = Win32
 system = x86, Win32
 status = 
 major = 1
 minor = 2.0
 year = 2000
 month = 12
 day = 15
 language = R

Windows NT 4.0 (build 1381) Service Pack 4

Search Path:
 .GlobalEnv, package:syskern, package:ctest, Autoloads, package:base

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


==> 781.audit <==
Tue Dec 26 10:18:52 2000	ripley	changed notes
Tue Dec 26 10:18:52 2000	ripley	foobar
Tue Dec 26 10:18:52 2000	ripley	moved from incoming to Add-ons
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 496 *
From: bonneau@epi.roazhon.inra.fr (en148)
Date: Tue, 21 Mar 2000 10:57:13 +0100 (MET)
--base R has no est.variogram function.
--This appears to be a bug report on sgeostat.
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 496 <==
From bonneau@epi.roazhon.inra.fr  Tue Mar 21 11:40:23 2000
Received: from stat.math.ethz.ch (daemon@hypatia.ethz.ch [129.132.58.23])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id LAA24613
	for <R-bugs@biostat.ku.dk>; Tue, 21 Mar 2000 11:40:21 +0100 (MET)
Received: (from daemon@localhost)
	by stat.math.ethz.ch (8.9.1/8.9.1) id LAA00472
	for <r-bugs@hypatia.math.ethz.ch>; Tue, 21 Mar 2000 11:40:33 +0100 (MET)
Received: from epi.roazhon.inra.fr(194.167.76.1)
 via SMTP by hypatia, id smtpdAAAa0007L; Tue Mar 21 11:40:28 2000
Received: from (bonneau@localhost)
          by epi.roazhon.inra.fr (8.8.8/jtpda-5.3) id KAA09010
          for r-bugs@lists.r-project.org; Tue, 21 Mar 2000 10:57:13 +0100 (MET)
Date: Tue, 21 Mar 2000 10:57:13 +0100 (MET)
From: bonneau@epi.roazhon.inra.fr (en148)
Message-Id: <200003210957.KAA09010@epi.roazhon.inra.fr>

I am using R 0.65.1 under linux (Redhat 6.0),
and I have a problem with the est.variogram function when the first lag is empty (I am trying to estimate anisotropic varios)

fittedpnt<-point(fitted, x="X2", y="X3")
fittedpair<-pair(fittedpnt, num.lags=15, type="anisotropic", theta=60, dtheta=20, maxdist=maxfittedist)
fittedvario<-est.variogram(fittedpnt, fittedpair, "fit")

With my datas I have no pair in lags 1 to 3 and the error message is :
Error in psort(x, partial) : index 0 outside bounds

What can I do, in order to fix the bug ?

==> 496.audit <==
Sat Apr 01 07:32:27 2000	ripley	changed notes
Sat Apr 01 07:32:27 2000	ripley	moved from incoming to Add-ons
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Directory:  Analyses

* PR# 653 *
Subject: bug in spline()?
From: Ian White <imsw@holyrood.ed.ac.uk>
Date: Mon, 4 Sep 2000 12:29:26 +0100 (BST)
--bug in spline: replace by interSpline in package spline?
--address problems are fixed
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 653 <==
From imsw@holyrood.ed.ac.uk  Mon Sep  4 13:29:07 2000
Received: from holyrood.ed.ac.uk (holyrood.ed.ac.uk [129.215.16.14])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id NAA28104
	for <r-bugs@biostat.ku.dk>; Mon, 4 Sep 2000 13:29:07 +0200 (MET DST)
Received: (from imsw@localhost)
	by holyrood.ed.ac.uk (8.8.7/8.8.7) id MAA07844
	for r-bugs@biostat.ku.dk; Mon, 4 Sep 2000 12:29:26 +0100 (BST)
Date: Mon, 4 Sep 2000 12:29:26 +0100 (BST)
From: Ian White <imsw@holyrood.ed.ac.uk>
Message-Id: <200009041129.MAA07844@holyrood.ed.ac.uk>
To: r-bugs@biostat.ku.dk
Subject: bug in spline()?

BUG IN SPLINE()?

Version R-1.0.1, system i486,linux

If the spline(x,y,method="natural") function is given values outside the
range of the data, it does not give a warning. Moreover, the extrapolated
value reported is not the ordinate of the natural spline defined by (x,y).

Example.  Let x <- c(2,5,8,10) and y <- c(1.2266,-1.7606,-0.5051,1.0390).
Then interpolate/extrapolate with a natural cubic spline at 1:10 using
either

spline(x,y,n=10,method="natural",xmin=1,xmax=10)

or

fn <- splinefun(x,y,method="natural")
fn(1:10)

This gives c(2.5366,1.2266,-0.0834,...,1.0390). I agree with all values
except that at x=1. The interpolation formula in Green and Silverman's
book on splines gives the derivative of a natural spline at the first
knot as f'(x1)=(f2-f1)/(x2-x1) -(1/6)(x2-x1)d, where d=second derivative
at the second knot. For the above example, d=0.7071, f'(x1)=-1.3493,
and the natural spline interpolant has value 1.2266-(-1.3493)=2.5759
at x=1, not 2.5366.

PS There are different e-mail addresses for bug reports given in the
FAQ file and in the help information for bug.report.

************************************************
*    I.White                                   *
*    ICAPB, University of Edinburgh            *
*    Ashworth Laboratories, West Mains Road    *
*    Edinburgh EH9 3JT                         *
*    Fax: 0131 667 3210   Tel: 0131 650 5490   *
*    E-mail: i.m.s.white@ed.ac.uk              *
************************************************

==> 653.reply.1 <==
From pd@blueberry.kubism.ku.dk  Mon Sep  4 14:25:15 2000
Received: from blueberry.kubism.ku.dk (blueberry [130.225.108.193])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id OAA29112
	for <R-bugs@biostat.ku.dk>; Mon, 4 Sep 2000 14:25:15 +0200 (MET DST)
Received: (from pd@localhost)
	by blueberry.kubism.ku.dk (8.9.3/8.9.3) id OAA02525;
	Mon, 4 Sep 2000 14:28:38 +0200
Sender: pd@blueberry.kubism.ku.dk
To: imsw@holyrood.ed.ac.uk
Cc: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Re: [Rd] bug in spline()? (PR#653)
References: <200009041129.NAA28115@pubhealth.ku.dk>
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 04 Sep 2000 14:28:37 +0200
In-Reply-To: imsw@holyrood.ed.ac.uk's message of "Mon, 4 Sep 2000 13:29:08 +0200 (MET DST)"
Message-ID: <x2n1homjd6.fsf@blueberry.kubism.ku.dk>
Lines: 48
X-Mailer: Gnus v5.7/Emacs 20.7
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit

imsw@holyrood.ed.ac.uk writes:

> This gives c(2.5366,1.2266,-0.0834,...,1.0390). I agree with all values
> except that at x=1. The interpolation formula in Green and Silverman's
> book on splines gives the derivative of a natural spline at the first
> knot as f'(x1)=(f2-f1)/(x2-x1) -(1/6)(x2-x1)d, where d=second derivative
> at the second knot. For the above example, d=0.7071, f'(x1)=-1.3493,
> and the natural spline interpolant has value 1.2266-(-1.3493)=2.5759
> at x=1, not 2.5366.

Also, 

plot(diff(fn(seq(1,3,.01))))

reveals that something is wrong

At the other end, 

 plot(diff(fn(seq(8,11,.01))))

looks even weirder, especially if one modifies 
to y <- c(1.2266,-1.7606,-0.5051,1.01)


> PS There are different e-mail addresses for bug reports given in the
> FAQ file and in the help information for bug.report.

Hmm, and neither looks quite right! One would probably want the
address to be in the r-project.org domain (in case we move it away
from Copenhagen). "r-bugs@list.r-project.org", however, is none too
logical and assumes that there's an r-bugs user or an alias in Zurich
which forwards to biostat.dk (there is, it seems). Same thing with
r-bugs@r-project.org, since the Wisconsin machine aliases r-bugs to
r-bugs@lists.r-project.org. 

More logical would be to use r-bugs@r-project.org and have the
forwarding there go to biostat.dk.

Alternatively, it ought to work as r-bugs@bugs.r-project.org, but that
doesn't work whenever a RedHat upgrade blows away the resending rules
in my sendmail.cf... (the program in r-bugs' .forward needs to execute
on a machine that matches the architecture of the binary!)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

==> 653.reply.2 <==
From bates@stat.wisc.edu  Mon Sep  4 23:50:57 2000
Received: from franz.stat.wisc.edu (franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id XAA02696
	for <R-bugs@biostat.ku.dk>; Mon, 4 Sep 2000 23:50:57 +0200 (MET DST)
Received: by franz.stat.wisc.edu
	via sendmail from stdin
	id <m13W4B0-000IYXC@franz.stat.wisc.edu> (Debian Smail3.2.0.102)
	for R-bugs@biostat.ku.dk; Mon, 4 Sep 2000 16:53:14 -0500 (CDT) 
Sender: bates@franz.stat.wisc.edu
To: imsw@holyrood.ed.ac.uk
Cc: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Re: [Rd] bug in spline()? (PR#653)
References: <200009041129.NAA28115@pubhealth.ku.dk>
From: Douglas Bates <bates@stat.wisc.edu>
Date: 04 Sep 2000 16:53:14 -0500
In-Reply-To: imsw@holyrood.ed.ac.uk's message of "Mon, 4 Sep 2000 13:29:08 +0200 (MET DST)"
Message-ID: <6ritsb7rjp.fsf@franz.stat.wisc.edu>
Lines: 49
User-Agent: Gnus/5.0803 (Gnus v5.8.3) Emacs/20.7
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

imsw@holyrood.ed.ac.uk writes:

> BUG IN SPLINE()?
> 
> Version R-1.0.1, system i486,linux
> 
> If the spline(x,y,method="natural") function is given values outside the
> range of the data, it does not give a warning. Moreover, the extrapolated
> value reported is not the ordinate of the natural spline defined by (x,y).
> 
> Example.  Let x <- c(2,5,8,10) and y <- c(1.2266,-1.7606,-0.5051,1.0390).
> Then interpolate/extrapolate with a natural cubic spline at 1:10 using
> either
> 
> spline(x,y,n=10,method="natural",xmin=1,xmax=10)
> 
> or
> 
> fn <- splinefun(x,y,method="natural")
> fn(1:10)
> 
> This gives c(2.5366,1.2266,-0.0834,...,1.0390). I agree with all values
> except that at x=1. The interpolation formula in Green and Silverman's
> book on splines gives the derivative of a natural spline at the first
> knot as f'(x1)=(f2-f1)/(x2-x1) -(1/6)(x2-x1)d, where d=second derivative
> at the second knot. For the above example, d=0.7071, f'(x1)=-1.3493,
> and the natural spline interpolant has value 1.2266-(-1.3493)=2.5759
> at x=1, not 2.5366.

I think the `interpSpline' function in the splines package gives the
desired natural interpolation spline.  Perhaps we should change the
underlying code for the spline function.

 > library(splines)
 > x <- c(2,5,8,10)
 > y <- c(1.2266,-1.7606,-0.5051,1.0390)
 > ns1 <- interpSpline(y ~ x)
 > plot(ns1)   # gives a plot that looks reasonable
 > points(x,y)
 > predict(ns1, 1:10)
 $x
  [1]  1  2  3  4  5  6  7  8  9 10

 $y
  [1]  2.5758923  1.2266000 -0.0834080 -1.1577100 -1.7606000 -1.7349409
  [7] -1.2378717 -0.5051000  0.2669514  1.0390000

 attr(,"class")
 [1] "xyVector"

==> 653.audit <==
Wed Oct 25 06:56:51 2000	ripley	changed notes
Wed Oct 25 06:56:51 2000	ripley	moved from incoming to Analyses
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Directory:  Documentation

none

Directory:  Graphics

* PR# 823 *
Subject: adjustment of expressions with mtext(..., las=2)
From: Uwe Ligges <ligges@statistik.uni-dortmund.de>
Date: Wed, 24 Jan 2001 20:12:43 +0100
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 823 <==
From ligges@statistik.uni-dortmund.de  Wed Jan 24 20:12:48 2001
Received: from nx5.HRZ.Uni-Dortmund.DE (nx5.HRZ.Uni-Dortmund.DE [129.217.131.21])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id UAA12684
	for <R-bugs@biostat.ku.dk>; Wed, 24 Jan 2001 20:12:47 +0100 (MET)
Received: from amadeus.statistik.uni-dortmund.de by nx5.HRZ.Uni-Dortmund.DE
          via smtp-local with ESMTP; Wed, 24 Jan 2001 20:11:55 +0100
Received: from statistik.uni-dortmund.de (dial-142088.HRZ.Uni-Dortmund.DE [129.217.142.88])
	by amadeus.statistik.uni-dortmund.de (8.9.3+Sun/8.9.3) with ESMTP id UAA21614;
	Wed, 24 Jan 2001 20:11:53 +0100 (MET)
Message-ID: <3A6F292B.A3D6027D@statistik.uni-dortmund.de>
Date: Wed, 24 Jan 2001 20:12:43 +0100
From: Uwe Ligges <ligges@statistik.uni-dortmund.de>
X-Mailer: Mozilla 4.76 [en] (WinNT; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Don Wingate <Don.Wingate@intellichem.com>, r-bugs <R-bugs@biostat.ku.dk>
Subject: adjustment of expressions with mtext(..., las=2)
References: <ABB64B4C48ECD44CADC72FA840118B3B4FF0@athena.Bend.IntelliChem.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

[Subject renamed for bug report]


Don Wingate wrote:
[...]
> For example:
> 
>         math.names.text <- c("x1^2", "x2^2", "x2%*%x3) # in actual use,
> dynamically created.
>         math.expressions <- parse(text=math.names.text)
>         dotplot(1:3, labels=math.expressions)
[...] 
> By the way, I notice that when using math expressions as the labels in
> dotplot, the positioning of the labels is off to the right (and off the
> visible screen). Is this a bug in the way that the size of the math
> expressions are computed?


Yes, it looks like a bug. I try to simplify it:

When using mtext(..., las=2, adj=anything), the argument adj doesn't
seem to have any effect:

  plot(1:10)
  mtext("x^2 + x^3", side = 2, las=2, at=3, line=3, adj=0) # works fine
...

  # but here it is not left justified at line=3:
  mtext(expression(x^2 + x^3), side = 2, las=2, at=7, line=3, adj=0) 

Uwe Ligges


--please do not edit the information below--

Version:
 platform = i386-pc-mingw32
 arch = x86
 os = Win32
 system = x86, Win32
 status = 
 major = 1
 minor = 2.1
 year = 2001
 month = 01
 day = 15
 language = R

Windows NT 4.0 (build 1381) Service Pack 6

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base

==> 823.audit <==
Thu Jan 25 00:05:32 2001	ripley	moved from incoming to Graphics
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 660 *
Subject: identify.default ignores any setting of cex.
From: Prof Brian Ripley <ripley@stats.ox.ac.uk>
Date: Fri, 15 Sep 2000 10:23:39 +0100 (BST)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 660 <==
From postmaster@franz.stat.wisc.edu  Fri Sep 15 11:23:32 2000
Received: from stat.math.ethz.ch (daemon@hypatia.ethz.ch [129.132.58.23])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id LAA13327
	for <R-bugs@biostat.ku.dk>; Fri, 15 Sep 2000 11:23:32 +0200 (MET DST)
Received: (from daemon@localhost)
	by stat.math.ethz.ch (8.9.1/8.9.1) id LAA17846
	for <r-bugs@hypatia.math.ethz.ch>; Fri, 15 Sep 2000 11:23:49 +0200 (MET DST)
Received: from franz.stat.wisc.edu(128.105.174.95)
 via SMTP by hypatia, id smtpdAAAa004Mn; Fri Sep 15 11:23:42 2000
Received: from toucan.stats.ox.ac.uk (really [163.1.20.20]) by franz.stat.wisc.edu
	via in.smtpd with esmtp
	id <m13Zrkl-000IW0C@franz.stat.wisc.edu> (Debian Smail3.2.0.102)
	for <R-bugs@r-project.org>; Fri, 15 Sep 2000 04:25:51 -0500 (CDT) 
Received: from localhost (ripley@localhost)
	by toucan.stats.ox.ac.uk (8.9.0/8.9.0) with ESMTP id KAA14892
	for <R-bugs@r-project.org>; Fri, 15 Sep 2000 10:23:39 +0100 (BST)
X-Authentication-Warning: toucan.stats: ripley owned process doing -bs
Date: Fri, 15 Sep 2000 10:23:39 +0100 (BST)
From: Prof Brian Ripley <ripley@stats.ox.ac.uk>
X-Sender: ripley@toucan.stats
To: R-bugs@r-project.org
Subject: identify.default ignores any setting of cex.
Message-ID: <Pine.GSO.4.05.10009151011510.14885-100000@toucan.stats>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

R 1.1.1 on Windows, but I think this is widespread.

Using either

par(cex=0.5)
plot(1:10)
identify(1:10)

or

plot(1:10)
identify(1:10, cex=0.5)

ignores the cex setting.  The root cause is that par(cex=0.5)
alters cexbase for the device but sets cex=1.0, and the internal
text plotting routines use cex and not cexbase.

The obvious fix is to set cex to cexbase in do_identify. However,
if this is fixed, there is another problem, The offset of the label
is related to the cex in use for the label, and not for the symbol.
So

plot(1:10, type="n")
points(1:10, cex=5)
identify(1:10)

is not sensible in placing the labels.  That may be hard to anticipate,
but 

plot(1:10)
identify(1:10, cex=0.5)

needs to use cex=1 not cex=0.5 for the adjustment.  Perhaps identify is
trying too hard, and should give the user more control over the precise
position of the label (as S-PLUS does).

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


==> 660.audit <==
Wed Oct 25 06:57:35 2000	ripley	moved from incoming to Graphics
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 202 *
Subject: persp box occlusion bug
From: wsi@gcal.ac.uk
Date: Wed, 2 Jun 1999 15:02:03 +0200 (MET DST)
--The persp algorithm does not apply the occlusion rules to the frame, 
--which is always plotted first. 
--A bug, but not very simple to fix.
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 202 <==
From wsi@gcal.ac.uk  Wed Jun  2 15:02:10 1999
Received: from localhost (blueberry [130.225.108.193])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id PAA27126
	for <R-bugs@biostat.ku.dk>; Wed, 2 Jun 1999 15:02:03 +0200 (MET DST)
Date: Wed, 2 Jun 1999 15:02:03 +0200 (MET DST)
From: wsi@gcal.ac.uk
Message-Id: <199906021302.PAA27126@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: persp box occlusion bug

Full_Name: Bill Simpson
Version: 64.1
OS: linux
Submission from: (NULL) (193.62.250.209)


Bug in persp() bounding box:
If the surface being plotted extends below the lower z-axis boundary, the box
is
drawn with the wrong occlusion. The box is shown as being occluded by the
surface
even though it should be in front of the surface.

The box is correct for surface extending above the box. Problem is only for
surface extending below the box.

This exhibits the bug:

std<-rep(seq(-32,32,8),9)/1000 * 60
cf<-rep(seq(-32,32,8),rep(9,9))/1000 *60 
dp<-(cf-std)/.6
std<-unique(std)
cf<-unique(cf)
dp<-t(matrix(dp,length(cf),length(std)))
persp(std,cf,dp, xlim=c(-2,2), ylim=c(-2,2), zlim=c(0,5),theta=-40,    
phi=45,
box=TRUE,ltheta=-120, lphi=120,
d=1.5, shade=.7)


==> 202.audit <==
Wed Jun 30 19:31:18 1999	pd	moved from incoming to Graphics
Thu Jul 01 18:19:48 1999	pd	changed notes
Sun Feb 20 10:07:11 2000	ripley	changed notes
Mon Feb 28 17:17:51 2000	pd	changed notes
Mon Feb 28 17:18:28 2000	pd	changed notes
Mon Feb 28 17:19:35 2000	pd	changed notes
Mon Feb 28 17:20:17 2000	pd	changed notes
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 750 *
Subject: abline() does not obey "xpd" (clipping rules)
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Mon, 27 Nov 2000 18:27:11 +0100
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 750 <==
From maechler@stat.math.ethz.ch  Mon Nov 27 18:27:05 2000
Received: from stat.math.ethz.ch (daemon@hypatia.ethz.ch [129.132.58.23])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id SAA04861
	for <R-bugs@biostat.ku.dk>; Mon, 27 Nov 2000 18:27:04 +0100 (MET)
Received: (from daemon@localhost)
	by stat.math.ethz.ch (8.9.1/8.9.1) id SAA21229
	for <R-bugs@stat.math.ethz.ch>; Mon, 27 Nov 2000 18:27:14 +0100 (MET)
Received: from UNKNOWN(129.132.58.30), claiming to be "lynne.ethz.ch"
 via SMTP by hypatia, id smtpdAAAa005Bf; Mon Nov 27 18:27:12 2000
Received: (maechler@localhost) by lynne.ethz.ch (8.9.3/D-MATH-client) id SAA01940; Mon, 27 Nov 2000 18:27:11 +0100
X-Authentication-Warning: lynne.ethz.ch: maechler set sender to maechler@stat.math.ethz.ch using -f
From: Martin Maechler <maechler@stat.math.ethz.ch>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <14882.39279.553452.20503@gargle.gargle.HOWL>
Date: Mon, 27 Nov 2000 18:27:11 +0100
To: R-bugs@stat.math.ethz.ch
Subject: abline() does not obey "xpd" (clipping rules)
X-Mailer: VM 6.76 under Emacs 20.7.1
Reply-To: Martin Maechler <maechler@stat.math.ethz.ch>

This is not a bug in the very strict sense,
but for consistency,  
I feel that
    abline() 
should obey  par("xpd") setting, even by ...-argument.
The following code shows how  lines() ``works'' and abline() does not :

  par(mfrow=c(2,1))
  plot(1:4)
  plot(1:10)
  par(xpd=NA); abline(v=1:10); par(xpd=FALSE)
  ## or even
  abline(v=1:10, xpd = NA, col = "purple")
  ## lines() *does* work with xpd arg:
  lines(4:5,c(1,40), col = 2, xpd = FALSE)# clip to plot
  lines(5:6,c(1,40), col = 3, xpd = TRUE)# clip to figure
  lines(6:7,c(1,20), col = 4, xpd = NA)# clip to device 
  text(4:6, 10.5, "xpd =", xpd = TRUE, col = 2:4)
  text(4:6, 10, c("FALSE","TRUE","NA"), col = 2:4, adj = 0)


Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><

==> 750.reply.1 <==
From maechler@stat.math.ethz.ch  Wed Nov 29 14:02:47 2000
Received: from stat.math.ethz.ch (daemon@hypatia.ethz.ch [129.132.58.23])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id OAA24751
	for <R-bugs@biostat.ku.dk>; Wed, 29 Nov 2000 14:02:46 +0100 (MET)
Received: (from daemon@localhost)
	by stat.math.ethz.ch (8.9.1/8.9.1) id OAA15367
	for <R-bugs@biostat.ku.dk>; Wed, 29 Nov 2000 14:03:01 +0100 (MET)
Received: from UNKNOWN(129.132.58.30), claiming to be "lynne.ethz.ch"
 via SMTP by hypatia, id smtpdAAAa003k0; Wed Nov 29 14:02:57 2000
Received: (maechler@localhost) by lynne.ethz.ch (8.9.3/D-MATH-client) id OAA05829; Wed, 29 Nov 2000 14:02:56 +0100
X-Authentication-Warning: lynne.ethz.ch: maechler set sender to maechler@stat.math.ethz.ch using -f
From: Martin Maechler <maechler@stat.math.ethz.ch>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <14884.65152.785676.980519@gargle.gargle.HOWL>
Date: Wed, 29 Nov 2000 14:02:56 +0100
To: R-bugs@biostat.ku.dk
Subject: abline() AND rect() do not obey "xpd" (clipping) (PR#750)
In-Reply-To: <200011271727.SAA04871@pubhealth.ku.dk>
References: <200011271727.SAA04871@pubhealth.ku.dk>
X-Mailer: VM 6.86 under Emacs 20.7.1
Reply-To: Martin Maechler <maechler@stat.math.ethz.ch>

>>>>> "MM" == Martin Maechler <maechler@stat.math.ethz.ch> writes:

    MM> This is not a bug in the very strict sense,
    MM> but for consistency,  
    MM> I feel that
    MM> abline() 
    MM> should obey  par("xpd") setting, even by ...-argument.
    MM> The following code shows how  lines() ``works'' and abline() does not :

    MM> par(mfrow=c(2,1))
    MM> plot(1:4)
    MM> plot(1:10)
    MM> par(xpd=NA); abline(v=1:10); par(xpd=FALSE)
    MM> ## or even
    MM> abline(v=1:10, xpd = NA, col = "purple")
    MM> ## lines() *does* work with xpd arg:
    MM> lines(4:5,c(1,40), col = 2, xpd = FALSE)# clip to plot
    MM> lines(5:6,c(1,40), col = 3, xpd = TRUE)# clip to figure
    MM> lines(6:7,c(1,20), col = 4, xpd = NA)# clip to device 
    MM> text(4:6, 10.5, "xpd =", xpd = TRUE, col = 2:4)
    MM> text(4:6, 10, c("FALSE","TRUE","NA"), col = 2:4, adj = 0)

Also, 
      rect() 
fails similarly.
This gives funny legend()s :

 plot(1:10)
 legend(1,7.5,  c("1st", "2nd", "third"), col = 1:3, lwd = 1:3, pch = 1:3)
 op <- par(xpd = NA)
 legend(1,11.5, c("1st", "2nd", "third"), col = 1:3, lwd = 1:3, pch = 1:3)
 ## pch = 1 also doesn't ?!?? ?? why??  It does here :
 points(2+ 1:8, rep(11, 8), pch = 1:8, col = "purple")
 ## and other pch's do here
 legend(4,11.9, c("1st", "2nd", "third"), col = 1:3, lwd = 1:3, pch = 6:4)
 par(op)

## Note that there seems another peculiar clipping bug 
##       with pch = 1 in legend

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><

==> 750.audit <==
Wed Nov 29 14:17:37 2000	ripley	moved from incoming to Graphics
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 726 *
Subject: par(las=.)  gives wrong "adj" for mtext()
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Tue, 7 Nov 2000 13:03:58 +0100
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 726 <==
From maechler@stat.math.ethz.ch  Tue Nov  7 13:03:47 2000
Received: from stat.math.ethz.ch (daemon@hypatia.ethz.ch [129.132.58.23])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id NAA19936
	for <R-bugs@biostat.ku.dk>; Tue, 7 Nov 2000 13:03:46 +0100 (MET)
Received: (from daemon@localhost)
	by stat.math.ethz.ch (8.9.1/8.9.1) id NAA27952
	for <R-bugs@stat.math.ethz.ch>; Tue, 7 Nov 2000 13:04:04 +0100 (MET)
Received: from lynne(129.132.58.30), claiming to be "lynne.ethz.ch"
 via SMTP by hypatia, id smtpdAAAa006od; Tue Nov  7 13:04:00 2000
Received: (maechler@localhost) by lynne.ethz.ch (8.9.3/D-MATH-client) id NAA03777; Tue, 7 Nov 2000 13:03:59 +0100
X-Authentication-Warning: lynne.ethz.ch: maechler set sender to maechler@stat.math.ethz.ch using -f
From: Martin Maechler <maechler@stat.math.ethz.ch>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <14855.61358.974454.417553@gargle.gargle.HOWL>
Date: Tue, 7 Nov 2000 13:03:58 +0100
To: R-bugs@stat.math.ethz.ch
Subject: par(las=.)  gives wrong "adj" for mtext()
X-Mailer: VM 6.76 under Emacs 20.7.1
Reply-To: Martin Maechler <maechler@stat.math.ethz.ch>

For R Version 1.1.1 and R-devel (Linux)...

Sorry, there's no time to fix myself now
{e.g., after starting a new device} :

    par(las=3); plot(1:10); par(las=1) ; mtext("mtext")

Gives a left-adjusted (as for  adj = 0)  mtext,
even if  par("adj") is still 0.5

Note that I'm also not convinced that  mtext() should follow  par("las")
as it does in the following {2nd bug ?} :


    par(las=3); plot(1:10); mtext("mtext")

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><

==> 726.followup.1 <==
From ligges@statistik.uni-dortmund.de  Tue Nov  7 14:43:55 2000
Received: from nx5.HRZ.Uni-Dortmund.DE (nx5.HRZ.Uni-Dortmund.DE [129.217.131.21])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id OAA21669
	for <R-bugs@biostat.ku.dk>; Tue, 7 Nov 2000 14:43:55 +0100 (MET)
Received: from amadeus.statistik.uni-dortmund.de by nx5.HRZ.Uni-Dortmund.DE
          via smtp-local with ESMTP; Tue, 7 Nov 2000 14:44:09 +0100
Received: from statistik.uni-dortmund.de (dial-142031.HRZ.Uni-Dortmund.DE [129.217.142.31])
	by amadeus.statistik.uni-dortmund.de (8.9.3+Sun/8.9.3) with ESMTP id OAA20383;
	Tue, 7 Nov 2000 14:44:08 +0100 (MET)
Message-ID: <3A08073D.F6C15CAA@statistik.uni-dortmund.de>
Date: Tue, 07 Nov 2000 14:44:29 +0100
From: Uwe Ligges <ligges@statistik.uni-dortmund.de>
X-Mailer: Mozilla 4.76 [en] (WinNT; U)
X-Accept-Language: de-DE,en
MIME-Version: 1.0
To: maechler@stat.math.ethz.ch
CC: R-bugs <R-bugs@biostat.ku.dk>
Subject: Re: [Rd] par(las=.)  gives wrong "adj" for mtext() (PR#726)
References: <200011071203.NAA19946@pubhealth.ku.dk>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

maechler@stat.math.ethz.ch wrote:
> 
> For R Version 1.1.1 and R-devel (Linux)...
> 
> Sorry, there's no time to fix myself now
> {e.g., after starting a new device} :
> 
>     par(las=3); plot(1:10); par(las=1) ; mtext("mtext")
>
> Gives a left-adjusted (as for  adj = 0)  mtext,
> even if  par("adj") is still 0.5


That's not a bug, I suppose. From help of mtext():

adj  adjustment for each string. [......]
     If adj is not a finite value (the default), 
                                       ^^^^^^^ = NA, not from par("adj")
     the value par("las") determines the adjustment. 
     For strings plotted parallel to the axis the default is to centre
the string. 
 

> Note that I'm also not convinced that  mtext() should follow  par("las")
> as it does in the following {2nd bug ?} :
> 
>     par(las=3); plot(1:10); mtext("mtext")


Everything is vertical, here (R-1.1.1, WinNT4.0). I don't see a second
bug ...



But I think most users don't expect the behavior of mtext(). Maybe some
changes are useful:

1. The above described "bug", maybe centre all strings as the default
(and not only those strings plotted parallel to the axis), so there are
not so much dependencies between the settings of "adj" and "las".

2. Have a look at:

      par("las"=3)
      plot(1:10)
      mtext("text1", adj=0.2)
      mtext("text2", adj=0.8)

This is intended (from the help), but I would expect (without reading
the help at first) the following result:
 
      par("las"=3)
      plot(1:10)
      mtext("text1", adj=0.2, at=5.5)
      mtext("text2", adj=0.8, at=5.5)


Additionally: The argument "adj" in mtext() does not support adj=c(x, y)
as described in ?par.



Regards,
Uwe Ligges

==> 726.reply.1 <==
From maechler@stat.math.ethz.ch  Wed Nov  8 12:27:35 2000
Received: from stat.math.ethz.ch (daemon@hypatia.ethz.ch [129.132.58.23])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id MAA02270
	for <R-bugs@biostat.ku.dk>; Wed, 8 Nov 2000 12:27:35 +0100 (MET)
Received: (from daemon@localhost)
	by stat.math.ethz.ch (8.9.1/8.9.1) id MAA23933;
	Wed, 8 Nov 2000 12:27:47 +0100 (MET)
Received: from lynne(129.132.58.30), claiming to be "lynne.ethz.ch"
 via SMTP by hypatia, id smtpdAAAa005pv; Wed Nov  8 12:27:45 2000
Received: (maechler@localhost) by lynne.ethz.ch (8.9.3/D-MATH-client) id MAA05036; Wed, 8 Nov 2000 12:27:44 +0100
X-Authentication-Warning: lynne.ethz.ch: maechler set sender to maechler@stat.math.ethz.ch using -f
From: Martin Maechler <maechler@stat.math.ethz.ch>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <14857.14512.195716.697631@gargle.gargle.HOWL>
Date: Wed, 8 Nov 2000 12:27:44 +0100
To: Uwe Ligges <ligges@statistik.uni-dortmund.de>
Cc: R-bugs <R-bugs@biostat.ku.dk>
Subject: Re: [Rd] par(las=.)  gives wrong "adj" for mtext() (PR#726)
In-Reply-To: <3A08073D.F6C15CAA@statistik.uni-dortmund.de>
References: <200011071203.NAA19946@pubhealth.ku.dk>
	<3A08073D.F6C15CAA@statistik.uni-dortmund.de>
X-Mailer: VM 6.76 under Emacs 20.7.1
Reply-To: Martin Maechler <maechler@stat.math.ethz.ch>

>>>>> "Uwe" == Uwe Ligges <ligges@statistik.uni-dortmund.de> writes:

    Uwe> maechler@stat.math.ethz.ch wrote:
    >>  For R Version 1.1.1 and R-devel (Linux)...
    >> 
    >> Sorry, there's no time to fix myself now {e.g., after starting a new
    >> device} :
    >> 
    >> par(las=3); plot(1:10); par(las=1) ; mtext("mtext")
    >> 
    >> Gives a left-adjusted (as for adj = 0) mtext, even if par("adj") is
    >> still 0.5


    Uwe> That's not a bug, I suppose. From help of mtext():

    Uwe> adj adjustment for each string. [......]  If adj is not a finite
    Uwe> value (the default), ^^^^^^^ = NA, not from par("adj") the value
    Uwe> par("las") determines the adjustment.  For strings plotted
    Uwe> parallel to the axis the default is to centre the string.
 
Yes, it *is* one!

Note that above, I had already reset  "par(las = 1)"
*before* doing  mtext(.) !

--------

    >> Note that I'm also not convinced that mtext() should follow
    >> par("las") as it does in the following {2nd bug ?} :
    >> 
    >> par(las=3); plot(1:10); mtext("mtext")


    Uwe> Everything is vertical, here (R-1.1.1, WinNT4.0). I don't see a
    Uwe> second bug ...

yes, and I didn't say so, I said
"not convinced that mtext() should ..."

I think you have good  points below :

    Uwe> But I think most users don't expect the behavior of mtext(). Maybe
    Uwe> some changes are useful:

    Uwe> 1. The above described "bug", maybe centre all strings as the
    Uwe> default (and not only those strings plotted parallel to the axis),
    Uwe> so there are not so much dependencies between the settings of
    Uwe> "adj" and "las".

    Uwe> 2. Have a look at:

    Uwe> par("las"=3)
    Uwe> plot(1:10)
    Uwe> mtext("text1", adj=0.2)
    Uwe> mtext("text2", adj=0.8)

    Uwe> This is intended (from the help), but I would expect (without reading
    Uwe> the help at first) the following result:
 
    Uwe> par("las"=3)
    Uwe> plot(1:10)
    Uwe> mtext("text1", adj=0.2, at=5.5)
    Uwe> mtext("text2", adj=0.8, at=5.5)

Request for comments :  
Shouldn't we change the behavior() of mtext() here?

----


    Uwe> Additionally: The argument "adj" in mtext() does not support
    Uwe> adj=c(x, y) as described in ?par.

yes, but the `adj' argument of mtext()  *is*  documented explicitly,
(partly for that reason!).


==> 726.audit <==
Thu Nov  9 08:22:23 2000	ripley	moved from incoming to Graphics
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 791 *
Subject:  par(lab= *) / axis(*) bug 
From: maechler@stat.math.ethz.ch
Date: Fri, 22 Dec 2000 10:59:26 +0100
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 791 <==
From postmaster@franz.stat.wisc.edu  Fri Dec 22 10:59:23 2000
Received: from franz.stat.wisc.edu (franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id KAA08619
	for <r-bugs@biostat.ku.dk>; Fri, 22 Dec 2000 10:59:23 +0100 (MET)
Received: from stat.math.ethz.ch (really [129.132.58.23]) by franz.stat.wisc.edu
	via in.smtpd with esmtp (ident daemon using rfc1413)
	id <m149OzA-000IXMC@franz.stat.wisc.edu> (Debian Smail3.2.0.102)
	for <r-bugs@r-project.org>; Fri, 22 Dec 2000 03:59:36 -0600 (CST) 
Received: (from daemon@localhost)
	by stat.math.ethz.ch (8.9.1/8.9.1) id KAA02617;
	Fri, 22 Dec 2000 10:59:34 +0100 (MET)
Received: from UNKNOWN(129.132.58.33), claiming to be "florence.ethz.ch"
 via SMTP by hypatia, id smtpdAAAa000cp; Fri Dec 22 10:59:26 2000
Received: (maechler@localhost) by florence.ethz.ch (8.9.3/D-MATH-client) id KAA23075; Fri, 22 Dec 2000 10:59:26 +0100
Date: Fri, 22 Dec 2000 10:59:26 +0100
From: maechler@stat.math.ethz.ch
Message-Id: <200012220959.KAA23075@florence.ethz.ch>
To: r-bugs@r-project.org
Subject:  par(lab= *) / axis(*) bug 
Cc: maechler@stat.math.ethz.ch

As the subject says,
here is example code (with comments) showing the problem:

p1 <- function(lab = c(8,12,7))
{
    ## This `fails' (on a virgin device)
    clab <- paste(lab,collapse=",")
    plot(1,1, xlim = c(0,15), ylim = c(-.8,1), type ="n", axes = FALSE,
         main=paste("plot(*,axes=F); par(lab= c(",clab,"));  axis(*) x 2",sep=""))
    box(col="gray80")
    op <- par(lab = lab) ; on.exit(par(op))
    axis(1, pos = 0)
    axis(2, pos = 0, las = 1)
    par(op)
    op
}

p2 <- function(lab = c(8,12,7))
{
    ## This works  [par()  *BEFORE*  plot() ]
    clab <- paste(lab,collapse=",")
    op <- par(lab = lab) ; on.exit(par(op))

    plot(1,1, xlim = c(0,15), ylim = c(-.8,1), type ="n", axes = FALSE,
         main=paste("par(lab= c(",clab,")); plot(*,axes=F); axis(*) x 2",sep=""))
    box(col="gray80")
    axis(1, pos = 0)
    axis(2, pos = 0, las = 1)
    op ## lab 5 5 7
}

dev.off()
par(mfrow=c(2,1), mar=c(2,2,3,1))
p1()
p2()




--please do not edit the information below--

Version:
 platform = i686-pc-linux-gnu
 arch = i686
 os = linux-gnu
 system = i686, linux-gnu
 status = Patched
 major = 1
 minor = 2.0
 year = 2000
 month = 12
 day = 19
 language = R

Search Path:
 .GlobalEnv, package:nls, package:splines, package:lqs, package:modreg, package:stepfun, package:mva, package:eda, package:ts, package:VLMC, package:ctest, package:SfS, Autoloads, package:base

==> 791.audit <==
Tue Dec 26 10:31:10 2000	ripley	moved from incoming to Graphics
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 776 *
Subject: strwidth does not take font into account
From: Martyn Plummer <plummer@iarc.fr>
Date: Tue, 19 Dec 2000 14:56:01 +0100 (CET)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 776 <==
From postmaster@franz.stat.wisc.edu  Tue Dec 19 14:53:40 2000
Received: from franz.stat.wisc.edu (franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id OAA05819
	for <r-bugs@biostat.ku.dk>; Tue, 19 Dec 2000 14:53:39 +0100 (MET)
Received: from smtp02.iarc.fr (really [212.157.236.234]) by franz.stat.wisc.edu
	via in.smtpd with esmtp
	id <m148NHG-000IYiC@franz.stat.wisc.edu> (Debian Smail3.2.0.102)
	for <r-bugs@r-project.org>; Tue, 19 Dec 2000 07:58:02 -0600 (CST) 
Received: from xena.iarc.fr ([10.10.150.125])
	by smtp02.iarc.fr (8.9.3/8.9.3) with ESMTP id OAA21720
	for <r-bugs@r-project.org>; Tue, 19 Dec 2000 14:53:55 +0100
Message-ID: <XFMail.001219145601.plummer@iarc.fr>
X-Mailer: XFMail 1.3 [p0] on Linux
X-Priority: 3 (Normal)
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 8bit
MIME-Version: 1.0
Date: Tue, 19 Dec 2000 14:56:01 +0100 (CET)
Organization: International Agency for Research on Cancer
Sender: martyn@xena.iarc.fr
From: Martyn Plummer <plummer@iarc.fr>
To: r-bugs@r-project.org
Subject: strwidth does not take font into account

One for the wishlist.

The text() function permits the use of different fonts with the arguments
"font" or "vfont".  These create text strings of the same height as the
default font, but of different widths: bold face is slightly wider; vector
fonts are usually much wider.  I think the strwidth() function needs to
take the font into account by also having "font" and "vfont" arguments.
Currently it reports the string width using the default font, which can
be quite different.

Here is a little test function you can use to see how far off the
reported string width is.

test.strwidth <-
function(text, vfont=NULL, cex=NULL, ...)
{
 plot(0,0,xlim=c(-1,1),ylim=c(-1,1), type="n")
 text(0,0, text, adj=c(0,0), offset=0, cex=cex, vfont=vfont, ...)
 abline(h=c(0, strheight(text, cex=cex)), lty=2)
 abline(v=c(0, strwidth(text, cex=cex)), lty=2)
}

e.g.

test.strwidth("This is some text", cex=2)
test.strwidth("This is some text", cex=2, font=2)
test.strwidth("This is some text", vfont=c("sans serif", "plain"))

Martyn

Please do not edit the information below--

Version:
 platform = i686-pc-linux-gnu
 arch = i686
 os = linux-gnu
 system = i686, linux-gnu
 status =
 major = 1
 minor = 2.0
 year = 2000
 month = 12
 day = 15
 language = R

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base




==> 776.audit <==
Tue Dec 26 10:31:10 2000	ripley	moved from incoming to Graphics
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 820 *
Subject: interaction.plot
From: "Mark M. Span" <span@psy.uva.nl>
Date: Mon, 22 Jan 2001 10:47:39 +0100
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 820 <==
From postmaster@franz.stat.wisc.edu  Mon Jan 22 10:43:38 2001
Received: from franz.stat.wisc.edu (franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id KAA09043
	for <r-bugs@biostat.ku.dk>; Mon, 22 Jan 2001 10:43:37 +0100 (MET)
Received: from mail.psy.uva.nl (really [145.18.113.16]) by franz.stat.wisc.edu
	via in.smtpd with esmtp
	id <m14KdVr-000IWyC@franz.stat.wisc.edu> (Debian Smail3.2.0.102)
	for <r-bugs@r-project.org>; Mon, 22 Jan 2001 03:43:47 -0600 (CST) 
Received: from rea2205 (rea2205.psy.uva.nl [145.18.152.205])
	by mail.psy.uva.nl (8.9.3/8.9.3) with SMTP id KAA21513
	for <r-bugs@r-project.org>; Mon, 22 Jan 2001 10:43:45 +0100 (MET)
Message-ID: <008501c08458$5bfc6530$cd981291@psy.uva.nl>
From: "Mark M. Span" <span@psy.uva.nl>
To: <r-bugs@r-project.org>
Subject: interaction.plot
Date: Mon, 22 Jan 2001 10:47:39 +0100
Organization: UvA
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.50.4133.2400
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4133.2400

I notices some indesireable behaviour in interaction.plot. The scaling of
the x-axis labels discards the overall settings for the 'cex' attribute,
leading to unscaled labels. The source for this behaviour is the line

mtext(xlabs, 1, at = xvals)

in interaction.plot.

to get this function to perform conform the manual, change this line to

mtext(xlabs, 1, at = xvals, cex=par("cex"))

and all is well.

because of the simplicity of this 'fix' I assume that it is a crossplatform
thingie, but for the record:

I use R-Win in winNT, 1.2.0, upgrading soon.

just my .02 euro..

I'll just end this mail with a standard declaration of love for R

greetz. Mark M. Span


==> 820.audit <==
Thu Jan 25 00:05:53 2001	ripley	moved from incoming to Graphics
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 816 *
Subject: dotplot: character size of labels
From: RINNER Heinrich <H.RINNER@TIROL.GV.AT>
Date: Thu, 18 Jan 2001 14:54:32 +0100
--Suggested fix will work (and spaces for labels will be fine), but there is a
--deeper problem:  mtext() ignores par(cex=.5) in general.  
--To see the problem try:  par(cex=.5); mtext("hi")
--I think the right fix is to change the argument list for mtext so that
--cex=par(cex) by default rather than cex=NA by default (plus corresponding
--internal changes to  do_mtext in plot.c).
--This needs to be done very carefully because (i) the change suggested above may
--have side-effects in many other pieces of interpreted code (ii) do_mtext ignores
--
--dd->gp.cexbase unlike, for example, do_plot_xy and anything to do with cexbase
--needs extreme care.
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 816 <==
From postmaster@franz.stat.wisc.edu  Thu Jan 18 16:57:16 2001
Received: from franz.stat.wisc.edu (franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id QAA13627
	for <r-bugs@biostat.ku.dk>; Thu, 18 Jan 2001 16:57:15 +0100 (MET)
Received: from ingw1.tirol.gv.at (really [212.183.27.1]) by franz.stat.wisc.edu
	via in.smtpd with esmtp
	id <m14JHRE-000IWyC@franz.stat.wisc.edu> (Debian Smail3.2.0.102)
	for <r-bugs@r-project.org>; Thu, 18 Jan 2001 09:57:24 -0600 (CST) 
Received: from xms.tirol.gv.at (xms.tirol.gv.at [10.11.128.200])
	by ingw1.tirol.gv.at (Mailer) with ESMTP id 22ADE2825
	for <r-bugs@r-project.org>; Thu, 18 Jan 2001 14:49:47 +0100 (NFT)
Received: from xms.tirol.gv.at (unverified) by xms.tirol.gv.at
 (Content Technologies SMTPRS 4.1.5) with ESMTP id <T0a0b80c8512ecf1400@xms.tirol.gv.at> for <r-bugs@r-project.org>;
 Thu, 18 Jan 2001 14:54:33 +0100
Received: by xms.tirol.gv.at with Internet Mail Service (5.5.2650.21)
	id <CLGLQ6B7>; Thu, 18 Jan 2001 14:54:33 +0100
Message-ID: <C4D44AB4CB62D311BA6500041202E8862640F8@xms1.tirol.gv.at>
From: RINNER Heinrich <H.RINNER@TIROL.GV.AT>
To: "'r-bugs@r-project.org'" <r-bugs@r-project.org>
Subject: dotplot: character size of labels
Date: Thu, 18 Jan 2001 14:54:32 +0100
Return-Receipt-To: RINNER Heinrich <H.RINNER@TIROL.GV.AT>
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-MIME-Autoconverted: from quoted-printable to 8bit by pubhealth.ku.dk id QAA13627

There seems to be a bug in "dotplot" concerning the "cex" parameter. Setting
cex has no effect on the character size of the labels of the points.
This problem was posted to r-help today (Thu, 18 Jan 2001); the solution
given by Brian Ripley (and Uwe Ligges) seems to work for me.

Heinrich Rinner.
 
> version
         _              
platform i386-pc-mingw32
arch     x86            
os       Win32          
system   x86, Win32     
status                  
major    1              
minor    2.0            
year     2000           
month    12             
day      15             
language R              

> ----------
> Von: 	Prof Brian Ripley[SMTP:ripley@stats.ox.ac.uk]
> Gesendet: 	Donnerstag, 18. Jänner 2001 10:35
> An: 	RINNER Heinrich
> Cc: 	'r-help@stat.math.ethz.ch'
> Betreff: 	Re: [R] dotplot: character size of labels
> 
> On Thu, 18 Jan 2001, RINNER Heinrich wrote:
> 
> > Dear R users,
> >
> > using dotplot (R1.2.0, WinNT4.0), I am trying to change the character
> size
> > of the labels of the points:
> >
> > > # example
> > > data(VADeaths)
> > > dotplot(VADeaths, main = "Death Rates in Virginia - 1940")
> > > # I'd like to have smaller character size of the labels (for age and
> > population groups)
> > > ?dotplot
> > > # for argument "cex", this says: "Setting cex to a value smaller than
> one
> > can be a useful way of avoiding label overlap."
> > > dotplot(VADeaths, main = "Death Rates in Virginia - 1940", cex = 0.5)
> > > # the main title and the plotting characters are smaller now, but not
> the
> > labels
> > > # trying to set other graphics parameters seems to have no effect:
> > > dotplot(VADeaths, main = "Death Rates in Virginia - 1940", cex.axis =
> 0.5)
> > > dotplot(VADeaths, main = "Death Rates in Virginia - 1940", cex.lab =
> 0.5)
> >
> > I'd be grateful for any hint how to do this correctly;
> 
> Looks like a bug. Inside dotplot alter to
> 
>         for (i in 1:n) mtext(labs[i], side = 2, line = loffset,
>             at = y[i], adj = 0, col = color, las = 2, cex = cex, ...)
> 
>         for (i in 1:nlevels(groups)) mtext(glabels[i], side = 2,
>             line = goffset, at = gpos[i], adj = 0, col = gcolor,
>             las = 2, cex = cex, ...)
> 
> However, it really needs more than that to calculate the spaces for the
> labels correctly.
> 
> 
> -- 
> Brian D. Ripley,                  ripley@stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 

==> 816.audit <==
Sat Jan 20 10:24:14 2001	ripley	moved from incoming to Graphics
Tue Jan 23 03:38:23 2001	paul	changed notes
Tue Jan 23 03:38:23 2001	paul	foobar
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Directory:  In-Out

* PR# 814 *
Subject: Memory problem ?
From: Zoltan Barta <Z.Barta@bristol.ac.uk>
Date: Mon, 15 Jan 2001 09:54:16 +0000 (GMT Standard Time)
--scan crashes R on Linux: a memory allocation problem, probably
--Uses n= or nlines= in scan will use less memory, and read.table does.
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 814 <==
From Z.Barta@bristol.ac.uk  Mon Jan 15 10:57:51 2001
Received: from dire.bris.ac.uk (dire.bris.ac.uk [137.222.10.60])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id KAA22984
	for <r-bugs@biostat.ku.dk>; Mon, 15 Jan 2001 10:57:51 +0100 (MET)
Received: from elios.maths.bris.ac.uk. (actually host elios.maths.bris.ac.uk) 
          by dire.bris.ac.uk with SMTP-PRIV with ESMTP;
          Mon, 15 Jan 2001 09:57:48 +0000
Received: from maths-pc80.maths.bris.ac.uk (pc80 [137.222.80.122])	by elios.maths.bris.ac.uk. (8.8.8/8.8.5) 
          with SMTP id JAA07514	for <r-bugs@biostat.ku.dk>;
          Mon, 15 Jan 2001 09:54:16 GMT
From: Zoltan Barta <Z.Barta@bristol.ac.uk>
Sender: Z.Barta@bristol.ac.uk
To: r-bugs@biostat.ku.dk
Subject: Memory problem ?
Message-ID: <SIMEON.10101150916.A@maths-pc80.bristol.ac.uk>
Date: Mon, 15 Jan 2001 09:54:16 +0000 (GMT Standard Time)
Priority: NORMAL
X-Mailer: Simeon for Win32 Version 4.1.5 Build (43)
X-Authentication: none
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; CHARSET=US-ASCII



Dear R-developers,

I have the following problem with R: When I try to scan a big file R
is sometimes killed by the operation system (after spinning the hard
disk for 10 minutes or so) or sometimes my X Window collapses. This
problem occurs only if I have many applications (e.g. Emacs, 
gnumeric, two gv, netscape) open at the same
time. On the other hand, if I use read.table() R reads the file without
problems even if many applications also open. 

I do not know whether this is a bug or I do something wrong. Please
let me know what is the case.

The details are given below. Please do not hesitate to contact me if
you need more information.


Many thanks,


Zoltan Barta



The details:

> version
         _                
platform i386-pc-linux-gnu
arch     i386             
os       linux-gnu        
system   i386, linux-gnu  
status                    
major    1                
minor    2.0              
year     2000             
month    12               
day      15               
language R                
> source("../moult/R/O.dat.R")
> F12 <- O.dat("food12")
Read 92669 lines
Killed

The file O.dat.R:
O.dat <- function(nev){
  f.nev <- paste(nev,".dat",sep="");
  what.l <- list(year=numeric(),week=numeric(),bird=numeric(),
                 event=character(),moult=character(),action=character(),
                 res=numeric(),fea1=numeric(),ml1=numeric(),brood=numeric(),
                 exper=numeric(),loc=numeric(),uval=numeric());
  data.frame(scan(f.nev,what=what.l,skip=1));
}


The first ten rows of the file "food12.dat":
year	week	bird	event	moult	action	res	fea1	ml1	brood	exper	loc	uval
0	15	0	SUBST	NOMOULT	DELAY	5	10	0	0	0	1	0.347214
0	15	1	SUBST	NOMOULT	DELAY	5	10	0	0	0	1	0.347214
0	15	2	SUBST	NOMOULT	DELAY	5	10	0	0	0	1	0.347214
0	15	3	SUBST	NOMOULT	DELAY	5	10	0	0	0	1	0.347214
0	15	4	SUBST	NOMOULT	DELAY	5	10	0	0	0	1	0.347214
0	15	5	SUBST	NOMOULT	DELAY	5	10	0	0	0	1	0.347214
0	15	6	SUBST	NOMOULT	DELAY	5	10	0	0	0	1	0.347214
0	15	7	SUBST	NOMOULT	DELAY	5	10	0	0	0	1	0.347214
0	15	8	SUBST	NOMOULT	DELAY	5	10	0	0	0	1	0.347214

the file contains lines of similar data and it is generated by a Monte Carlo
simulation. 

My system:
Debian GNU/Linux 2.2 (potato)
Kernel 2.2.15
libc6 2.2-4
Memory: 60 MB
Swap 72 MB







==> 814.audit <==
Sat Jan 20 10:23:59 2001	ripley	changed notes
Sat Jan 20 10:23:59 2001	ripley	foobar
Sat Jan 20 10:23:59 2001	ripley	moved from incoming to In-Out
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Directory:  Installation

* PR# 806 *
Subject: configure error on alpha
From: Richard Beare <Richard.Beare@cmis.CSIRO.AU>
Date: Wed, 10 Jan 2001 16:52:58 +1100
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 806 <==
From postmaster@franz.stat.wisc.edu  Wed Jan 10 06:52:58 2001
Received: from franz.stat.wisc.edu (franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id GAA02523
	for <r-bugs@biostat.ku.dk>; Wed, 10 Jan 2001 06:52:57 +0100 (MET)
Received: from snowy.nsw.cmis.CSIRO.AU (really [130.155.16.108]) by franz.stat.wisc.edu
	via in.smtpd with esmtp
	id <m14GEC5-000IXTC@franz.stat.wisc.edu> (Debian Smail3.2.0.102)
	for <r-bugs@r-project.org>; Tue, 9 Jan 2001 23:53:09 -0600 (CST) 
Received: by snowy.nsw.cmis.CSIRO.AU (SMI-8.6/SMI-SVR4)
	id QAA17231; Wed, 10 Jan 2001 16:53:03 +1100
Received: from bondi.nsw.cmis.CSIRO.AU(130.155.16.118), claiming to be "cmis.csiro.au"
 via SMTP by snowy.nsw.cmis.CSIRO.AU, id smtpdAAAa004DA; Wed Jan 10 16:52:59 2001
Sender: Richard.Beare@cmis.CSIRO.AU
Message-ID: <3A5BF8BA.7875F92C@cmis.csiro.au>
Date: Wed, 10 Jan 2001 16:52:58 +1100
From: Richard Beare <Richard.Beare@cmis.CSIRO.AU>
Organization: CSIRO Mathematical and Information Sciences
X-Mailer: Mozilla 4.7 [en] (X11; I; OSF1 V4.0 alpha)
X-Accept-Language: en
MIME-Version: 1.0
To: r-bugs@r-project.org
Subject: configure error on alpha
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit


Hi, 

I've found that the default options of gcc and g77 on alpha produce an
executable that suffers from floating exceptions. There seems to be a
problem with the configure scripts that prevents the --with-f77 option
working correctly. The configure script tests that f77 is running by
attempting to compile and link a dummy program - the link step seems
broken on the alpha (it doesn't like the command 

f77 -o conftest conftest.f -L/usr/local/lib

The command works fine without the -L switch.

)

my workaround was to remove $LIBS from the line
ac_link='${F77-f77} -o conftest${ac_exeext} $FFLAGS $LDFLAGS
conftest.$ac_ext $L
IBS 1>&5'

but a better alternative may be to just use the fortran compiler to
produce an object file rather than an executable.

R configured using the following options passes "make test"

R is now configured for alphaev56-dec-osf4.0d

  Source directory:          .
  Installation directory:    /usr/local/R
  C compiler:                cc  -ieee_with_inexact -std1 -g
  C++ compiler:              c++  -g -O2
  FORTRAN compiler:          f77  -fpe3 -g

  X11 support:               yes
  Gnome support:             no
  Tcl/Tk support:            no

  R profiling support:       yes
  R as a shared library:     no



--please do not edit the information below--

Version:
 platform = alphaev56-dec-osf4.0d
 arch = alphaev56
 os = osf4.0d
 system = alphaev56, osf4.0d
 status = 
 major = 1
 minor = 2.0
 year = 2000
 month = 12
 day = 15
 language = R

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base

-- 
Richard Beare, CSIRO Mathematical & Information Sciences
Locked Bag 17, North Ryde, NSW 1670, Australia
Phone: +61-2-93253221 (GMT+~10hrs)  Fax: +61-2-93253200

Richard.Beare@cmis.csiro.au

==> 806.audit <==
Sat Jan 13 18:44:20 2001	ripley	moved from incoming to Installation
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Directory:  Language

* PR# 813 *
Subject: match.call problem
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 12 Jan 2001 17:46:15 +0100
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 813 <==
From postmaster@franz.stat.wisc.edu  Fri Jan 12 17:46:04 2001
Received: from franz.stat.wisc.edu (franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id RAA09757
	for <r-bugs@biostat.ku.dk>; Fri, 12 Jan 2001 17:46:04 +0100 (MET)
Received: from pubhealth.ku.dk (really [130.225.108.10]) by franz.stat.wisc.edu
	via in.smtpd with esmtp
	id <m14H7LE-000IWyC@franz.stat.wisc.edu> (Debian Smail3.2.0.102)
	for <r-bugs@r-project.org>; Fri, 12 Jan 2001 10:46:16 -0600 (CST) 
Received: from biostat.ku.dk (blueberry [130.225.108.193])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id RAA09753
	for <r-bugs@r-project.org>; Fri, 12 Jan 2001 17:45:20 +0100 (MET)
Received: (from pd@localhost)
	by biostat.ku.dk (8.9.3/8.9.3) id RAA12842;
	Fri, 12 Jan 2001 17:46:16 +0100
Sender: pd@blueberry.kubism.ku.dk
To: r-bugs@r-project.org
Subject: match.call problem
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 12 Jan 2001 17:46:15 +0100
Message-ID: <x2lmsgvhuw.fsf@blueberry.kubism.ku.dk>
Lines: 62
X-Mailer: Gnus v5.7/Emacs 20.7
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit


Previously reported by Martin as a plot.formula issue, but I believe
it boils down to this:

> f <- function(x,...)match.call(expand.dots=FALSE)
> g <- function(x,y=2,...)f(x,y=y,...)
> g(1)
f(x = x, ... = list(y = y, ...))
> g(1,b=2) 
f(x = x, ... = list(y = y, b = 2))
> g(1,y=2)
f(x = x, ... = list(y = y, ...))

Notice that ... appears if all actual arguments to g are matched in
the call to f. This is the *name* "..." as in as.name("..."). I would
have expected just ... = list(y = y) in those cases.

Simpler

> f <- function(x,...)match.call(expand.dots=FALSE)
> g <- function(x,...)f(x,...)
> g(1)
f(x = x, ... = list(...))
> g(1,2)
f(x = x, ... = list(..1 = 2))
> g(1,a=2)
f(x = x, ... = list(a = 2))

or yet again simpler

> f <- function(...)match.call(expand.dots=FALSE)
> g <- function(...)f(...)
> g(1)
f(... = list(..1 = 1))
> g()
f(... = list(...))
> f()
f()


For comparison, Splus 3.4 has this kind of stuff:

> f <- function(...)match.call(expand.dots=FALSE)
> g <- function(...)f(...)
> g()
f(... = list())
> f()
f(... = list())
> g(1)
f(... = list(1))
> g(a=1)  
f(... = list(a = 1))

I don't see why we don't do the same (although given differences in
lazy evaluation, there might be a point to it), but just getting rid
of the ... in the lists would help quite a bit.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

==> 813.audit <==
Sat Jan 13 18:52:20 2001	ripley	moved from incoming to Language
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 669 *
Subject: Bug(s) w/ rbind.data.frame(); fix also read.table(*, as.is = TRUE) ?
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Mon, 25 Sep 2000 10:17:15 +0200
--status of AsIs columns
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 669 <==
From maechler@stat.math.ethz.ch  Mon Sep 25 10:17:01 2000
Received: from stat.math.ethz.ch (daemon@hypatia.ethz.ch [129.132.58.23])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id KAA01907
	for <R-bugs@biostat.ku.dk>; Mon, 25 Sep 2000 10:17:01 +0200 (MET DST)
Received: (from daemon@localhost)
	by stat.math.ethz.ch (8.9.1/8.9.1) id KAA07627
	for <R-bugs@stat.math.ethz.ch>; Mon, 25 Sep 2000 10:17:19 +0200 (MET DST)
Received: from lynne(129.132.58.30), claiming to be "lynne.ethz.ch"
 via SMTP by hypatia, id smtpdAAAa001r9; Mon Sep 25 10:17:15 2000
Received: (maechler@localhost) by lynne.ethz.ch (8.9.3/D-MATH-client) id KAA01475; Mon, 25 Sep 2000 10:17:15 +0200
X-Authentication-Warning: lynne.ethz.ch: maechler set sender to maechler@stat.math.ethz.ch using -f
From: Martin Maechler <maechler@stat.math.ethz.ch>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <14799.2571.494467.836722@gargle.gargle.HOWL>
Date: Mon, 25 Sep 2000 10:17:15 +0200
To: R-bugs@stat.math.ethz.ch
Subject: Bug(s) w/ rbind.data.frame(); fix also read.table(*, as.is = TRUE) ?
X-Mailer: VM 6.76 under Emacs 20.7.1
Reply-To: Martin Maechler <maechler@stat.math.ethz.ch>

This is not only bug report, but also a RFC (request for comments):

The basic problem is that there are (at least) two ways of easily getting
non-factor character columns in data.frames.
The first is  
    read.table(*, as.is = TRUE) 
and the second is
    data.frame(.., I(...), ..)	      

which differ in their result. Whereas the first produces `pure' character
columns in the data.frame, the second approach gives `AsIs' classed
columns (character, or, e.g. logical).

Now, as the following shows,  rbind.data.frame()  *is* buggy anyway,
I wonder if we shouldn't change read.table(*, as.is = TRUE)
such that the non-numeric columns of its result become "AsIs" classed as
well:

-----------

str(d1 <- data.frame(a=1:3, b = I(letters[1:3])))
## d1 is `alright'
## d0: The same but a `character' *not* protected by AsIs:
d0 <- d1
d0$b <- unclass(d0$b)
str(d0)
## Note that this is *really* the same as a what you get from
##  read.table(*, as.is = TRUE)
##  ----------
##  R's read.table() is S+ compatible; however I wonder if
##  we shouldn't add  "AsIs" classes to all non-numeric components...
##  the classes, shouldn't harm, but ensure consistency of treatment..

str(d11 <- rbind(d1, new = c(7, "N"))) ## alright
str(d01 <- rbind(d0, new = c(7, "N"))) ## all wrong :
## Both columns were coerced to factors !!
##-- S-PLUS 5 coerces both to "character" -- which is better,
##  since the new row *is* all character

## R makes nonsense with 'b' [factor w/ 1 level "N": NA NA NA 1]
## S+ 5.1 does exactly the right thing [both a & b still look like in d0,d1 :
str(d12 <- rbind(d1, new = data.frame(a= 7, b="N")))##
str(d02 <- rbind(d0, new = data.frame(a= 7, b="N")))##

---------

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><

==> 669.audit <==
Wed Oct 25 20:31:21 2000	ripley	changed notes
Wed Oct 25 20:31:21 2000	ripley	foobar
Wed Oct 25 20:31:21 2000	ripley	moved from incoming to Language
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 412 *
Subject: anomalies with call objects
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 06 Feb 2000 01:18:50 +0100
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 412 <==
From postmaster@franz.stat.wisc.edu  Sun Feb  6 01:16:33 2000
Received: from stat.math.ethz.ch (daemon@hypatia.ethz.ch [129.132.58.23])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id BAA26868
	for <R-bugs@biostat.ku.dk>; Sun, 6 Feb 2000 01:16:31 +0100 (MET)
Received: (from daemon@localhost)
	by stat.math.ethz.ch (8.9.1/8.9.1) id BAA18080
	for <r-bugs@hypatia.math.ethz.ch>; Sun, 6 Feb 2000 01:16:38 +0100 (MET)
Received: from franz.stat.wisc.edu(128.105.174.95)
 via SMTP by hypatia, id smtpdAAAa004QS; Sun Feb  6 01:16:33 2000
Received: from pubhealth.ku.dk (really [130.225.108.10]) by franz.stat.wisc.edu
	via smail with esmtp
	id <m12HFNP-000ZSxC@franz.stat.wisc.edu> (Debian Smail3.2.0.102)
	for <r-bugs@r-project.org>; Sat, 5 Feb 2000 18:16:31 -0600 (CST) 
Received: from biostat.ku.dk (blueberry [130.225.108.193])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id BAA26864
	for <r-bugs@r-project.org>; Sun, 6 Feb 2000 01:16:18 +0100 (MET)
Received: (from pd@localhost)
	by biostat.ku.dk (8.9.3/8.9.3) id BAA12311;
	Sun, 6 Feb 2000 01:18:51 +0100
Sender: pd@blueberry.kubism.ku.dk
To: r-bugs@r-project.org
Subject: anomalies with call objects
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 06 Feb 2000 01:18:50 +0100
Message-ID: <x2900zyyhh.fsf@blueberry.kubism.ku.dk>
Lines: 51
X-Mailer: Gnus v5.7/Emacs 20.4
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit


Call objects don't always behave as you'd expect. They're mostly
list-like, but with exceptions:

> f<-function(x,y,...)match.call(expand.dots=FALSE)
> xx <- f(y=1,2,z=3,4)
> dd <- xx$...
> xx$... <- NULL
> c(xx,dd)
[[1]]
f(x = 2, y = 1)

$z
[1] 3

[[3]]
[1] 4

> as.call(c(as.list(xx),dd))
f(x = 2, y = 1, z = 3, 4)

(Splus has this rather differently, since dd becomes a call to list()
rather than a list of promises:

S> c(xx,dd)
f(x = 2, y = 1, list, z = 3, 4)
S> as.call(c(as.list(xx),dd))
f(x = 2, y = 1, list, z = 3, 4)

...but at least gives the same in both cases)

Also, the names of arguments added with [[<- is getting dropped if a
new element is required:

> xx[["abc"]]<-123
> xx
f(x = 2, y = 1, 123)

S has what I'd expect there:

S> xx[["abc"]]<-123
S> xx
f(x = 2, y = 1, abc = 123)

[R-0.99.0 prerelease on RedHat6.1, but this is likely not a new thing.]

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

==> 412.audit <==
Wed Feb 16 19:26:57 2000	ripley	moved from incoming to Language
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 408 *
Subject: convolution bug
From: wsimpson@gcal.ac.uk
Date: Fri, 28 Jan 2000 11:17:36 +0100 (MET)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 408 <==
From wsimpson@gcal.ac.uk  Fri Jan 28 11:17:36 2000
Received: from localhost (blueberry [130.225.108.193])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id LAA11325
	for <R-bugs@biostat.ku.dk>; Fri, 28 Jan 2000 11:17:36 +0100 (MET)
Date: Fri, 28 Jan 2000 11:17:36 +0100 (MET)
From: wsimpson@gcal.ac.uk
Message-Id: <200001281017.LAA11325@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: convolution bug

Full_Name: Bill Simpson
Version: 65.1 , 0.90.1
OS: Linux
Submission from: (NULL) (193.62.250.209)


I reported this on r-help, but here is official bug report.

The present convolve() does not do convolution by default. Its default behaviour
is
correlation. This is a bug.

The default argument conj should be set to FALSE.

The zero-padding should be on the right for linear convolution (don't ask me
why you call this type="open"; I suggest type="linear").

Here is what I expect linear convolution to do:
myconvolve<-function (x,h) 
{
    nx <- length(x)
    nh <- length(h)
    #zero pad
    if(nx>nh)
       {
       x <- c(x,rep(0, nh-1))
       h<-c(h,rep(0,nx-1))
       }
    else
       {
       h <- c(h,rep(0, nx-1))
       x<-c(x,rep(0,nh-1))
       }
    x <- fft(fft(x) * fft(h), inv = TRUE)
    Re(x)/length(x)
#I am not sure about this, the R IFFT is weird
}

What "circular" convolution should do is just
eliminate the zero-padding:

myconvolve2<-function (x,h)
{
#no padding, circular convolution
    nx <- length(x)
    nh <- length(h)
    x <- fft(fft(x) * fft(h), inv = TRUE)
    Re(x)/(nx)
}


I suggest that you create two functions, convolve() and correlate(), and get
rid
of the conj argument in convolve().

==> 408.audit <==
Wed Feb 16 19:28:42 2000	ripley	moved from incoming to Language
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Directory:  Low-level

* PR# 505 *
Subject: interrupted save 
From: Thomas Lumley <thomas@biostat.washington.edu>
Date: Sat, 25 Mar 2000 12:16:50 -0800 (PST)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 505 <==
From thomas@biostat.washington.edu  Sat Mar 25 21:16:39 2000
Received: from mail.biostat.washington.edu (mail.biostat.washington.edu [128.95.113.21])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id VAA08785
	for <R-bugs@biostat.ku.dk>; Sat, 25 Mar 2000 21:16:38 +0100 (MET)
Received: from mail.biostat.washington.edu (mail.biostat.washington.edu [128.95.113.21])
	by mail.biostat.washington.edu (8.9.3+Sun/8.9.1-fetrow-99-05-16b) with ESMTP id MAA24561
	for <R-bugs@biostat.ku.dk>; Sat, 25 Mar 2000 12:16:50 -0800 (PST)
Date: Sat, 25 Mar 2000 12:16:50 -0800 (PST)
From: Thomas Lumley <thomas@biostat.washington.edu>
To: R-bugs@biostat.ku.dk
Subject: interrupted save 
In-Reply-To: <Pine.GSO.4.21.0003251204350.22429-100000@mail.biostat.washington.edu>
Message-ID: <Pine.GSO.4.21.0003251207350.22429-100000@mail.biostat.washington.edu>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII


If an error occurs during a save the file does not appear to be
closed and buffers flushed.  This can lead to corruption if the same
filename is used later and then the buffer is flushed on program exit.

For example, tn the context of PR #504

 f<-function(x,...){ function(y) list(x=x,y=y,...)}
 a<-f(1,2,3)
 save(list="a",file="a.rdata")  ## -- error --
 b<-1:10
 save(list="b",file="a.rdata")
 load("a.rdata")  ## works
 q("no")
 
 R

 load("a.rdata")  ## error



This is R1.0 on Linux

	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle


==> 505.audit <==
Thu Apr 13 06:21:36 2000	ripley	moved from incoming to Low-level
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Directory:  Misc

none

Directory:  Models

none

Directory:  Startup

* PR# 486 *
Subject: Re: autoload error in profile {was anova-bug in R-version  1.0.0?}
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Tue, 14 Mar 2000 10:32:43 +0100 (MET)
--workaround to the origin problem in 1.0.1
--New report: try does not work from the profile.
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 486 <==
From maechler@stat.math.ethz.ch  Tue Mar 14 10:32:36 2000
Received: from stat.math.ethz.ch (daemon@hypatia.ethz.ch [129.132.58.23])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id KAA17249
	for <R-bugs@biostat.ku.dk>; Tue, 14 Mar 2000 10:32:35 +0100 (MET)
Received: (from daemon@localhost)
	by stat.math.ethz.ch (8.9.1/8.9.1) id KAA21252;
	Tue, 14 Mar 2000 10:32:48 +0100 (MET)
Received: from lynne(129.132.58.30), claiming to be "lynne.ethz.ch"
 via SMTP by hypatia, id smtpdAAAa005C1; Tue Mar 14 10:32:44 2000
Received: (maechler@localhost) by lynne.ethz.ch (8.9.3/D-MATH-client) id KAA03934; Tue, 14 Mar 2000 10:32:44 +0100
X-Authentication-Warning: lynne.ethz.ch: maechler set sender to maechler@stat.math.ethz.ch using -f
From: Martin Maechler <maechler@stat.math.ethz.ch>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <14542.1851.731086.380@lynne.ethz.ch>
Date: Tue, 14 Mar 2000 10:32:43 +0100 (MET)
To: Prof Brian D Ripley <ripley@stats.ox.ac.uk>
Cc: R-bugs@stat.math.ethz.ch
Subject: Re: autoload error in profile {was anova-bug in R-version  1.0.0?}
 (PR#470)
In-Reply-To: <Pine.GSO.4.05.10003071100180.20079-100000@auk.stats>
References: <14532.56910.278837.379365@lynne.ethz.ch>
	<Pine.GSO.4.05.10003071100180.20079-100000@auk.stats>
X-Mailer: VM 6.75 under Emacs 20.6.1
Reply-To: Martin Maechler <maechler@stat.math.ethz.ch>

>>>>> "BDR" == Prof Brian D Ripley <ripley@stats.ox.ac.uk> writes:

    BDR> On Tue, 7 Mar 2000, Martin Maechler wrote:
    >> >>>>> "BDR" == Prof Brian D Ripley <ripley@stats.ox.ac.uk> writes:
    >> 
    BDR> On Tue, 7 Mar 2000, Trenkler, Dietrich wrote:
    >> >> I think I've discovered what went wrong.
    >> >> 
    >> >> My workspace included a function wilcox.test formerly copied from
    >> >> ctest. Now ctest ist part of the distribution and because of that I
    >> >> always got the message:
    >> >> 
    >> >> [Previously saved workspace restored]
    >> >> 
    >> >> Error in autoload("wilcox.test", "ctest") :
    >> >> Object already exists
    >> >> 
    >> >> I didn't take care of this message. Now I removed wilcox.test, saved
    >> >> the WS, restarted R without the vanilla-option and alas, anova
    >> >> now works.
    >> >> 
    >> >> It seems that R stops initializing after encountering the error
    >> >> mentioned above. Is this correct?   
    >> 
    BDR> Yes, in that the rest of the system Rprofile file is skipped
    BDR> and hence options show.signif.stars and show.coef.Pvalues are not set.
    >> but other options as well..
    >> I think this shouldn't happen and *is* a bug.

    BDR> It looks to me as if a bit more protection is needed in print.coefmat,
    BDR> at least.

	 which Brian has implemented in the mean time.

	 ....

    >> For the 1.0.x patches, at least, I'll move the autoload()'s to the end of
    >> profile/Common.R

    BDR> I _think_ they should have try() around them, which is what S-PLUS 
    BDR> now does with all startup code.

I tried this, but it does not work :

try(autoload(..)) works okay when used after startup, but not *during*
startup.  However, I'll put a workaround into Common.R

Should this {try(.) not working during startup} be another bug report ?

Martin

==> 486.audit <==
Sat Mar 25 09:44:47 2000	maechler	moved from incoming to Startup
Sat Apr 08 07:41:36 2000	ripley	changed notes
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Directory:  System-specific

* PR# 822 *
Subject: Re: Sys.time dumps core at start-up
From: Peter Kleiweg <kleiweg@let.rug.nl>
Date: Tue, 23 Jan 2001 19:56:32 +0100 (CET)
--part of 821
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 822 <==
From postmaster@franz.stat.wisc.edu  Tue Jan 23 19:56:24 2001
Received: from franz.stat.wisc.edu (franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id TAA29852
	for <r-bugs@biostat.ku.dk>; Tue, 23 Jan 2001 19:56:23 +0100 (MET)
Received: from kleigh.nl (really [129.125.8.138]) by franz.stat.wisc.edu
	via in.smtpd with esmtp (ident peter using rfc1413)
	id <m14L8cN-000IWyC@franz.stat.wisc.edu> (Debian Smail3.2.0.102)
	for <r-bugs@r-project.org>; Tue, 23 Jan 2001 12:56:35 -0600 (CST) 
Received: from localhost (peter@localhost)
	by kleigh.nl (8.8.7/8.8.7) with ESMTP id TAA01554
	for <r-bugs@r-project.org>; Tue, 23 Jan 2001 19:56:32 +0100
X-Authentication-Warning: kleigh.nl: peter owned process doing -bs
Date: Tue, 23 Jan 2001 19:56:32 +0100 (CET)
From: Peter Kleiweg <kleiweg@let.rug.nl>
X-Sender: peter@kleigh.nl
To: r-bugs@r-project.org
Subject: Re: Sys.time dumps core at start-up
In-Reply-To: <Pine.LNX.4.21.0101231943020.638-100000@kleigh.nl>
Message-ID: <Pine.LNX.4.21.0101231947170.638-100000@kleigh.nl>
Organization: Alfa-Informatica, Rijksuniversiteit Groningen
X-Alert: http://www.opensource.org/halloween/
X-Face: "K~X:~!ydgSdjNy;]_+BCb\OM^pqyg_q*Le84$l46M\-mL=.^,L4B}bDK>`o#r4_>O*
X-Mailer: Pine 4.21, Linux 2.0.36, i586
X-No-Archive: Yes
X-Reason: http://www.infidels.org/
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

Peter Kleiweg skriver...

> R dumps core if the first command I use is Sys.time():
> 
>     > Sys.time()
>     Segmentation fault (core dumped) 

(peter) ~ R -d gdb

[snip]

GDB 4.16 (i386-redhat-linux), Copyright 1996 Free Software Foundation, Inc...
(gdb) run
Starting program: /usr/local/R/lib/R/bin/R.bin

R : Copyright 2001, The R Development Core Team
Version 1.2.1  (2001-01-15)

[snip]

Type `q()' to quit R.

> Sys.time()

Program received signal SIGSEGV, Segmentation fault.
0x401029ce in strftime () at strftime.c:287
strftime.c:287: No such file or directory.
(gdb)        


-- 
Peter Kleiweg


==> 822.audit <==
Thu Jan 25 00:01:55 2001	ripley	changed notes
Thu Jan 25 00:01:55 2001	ripley	foobar
Thu Jan 25 00:01:55 2001	ripley	moved from incoming to System-specific
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 821 *
Subject: Sys.time dumps core at start-up
From: Peter Kleiweg <kleiweg@let.rug.nl>
Date: Tue, 23 Jan 2001 19:44:28 +0100 (CET)
--See also 822, which shows the segfault is in strftime.c.
--From other correspondence, this is on RH5.0: we can't
--reproduce it on RH6.2 or anywhere else.
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 821 <==
From postmaster@franz.stat.wisc.edu  Tue Jan 23 19:45:14 2001
Received: from franz.stat.wisc.edu (franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id TAA29789
	for <r-bugs@biostat.ku.dk>; Tue, 23 Jan 2001 19:45:13 +0100 (MET)
Received: from kleigh.nl (really [129.125.8.136]) by franz.stat.wisc.edu
	via in.smtpd with esmtp (ident root using rfc1413)
	id <m14L8RY-000IWyC@franz.stat.wisc.edu> (Debian Smail3.2.0.102)
	for <r-bugs@r-project.org>; Tue, 23 Jan 2001 12:45:24 -0600 (CST) 
Received: from localhost (peter@localhost)
	by kleigh.nl (8.8.7/8.8.7) with ESMTP id TAA01266
	for <r-bugs@r-project.org>; Tue, 23 Jan 2001 19:44:28 +0100
X-Authentication-Warning: kleigh.nl: peter owned process doing -bs
Date: Tue, 23 Jan 2001 19:44:28 +0100 (CET)
From: Peter Kleiweg <kleiweg@let.rug.nl>
X-Sender: peter@kleigh.nl
To: r-bugs@r-project.org
Subject: Sys.time dumps core at start-up
Message-ID: <Pine.LNX.4.21.0101231943020.638-100000@kleigh.nl>
Organization: Alfa-Informatica, Rijksuniversiteit Groningen
X-Alert: http://www.opensource.org/halloween/
X-Face: "K~X:~!ydgSdjNy;]_+BCb\OM^pqyg_q*Le84$l46M\-mL=.^,L4B}bDK>`o#r4_>O*
X-Mailer: Pine 4.21, Linux 2.0.36, i586
X-No-Archive: Yes
X-Reason: http://www.infidels.org/
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII


R dumps core if the first command I use is Sys.time():

    > Sys.time()
    Segmentation fault (core dumped) 

This works fine:

    > s <- Sys.time()
    > s
    [1] "2001-01-23 19:38:49 CET"

This works fine too:

    > 1+1
    [1] 2
    > Sys.time()
    [1] "2001-01-23 19:40:56 CET"

--please do not edit the information below--

Version:
 platform = i586-pc-linux-gnu
 arch = i586
 os = linux-gnu
 system = i586, linux-gnu
 status = 
 major = 1
 minor = 2.1
 year = 2001
 month = 01
 day = 15
 language = R

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base

-- 
Peter Kleiweg
http://www.let.rug.nl/~kleiweg/


==> 821.followup.1 <==
From ripley@stats.ox.ac.uk  Tue Jan 23 20:00:04 2001
Received: from toucan.stats.ox.ac.uk (toucan.stats.ox.ac.uk [163.1.20.20])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id UAA29889
	for <R-bugs@biostat.ku.dk>; Tue, 23 Jan 2001 20:00:03 +0100 (MET)
Received: from max102.public.ox.ac.uk (max102.public.ox.ac.uk [192.76.27.102])
	by toucan.stats.ox.ac.uk (8.9.0/8.9.0) with ESMTP id TAA03198;
	Tue, 23 Jan 2001 19:00:09 GMT
Date: Tue, 23 Jan 2001 18:58:51 +0000 (GMT)
From: Prof Brian D Ripley <ripley@stats.ox.ac.uk>
Sender: <ripley@auk.stats>
To: <kleiweg@let.rug.nl>
cc: <R-bugs@biostat.ku.dk>
Subject: Re: [Rd] Sys.time dumps core at start-up (PR#821)
In-Reply-To: <200101231845.TAA29799@pubhealth.ku.dk>
Message-ID: <Pine.GSO.4.31.0101231857580.803-100000@auk.stats>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

On Tue, 23 Jan 2001 kleiweg@let.rug.nl wrote:

>
> R dumps core if the first command I use is Sys.time():
>
>     > Sys.time()
>     Segmentation fault (core dumped)
>
> This works fine:
>
>     > s <- Sys.time()
>     > s
>     [1] "2001-01-23 19:38:49 CET"
>
> This works fine too:
>
>     > 1+1
>     [1] 2
>     > Sys.time()
>     [1] "2001-01-23 19:40:56 CET"

It does not fail on my RH6.2 systems, so can you debug it please?

>
> --please do not edit the information below--
>
> Version:
>  platform = i586-pc-linux-gnu
>  arch = i586
>  os = linux-gnu
>  system = i586, linux-gnu
>  status =
>  major = 1
>  minor = 2.1
>  year = 2001
>  month = 01
>  day = 15
>  language = R
>
> Search Path:
>  .GlobalEnv, package:ctest, Autoloads, package:base
>
> --
> Peter Kleiweg
> http://www.let.rug.nl/~kleiweg/
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


==> 821.audit <==
Thu Jan 25 00:05:20 2001	ripley	changed notes
Thu Jan 25 00:05:20 2001	ripley	foobar
Thu Jan 25 00:05:20 2001	ripley	moved from incoming to System-specific
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 808 *
Subject: Time zone
From: Herve Morin <morin@mat.ulaval.ca>
Date: Wed, 10 Jan 2001 07:24:07 -0500
--This appears to be a complaint about a warning on a beta Mac version
--(but Macs are never mentioned!).  That version is incomplete.
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 808 <==
From postmaster@franz.stat.wisc.edu  Wed Jan 10 13:24:06 2001
Received: from franz.stat.wisc.edu (franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id NAA09028
	for <r-bugs@biostat.ku.dk>; Wed, 10 Jan 2001 13:24:06 +0100 (MET)
Received: from VL-MS-MR001.sc1.videotron.ca (really [24.201.245.36]) by franz.stat.wisc.edu
	via in.smtpd with esmtp
	id <m14GKIa-000IXTC@franz.stat.wisc.edu> (Debian Smail3.2.0.102)
	for <r-bugs@r-project.org>; Wed, 10 Jan 2001 06:24:16 -0600 (CST) 
Received: from [24.202.31.36] ([24.202.31.36]) by
          VL-MS-MR001.sc1.videotron.ca (Netscape Messaging Server 4.15)
          with ESMTP id G6Y54B01.DMK for <r-bugs@r-project.org>; Wed, 10
          Jan 2001 07:24:11 -0500 
Mime-Version: 1.0
X-Sender: morin@archimede.mat.ulaval.ca
Message-Id: <p04320400b682046bf580@[24.200.177.33]>
Date: Wed, 10 Jan 2001 07:24:07 -0500
To: r-bugs@r-project.org
From: Herve Morin <morin@mat.ulaval.ca>
Subject: Time zone
Content-Type: multipart/alternative; boundary="============_-1232993047==_ma============"

--============_-1232993047==_ma============
Content-Type: text/plain; charset="us-ascii" ; format="flowed"

I am using R 1.2.0 on a iBook with system 9.04.

As soon as I open R, I get the following warning:


Warning message:
cannot set timezones on this system
--============_-1232993047==_ma============
Content-Type: text/html; charset="us-ascii"

<!doctype html public "-//W3C//DTD W3 HTML//EN">
<html><head><style type="text/css"><!--
blockquote, dl, ul, ol, li { margin-top: 0 ; margin-bottom: 0 }
 --></style><title>Time zone</title></head><body>
<div>I am using R 1.2.0 on a iBook with system 9.04.</div>
<div><br></div>
<div>As soon as I open R, I get the following warning:</div>
<div><br></div>
<div><br></div>
<div><tt><font size="-2" color="#000000">Warning message:<br>
cannot set timezones on this system</font></tt></div>
</body>
</html>
--============_-1232993047==_ma============--

==> 808.followup.1 <==
From ripley@stats.ox.ac.uk  Wed Jan 10 14:20:23 2001
Received: from toucan.stats.ox.ac.uk (toucan.stats.ox.ac.uk [163.1.20.20])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id OAA10547
	for <R-bugs@biostat.ku.dk>; Wed, 10 Jan 2001 14:20:22 +0100 (MET)
Received: from localhost (ripley@localhost)
	by toucan.stats.ox.ac.uk (8.9.0/8.9.0) with ESMTP id NAA08530;
	Wed, 10 Jan 2001 13:20:33 GMT
X-Authentication-Warning: toucan.stats: ripley owned process doing -bs
Date: Wed, 10 Jan 2001 13:20:33 +0000 (GMT)
From: Prof Brian Ripley <ripley@stats.ox.ac.uk>
X-X-Sender:  <ripley@toucan.stats>
To: <morin@mat.ulaval.ca>
cc: <R-bugs@biostat.ku.dk>
Subject: Re: [Rd] Time zone (PR#808)
In-Reply-To: <200101101224.NAA09038@pubhealth.ku.dk>
Message-ID: <Pine.GSO.4.31.0101101312380.8446-100000@toucan.stats>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

On Wed, 10 Jan 2001 morin@mat.ulaval.ca wrote:

> I am using R 1.2.0 on a iBook with system 9.04.
>
> As soon as I open R, I get the following warning:

> Warning message:
> cannot set timezones on this system

Well, it means what it says. If you don't want to use datetime classes
you can ignore it.  Getting a warning is not a bug, but it happens
because .leap.seconds will be wrong.

I presume you compiled this yourself?  Does `system 9.04' have
support for timezones?  If so you should really try to get this to
work: the code is src/main/datetime.c and relies on setting the
environmental variable TZ by putenv or setenv.  Lots of things will
fail if you don't have those so you do need to try to repair this.

Does example(Sys.putenv) do anything sensible?


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


==> 808.audit <==
Sat Jan 13 18:45:49 2001	ripley	changed notes
Sat Jan 13 18:45:49 2001	ripley	foobar
Sat Jan 13 18:45:49 2001	ripley	moved from incoming to System-specific
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Directory:  TooMuchAtOnce

* PR# 811 *
Subject: problem with strptime example (and mention of bug.report)
From: Stephen Eglen <stephen@anc.ed.ac.uk>
Date: Thu, 11 Jan 2001 19:18:39 GMT
--1) On OSF4, strptime is deficient. Nothing we can do.
--
--2) On Windows NT, the strptime problems are (i) German locale, English dates,
--(ii) Windows system errors with unknown DST (it move times to DST).
--(i) now has another warning in the help file (there already was one).
--(ii) was already worked around for 1.2.1.
--
--3) bug.report() uses a mailer option that does not exist on OSF4.
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 811 <==
From postmaster@franz.stat.wisc.edu  Thu Jan 11 22:22:48 2001
Received: from franz.stat.wisc.edu (franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id WAA26396
	for <r-bugs@biostat.ku.dk>; Thu, 11 Jan 2001 22:22:47 +0100 (MET)
Received: from mango.cns.ed.ac.uk (really [129.215.238.26]) by franz.stat.wisc.edu
	via in.smtpd with esmtp
	id <m14GnFH-000IXTC@franz.stat.wisc.edu> (Debian Smail3.2.0.102)
	for <r-bugs@r-project.org>; Thu, 11 Jan 2001 13:18:47 -0600 (CST) 
Received: (from stephen@localhost)
	by mango.cns.ed.ac.uk (8.9.1/8.9.1) id TAA06239;
	Thu, 11 Jan 2001 19:18:39 GMT
Date: Thu, 11 Jan 2001 19:18:39 GMT
Message-Id: <200101111918.TAA06239@mango.cns.ed.ac.uk>
From: Stephen Eglen <stephen@anc.ed.ac.uk>
To: r-bugs@r-project.org
Subject: problem with strptime example (and mention of bug.report)

Hi,

The help file for strptime has the following code which doesn't work
for me:

     ## read in date info in format `ddmmmyyyy'
     x <- c("1jan1960", "2jan1960", "31mar1960", "30jul1960")
     z <- strptime(x, "%d%b%Y")
> z
[1] "NA" "NA" "NA" "NA"

Do these work for other people?

whereas it works fine if I use a separator (/) in the date@

> strptime("9/Feb/1960", "%d/%b/%Y")
[1] "1960-02-09"

> strptime("9Feb1960", "%d%b%Y")
[1] "NA"

Stephen

p.s. I failed to send this using bug.report(); on DEC OSF/1, "mailx"
does not recognise the -c switch for setting the carbon copy (CC)
field, causing an error.  One solution might be to remove the -c
argument from the cmdarg in bug.rerport(), or put a 
"~c joe@bloggs.com" directive at the end of the file to set the CC field.

--please do not edit the information below--

Version:
 platform = alphaev56-dec-osf4.0f
 arch = alphaev56
 os = osf4.0f
 system = alphaev56, osf4.0f
 status = 
 major = 1
 minor = 2.0
 year = 2000
 month = 12
 day = 15
 language = R

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base


==> 811.followup.1 <==
From ripley@stats.ox.ac.uk  Thu Jan 11 22:54:32 2001
Received: from toucan.stats.ox.ac.uk (toucan.stats.ox.ac.uk [163.1.20.20])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id WAA27090
	for <R-bugs@biostat.ku.dk>; Thu, 11 Jan 2001 22:54:31 +0100 (MET)
Received: from localhost (ripley@localhost)
	by toucan.stats.ox.ac.uk (8.9.0/8.9.0) with ESMTP id VAA05133;
	Thu, 11 Jan 2001 21:54:44 GMT
X-Authentication-Warning: toucan.stats: ripley owned process doing -bs
Date: Thu, 11 Jan 2001 21:54:43 +0000 (GMT)
From: Prof Brian Ripley <ripley@stats.ox.ac.uk>
X-X-Sender:  <ripley@toucan.stats>
To: <stephen@anc.ed.ac.uk>
cc: <R-bugs@biostat.ku.dk>
Subject: Re: [Rd] problem with strptime example (PR#811)
In-Reply-To: <200101112122.WAA26408@pubhealth.ku.dk>
Message-ID: <Pine.GSO.4.31.0101112146290.5126-100000@toucan.stats>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

On Thu, 11 Jan 2001 stephen@anc.ed.ac.uk wrote:

> Hi,
>
> The help file for strptime has the following code which doesn't work
> for me:
>
>      ## read in date info in format `ddmmmyyyy'
>      x <- c("1jan1960", "2jan1960", "31mar1960", "30jul1960")
>      z <- strptime(x, "%d%b%Y")
> > z
> [1] "NA" "NA" "NA" "NA"
>
> Do these work for other people?

Yes, on several platforms.  It will be a problem with your OS's strptime
code.  It must be, I think, as the alternative we supply works.

> whereas it works fine if I use a separator (/) in the date@
>
> > strptime("9/Feb/1960", "%d/%b/%Y")
> [1] "1960-02-09"
>
> > strptime("9Feb1960", "%d%b%Y")
> [1] "NA"

We really do not put out new features without testing them!


>
> Stephen
>
> p.s. I failed to send this using bug.report(); on DEC OSF/1, "mailx"
> does not recognise the -c switch for setting the carbon copy (CC)
> field, causing an error.  One solution might be to remove the -c
> argument from the cmdarg in bug.rerport(), or put a
> "~c joe@bloggs.com" directive at the end of the file to set the CC field.
>
> --please do not edit the information below--
>
> Version:
>  platform = alphaev56-dec-osf4.0f
>  arch = alphaev56
>  os = osf4.0f
>  system = alphaev56, osf4.0f
>  status =
>  major = 1
>  minor = 2.0
>  year = 2000
>  month = 12
>  day = 15
>  language = R
>
> Search Path:
>  .GlobalEnv, package:ctest, Autoloads, package:base
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


==> 811.followup.2 <==
From ligges@statistik.uni-dortmund.de  Fri Jan 12 11:15:33 2001
Received: from nx5.HRZ.Uni-Dortmund.DE (nx5.HRZ.Uni-Dortmund.DE [129.217.131.21])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id LAA02850
	for <R-bugs@biostat.ku.dk>; Fri, 12 Jan 2001 11:15:32 +0100 (MET)
Received: from amadeus.statistik.uni-dortmund.de by nx5.HRZ.Uni-Dortmund.DE
          via smtp-local with ESMTP; Fri, 12 Jan 2001 11:15:34 +0100
Received: from statistik.uni-dortmund.de (hiwi4 [129.217.207.94])
	by amadeus.statistik.uni-dortmund.de (8.9.3+Sun/8.9.3) with ESMTP id LAA13591;
	Fri, 12 Jan 2001 11:15:33 +0100 (MET)
Message-ID: <3A5ED97F.6E808F03@statistik.uni-dortmund.de>
Date: Fri, 12 Jan 2001 11:16:31 +0100
From: Uwe Ligges <ligges@statistik.uni-dortmund.de>
X-Mailer: Mozilla 4.76 [en] (WinNT; U)
X-Accept-Language: en
MIME-Version: 1.0
To: ripley@stats.ox.ac.uk
CC: R-bugs@biostat.ku.dk
Subject: Re: [Rd] problem with strptime example (PR#811)
References: <200101112154.WAA27100@pubhealth.ku.dk>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit


ripley@stats.ox.ac.uk wrote:
> 
> On Thu, 11 Jan 2001 stephen@anc.ed.ac.uk wrote:
> 
> > Hi,
> >
> > The help file for strptime has the following code which doesn't work
> > for me:
> >
> >      ## read in date info in format `ddmmmyyyy'
> >      x <- c("1jan1960", "2jan1960", "31mar1960", "30jul1960")
> >      z <- strptime(x, "%d%b%Y")
> > > z
> > [1] "NA" "NA" "NA" "NA"
> >
> > Do these work for other people?
> 
> Yes, on several platforms.  It will be a problem with your OS's strptime
> code.  It must be, I think, as the alternative we supply works.
> 
> > whereas it works fine if I use a separator (/) in the date@
> >
> > > strptime("9/Feb/1960", "%d/%b/%Y")
> > [1] "1960-02-09"
> >
> > > strptime("9Feb1960", "%d%b%Y")
> > [1] "NA"
> 
> We really do not put out new features without testing them!


Also very strange on WinNT4.0 (R-1.2.0): 


  x <- c("1jan1960", "2jan1960", "31mar1960", "30jul1960")
  z <- strptime(x, "%d%b%Y")
  z
[1] "1960-01-01 01:00:00" "1960-01-02 01:00:00" "NA"                 
"1960-07-30 01:00:00"


Uwe Ligges

==> 811.followup.3 <==
From ripley@stats.ox.ac.uk  Fri Jan 12 11:56:09 2001
Received: from toucan.stats.ox.ac.uk (toucan.stats.ox.ac.uk [163.1.20.20])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id LAA03586
	for <R-bugs@biostat.ku.dk>; Fri, 12 Jan 2001 11:56:09 +0100 (MET)
Received: from localhost (ripley@localhost)
	by toucan.stats.ox.ac.uk (8.9.0/8.9.0) with ESMTP id KAA06620;
	Fri, 12 Jan 2001 10:52:36 GMT
X-Authentication-Warning: toucan.stats: ripley owned process doing -bs
Date: Fri, 12 Jan 2001 10:52:36 +0000 (GMT)
From: Prof Brian Ripley <ripley@stats.ox.ac.uk>
X-X-Sender:  <ripley@toucan.stats>
To: Uwe Ligges <ligges@statistik.uni-dortmund.de>
cc: <R-bugs@biostat.ku.dk>
Subject: Re: [Rd] problem with strptime example (PR#811)
In-Reply-To: <3A5ED97F.6E808F03@statistik.uni-dortmund.de>
Message-ID: <Pine.GSO.4.31.0101121048420.6610-100000@toucan.stats>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

On Fri, 12 Jan 2001, Uwe Ligges wrote:

>
> ripley@stats.ox.ac.uk wrote:
> >
> > On Thu, 11 Jan 2001 stephen@anc.ed.ac.uk wrote:
> >
> > > Hi,
> > >
> > > The help file for strptime has the following code which doesn't work
> > > for me:
> > >
> > >      ## read in date info in format `ddmmmyyyy'
> > >      x <- c("1jan1960", "2jan1960", "31mar1960", "30jul1960")
> > >      z <- strptime(x, "%d%b%Y")
> > > > z
> > > [1] "NA" "NA" "NA" "NA"
> > >
> > > Do these work for other people?
> >
> > Yes, on several platforms.  It will be a problem with your OS's strptime
> > code.  It must be, I think, as the alternative we supply works.
> >
> > > whereas it works fine if I use a separator (/) in the date@
> > >
> > > > strptime("9/Feb/1960", "%d/%b/%Y")
> > > [1] "1960-02-09"
> > >
> > > > strptime("9Feb1960", "%d%b%Y")
> > > [1] "NA"
> >
> > We really do not put out new features without testing them!
>
>
> Also very strange on WinNT4.0 (R-1.2.0):
>
>
>   x <- c("1jan1960", "2jan1960", "31mar1960", "30jul1960")
>   z <- strptime(x, "%d%b%Y")
>   z
> [1] "1960-01-01 01:00:00" "1960-01-02 01:00:00" "NA"
> "1960-07-30 01:00:00"

I don't get the NA. The 1am is a Windows bug: this only happens in
times prior to 1970, which for Windows do not exist.  It seems to assume
that if isdst is non-zero, it is DST, rather than for isdst > 0.
I have a workaround, so for 1.2.1 (on my machines) this will behave as
expected.

The date-time functions do depend on OS functions being correct, and
although I have done a lot of workarounds, no doubt more errors will
emerge.


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


==> 811.audit <==
Sat Jan 13 18:50:59 2001	ripley	changed notes
Sat Jan 13 18:50:59 2001	ripley	foobar
Sat Jan 13 18:50:59 2001	ripley	moved from incoming to TooMuchAtOnce
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Directory:  Windows

none

Directory:  incoming

* PR# 828 *
Subject: termplot fails for composite non-factor terms
From: John Maindonald <john.maindonald@anu.edu.au>
Date: Sat, 27 Jan 2001 11:57:37 +1100 (EST)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 828 <==
From postmaster@franz.stat.wisc.edu  Sat Jan 27 01:57:37 2001
Received: from franz.stat.wisc.edu (franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id BAA07865
	for <r-bugs@biostat.ku.dk>; Sat, 27 Jan 2001 01:57:36 +0100 (MET)
Received: from leonard.anu.edu.au (really [150.203.2.15]) by franz.stat.wisc.edu
	via in.smtpd with esmtp
	id <m14MJgZ-000IWyC@franz.stat.wisc.edu> (Debian Smail3.2.0.102)
	for <r-bugs@r-project.org>; Fri, 26 Jan 2001 18:57:47 -0600 (CST) 
Received: (from u9801539@localhost)
	by leonard.anu.edu.au (8.9.3/8.9.3) id LAA25063
	for r-bugs@r-project.org; Sat, 27 Jan 2001 11:57:37 +1100 (EST)
Date: Sat, 27 Jan 2001 11:57:37 +1100 (EST)
From: John Maindonald <john.maindonald@anu.edu.au>
Message-Id: <200101270057.LAA25063@leonard.anu.edu.au>
To: r-bugs@r-project.org
Subject: termplot fails for composite non-factor terms

I am running R 1.2.1 under Windows 98SE.

termplot() currently fails when there are composite terms, thus:
  > library(mass)
  > data(hills)
  > hills.lm <- lm(time ~ climb + poly(dist, 2), data = hills)
  > termplot(hills.lm)
  Hit <Return> to see next plot: 
  Error in eval(expr, envir, enclos) : Object "dist" not found

The call
  > termplot(hills.lm,data=hills)
does run without generating an error message, i.e. there is a 
problem with the default setting for the parameter 'data'. 
However the x-axis for the term poly(dist,2) is then incorrectly 
labelled as poly(dist,2), rather than dist
The label poly(dist,2) surely belongs as part of the y-axis label.

Here are suggested fixes

1. In the default parameters for the function call change
   data = model.frame(model)
to
   data = get(as.character(model$call$data))

[This does not work if the variable values are specified in the
function call.  It is not clear to me how to fix that.]

2. A few lines from the beginning, replace
    if (is.null(xlabs)) 
        xlabs <- nmt
    if (is.null(ylab)) 
        ylab <- substitute(link(foo), list(foo = formula(model)[[2]]))
with
   if (is.null(xlabs)) 
        xlabs <- unlist(lapply(cn,function(x)
        if(length(x)>1)as.character(x[[2]]) else as.character(x)))
   if (is.null(ylab)) 
        ylab <- paste("Partial for", nmt)

[The current y-label is "link(<yvar>)".  If it is thought necessary
to specify this, it should be additional to e.g., in my example,
"Partial for poly(dist,2)"]

Replace ylab = ylab with 
   ylab = ylab[i]
in the two places (arguments to plot()) where it appears.

John Maindonald               email : john.maindonald@anu.edu.au        
Statistical Consulting Unit,  phone : (6125)3998        
c/o CMA, SMS,                 fax   : (6125)5549  
John Dedman Mathematical Sciences Building
Australian National University
Canberra ACT 0200
Australia

==> 828.followup.1 <==
From tlumley@u.washington.edu  Sat Jan 27 02:08:54 2001
Received: from jason02.u.washington.edu (root@jason02.u.washington.edu [140.142.8.52])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id CAA07896
	for <R-bugs@biostat.ku.dk>; Sat, 27 Jan 2001 02:08:53 +0100 (MET)
Received: from homer06.u.washington.edu (tlumley@homer06.u.washington.edu [140.142.15.40])
	by jason02.u.washington.edu (8.9.3+UW00.05/8.9.3+UW00.12) with ESMTP id RAA28204;
	Fri, 26 Jan 2001 17:09:04 -0800
Received: from localhost (tlumley@localhost)
	by homer06.u.washington.edu (8.9.3+UW00.05/8.9.3+UW00.12) with ESMTP id RAA186066;
	Fri, 26 Jan 2001 17:09:03 -0800
Date: Fri, 26 Jan 2001 17:09:03 -0800 (PST)
From: Thomas Lumley <tlumley@u.washington.edu>
To: john.maindonald@anu.edu.au
cc: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Re: [Rd] termplot fails for composite non-factor terms (PR#828)
In-Reply-To: <200101270057.BAA07875@pubhealth.ku.dk>
Message-ID: <Pine.A41.4.21.0101261704120.21498-100000@homer06.u.washington.edu>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

On Sat, 27 Jan 2001 john.maindonald@anu.edu.au wrote:

> I am running R 1.2.1 under Windows 98SE.
> 
> termplot() currently fails when there are composite terms, thus:
>   > library(mass)
>   > data(hills)
>   > hills.lm <- lm(time ~ climb + poly(dist, 2), data = hills)
>   > termplot(hills.lm)
>   Hit <Return> to see next plot: 
>   Error in eval(expr, envir, enclos) : Object "dist" not found
> 
> The call
>   > termplot(hills.lm,data=hills)
> does run without generating an error message, i.e. there is a 
> problem with the default setting for the parameter 'data'. 
> However the x-axis for the term poly(dist,2) is then incorrectly 
> labelled as poly(dist,2), rather than dist
> The label poly(dist,2) surely belongs as part of the y-axis label.
> 
> Here are suggested fixes
> 
> 1. In the default parameters for the function call change
>    data = model.frame(model)
> to
>    data = get(as.character(model$call$data))
> 
> [This does not work if the variable values are specified in the
> function call.  It is not clear to me how to fix that.]

Also, it does not specify where to get() the data: what environment to
use. The reason that the data= argument is present in termplot() is that
we can't tell where to find the data in general.

The situation is better as of R1.2, since we can look up variables in the
environment of the model formula. This would fix not only termplot() but a
number of other prediction-related problems.


> 2. A few lines from the beginning, replace
>     if (is.null(xlabs)) 
>         xlabs <- nmt
>     if (is.null(ylab)) 
>         ylab <- substitute(link(foo), list(foo = formula(model)[[2]]))
> with
>    if (is.null(xlabs)) 
>         xlabs <- unlist(lapply(cn,function(x)
>         if(length(x)>1)as.character(x[[2]]) else as.character(x)))
>    if (is.null(ylab)) 
>         ylab <- paste("Partial for", nmt)
> 
> [The current y-label is "link(<yvar>)".  If it is thought necessary
> to specify this, it should be additional to e.g., in my example,
> "Partial for poly(dist,2)"]
> 
> Replace ylab = ylab with 
>    ylab = ylab[i]
> in the two places (arguments to plot()) where it appears.


This looks like a good idea. 

	-thomas

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 827 *
Subject: tseries 0.7-0 with R 1.2.1 dumps core
From: keith.briggs@bt.com
Date: Fri, 26 Jan 2001 11:46:22 -0000
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 827 <==
From postmaster@franz.stat.wisc.edu  Fri Jan 26 12:48:00 2001
Received: from franz.stat.wisc.edu (franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id MAA02441
	for <r-bugs@biostat.ku.dk>; Fri, 26 Jan 2001 12:47:59 +0100 (MET)
Received: from gandalf.axion.bt.co.uk (really [132.146.17.29]) by franz.stat.wisc.edu
	via in.smtpd with esmtp
	id <m14M7MQ-000IWyC@franz.stat.wisc.edu> (Debian Smail3.2.0.102)
	for <r-bugs@r-project.org>; Fri, 26 Jan 2001 05:48:10 -0600 (CST) 
Received: from cbtlipnt02.btlabs.bt.co.uk by gandalf (local) with ESMTP;
          Fri, 26 Jan 2001 11:46:53 +0000
Received: by cbtlipnt02.btlabs.bt.co.uk 
          with Internet Mail Service (5.5.2652.35) id <DD7WF0BD>;
          Fri, 26 Jan 2001 11:45:42 -0000
Message-ID: <F66469FCE9C5D311B8FF0000F8FE9E070633527B@mbtlipnt03.btlabs.bt.co.uk>
From: keith.briggs@bt.com
To: adrian@olsen.ch
Cc: r-bugs@r-project.org
Subject: tseries 0.7-0 with R 1.2.1 dumps core
Date: Fri, 26 Jan 2001 11:46:22 -0000
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2652.35)
Content-Type: text/plain

Dear Dr. Trapletti,

I am trying to use your tseries 0.7-0 package with R 1.2.1
(the latest version) under redhat linux 6.2, but the command
library(tseries)
causes R dump to core with a segmentation fault.

Do you have any suggestions how to fix this?

Thank you,
Keith

Dr. Keith M. Briggs, Complexity Research Group, BTexaCT.
Adastral Park admin2 pp5, Martlesham Heath, IP5 3RE, Suffolk,  UK
Tel: 01473 641 911  Fax: 01473 647 410.  Home tel:  01473 625 972
Personal homepage http://www.btexact.com/people/briggsk2/ 
NEW!  Exact Real software: http://www.btexact.com/people/briggsk2/XR.html



==> 827.followup.1 <==
From plummer@iarc.fr  Fri Jan 26 14:47:43 2001
Received: from smtp02.iarc.fr ([212.157.236.234])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id OAA04676
	for <R-bugs@biostat.ku.dk>; Fri, 26 Jan 2001 14:47:42 +0100 (MET)
Received: from xena.iarc.fr ([10.10.150.125])
	by smtp02.iarc.fr (8.9.3/8.9.3) with ESMTP id NAA20694;
	Fri, 26 Jan 2001 13:49:57 +0100
Message-ID: <XFMail.010126135333.plummer@iarc.fr>
X-Mailer: XFMail 1.3 [p0] on Linux
X-Priority: 3 (Normal)
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 8bit
MIME-Version: 1.0
In-Reply-To: <200101261148.MAA02460@pubhealth.ku.dk>
Date: Fri, 26 Jan 2001 13:53:33 +0100 (CET)
Organization: International Agency for Research on Cancer
Sender: martyn@xena.iarc.fr
From: Martyn Plummer <plummer@iarc.fr>
To: keith.briggs@bt.com
Subject: RE: [Rd] tseries 0.7-0 with R 1.2.1 dumps core (PR#827)
Cc: R-bugs@biostat.ku.dk, r-devel@stat.math.ethz.ch

On 26-Jan-01 keith.briggs@bt.com wrote:
> Dear Dr. Trapletti,
> 
> I am trying to use your tseries 0.7-0 package with R 1.2.1
> (the latest version) under redhat linux 6.2, but the command
> library(tseries)
> causes R dump to core with a segmentation fault.

This is a system-specific problem.  The Fortran compiler that comes
with Red Hat 6.2 is known to cause problems when dynamically
loading shared objects. I'm using gcc 2.95.2 on Red Hat 6.2
which I  used to build both R and tseries. I do not have this problem.

Martyn
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 825 *
Subject: Snowhite and the Seven Dwarfs - The REAL story!
From: Hahaha <hahaha@sexyfun.net>
Date: Wed, 24 Jan 2001 23:40:48 GMT
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 825 <==
From MAILER-DAEMON  Thu Jan 25 01:39:02 2001
Received: from piro.coqui.net (piro.coqui.net [206.99.218.243])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id BAA14039
	for <R-bugs@biostat.ku.dk>; Thu, 25 Jan 2001 01:38:56 +0100 (MET)
Received: from mycomputer (ppp-208-156-18-161.coqui.net [208.156.18.161])
	by piro.coqui.net (8.9.3/8.9.3) with SMTP id XAA05633
	for <R-bugs@biostat.ku.dk>; Wed, 24 Jan 2001 23:40:48 GMT
Date: Wed, 24 Jan 2001 23:40:48 GMT
Message-Id: <200101242340.XAA05633@piro.coqui.net>
From: Hahaha <hahaha@sexyfun.net>
Subject: Snowhite and the Seven Dwarfs - The REAL story!
MIME-Version: 1.0
Content-Type: multipart/mixed; boundary="--VENGT2VOTUR"

----VENGT2VOTUR
Content-Type: text/plain; charset="us-ascii"

Today, Snowhite was turning 18. The 7 Dwarfs always where very educated and
polite with Snowhite. When they go out work at mornign, they promissed a 
*huge* surprise. Snowhite was anxious. Suddlently, the door open, and the Seven
Dwarfs enter...


----VENGT2VOTUR
Content-Type: application/octet-stream; name="joke.exe"
Content-Transfer-Encoding: base64
Content-Disposition: attachment; filename="joke.exe"

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
EHMIi1UQ6BkAAACNlfj+///oDgAAAP9F+P9N/HnaYcnCEACQjb14////M8CJB4lHBIlHCIlHDIlH
EIlHFIlHGIlHHIlHIIlHJIlHKIlHLIlHMIlHNIlHOIlHPIlHQIlHRIlHSIlHTIlHUIlHVIlHWIlH
XIlHYIlHZIlHaIlHbIlHcIlHdIlHeIlHfI2F+P7//+gCAgAAh9vRJ9FXBNFXCNFXDNFXENFXFNFX
GNFXHNFXINFXJNFXKNFXLNFXMNFXNNFXONFXPNFXQNFXRNFXSNFXTNFXUNFXVNFXWNFXXNFXYNFX
ZNFXaNFXbNFXcNFXdNFXeNFXfOisAQAAjYX4/v//D6MYD4PFAAAAiwKLSgQBBxFPBItCCItKDBFH
CBFPDItCEItKFBFHEBFPFItCGItKHBFHGBFPHItCIItKJBFHIBFPJItCKItKLBFHKBFPLItCMItK
NBFHMBFPNItCOItKPBFHOBFPPItCQItKRBFHQBFPRItCSItKTBFHSBFPTItCUItKVBFHUBFPVItC
WItKXBFHWBFPXItCYItKZBFHYBFPZItCaItKbBFHaBFPbItCcItKdBFHcBFPdItCeItKfBFHeBFP
fOjaAAAAh9tLD4nB/v//iweLXwSLTwiLdwyJAolaBIlKCIlyDItHEItfFItPGIt3HIlCEIlaFIlK
GIlyHItHIItfJItPKIt3LIlCIIlaJIlKKIlyLItHMItfNItPOIt3PIlCMIlaNIlKOIlyPItHQItf
RItPSIt3TIlCQIlaRIlKSIlyTItHUItfVItPWIt3XIlCUIlaVIlKWIlyXItHYItfZItPaIt3bIlC
YIlaZIlKaIlybItHcItfdItPeIt3fIlCcIladIlKeIlyfMOH27v/AwAAD6MYcgNLdfjDh9uLdQiL
R3yLTnw7wXLwD4c1AgAAi0d4i054O8Fy4A+HJQIAAItHdItOdDvBctAPhxUCAACLR3CLTnA7wXLA
D4cFAgAAi0dsi05sO8FysA+H9QEAAItHaItOaDvBcqAPh+UBAACLR2SLTmQ7wXKQD4fVAQAAi0dg
i05gO8EPgnz///8Ph8EBAACLR1yLTlw7wQ+CaP///w+HrQEAAItHWItOWDvBD4JU////D4eZAQAA
i0dUi05UO8EPgkD///8Ph4UBAACLR1CLTlA7wQ+CLP///w+HcQEAAItHTItOTDvBD4IY////D4dd
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
LdFeGOE2elBr+NS/ioiLYE+8JtSHktJVJOanjQ4PZe3gSkGMWpRanxyTaJOTRaME23oAPi3h9Axs
DprP79rIOTzBU+LQU/Hwxl3mapCAet2a6OBBcce/7wD+sA2se16kQwlZCIAGp88e/Pv5MCE3Bb0d
dm7LEzCoiHTyVvqLe7nu6KKiHI29/oDWVjrHrEVrHYt4rInxFM+6wo8ZVp7EWbpPvHCrwN7iU2QX
7ENNxZb2SefMHgDTfn87yF//NIasbekUM6o6Oe8bEU03tTS4Mj9v9nEyY4o/4vKvtKr5t+O0Zpuz
yrAoKYqrUzxdc1Rs3Tlv1YwsdzTFC8po63CbiJoIb7PbX4rlM6TVgW6MX1YJg2le+hTikcIEsTFu
ZXdzAgAAAPANAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAADhwAAAAAAAAMHAAAAAAAAAAAAAATHAAAABwAAAAAAAAAAAAAAAAAAAAAAAA
AAAAADhwAAAAAAAAEQFHZXRNb2R1bGVIYW5kbGVBAABLRVJORUwzMi5kbGwAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAA

----VENGT2VOTUR--

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 824 *
Subject: trouble with netCDF 
From: jasont@indigoindustrial.co.nz
Date: Thu, 25 Jan 2001 12:00:39 +1300
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 824 <==
From postmaster@franz.stat.wisc.edu  Thu Jan 25 00:00:38 2001
Received: from franz.stat.wisc.edu (franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id AAA13606
	for <r-bugs@biostat.ku.dk>; Thu, 25 Jan 2001 00:00:37 +0100 (MET)
Received: from smtp.worley.co.nz (really [203.167.214.58]) by franz.stat.wisc.edu
	via in.smtpd with esmtp (ident fwuser using rfc1413)
	id <m14LYuE-000IWyC@franz.stat.wisc.edu> (Debian Smail3.2.0.102)
	for <r-bugs@r-project.org>; Wed, 24 Jan 2001 17:00:46 -0600 (CST) 
Received: from camille.indigoindustrial.co.nz ([172.16.6.75]) by smtp.worley.co.nz with MailMarshal (3,3,0,0) 
	id <B00020733>; Thu, 25 Jan 2001 12:04:02 +1300
Received: (from jasont@localhost)
	by camille.indigoindustrial.co.nz (8.9.3/8.9.3) id MAA04889;
	Thu, 25 Jan 2001 12:00:39 +1300
Date: Thu, 25 Jan 2001 12:00:39 +1300
From: jasont@indigoindustrial.co.nz
Message-Id: <200101242300.MAA04889@camille.indigoindustrial.co.nz>
To: r-bugs@r-project.org
Subject: trouble with netCDF 
Cc: jasont@camille.indigoindustrial.co.nz

Having trouble with netCDF since I upgraded to 1.2.1 (did directly
from 1.1.1).  Package was recompiled after the upgrade.

Symptoms:
open.netCDF returns cleanly, but read.netCDF causes R to segfault
and dump core.  What else do you need me to write to help?

--please do not edit the information below--

Version:
 platform = i586-pc-linux-gnu
 arch = i586
 os = linux-gnu
 system = i586, linux-gnu
 status = 
 major = 1
 minor = 2.1
 year = 2001
 month = 01
 day = 15
 language = R

Search Path:
 .GlobalEnv, package:netCDF, package:RODBC, package:ts, package:local, package:ctest, Autoloads, package:base

==> 824.followup.1 <==
From ripley@stats.ox.ac.uk  Thu Jan 25 00:09:14 2001
Received: from toucan.stats.ox.ac.uk (toucan.stats.ox.ac.uk [163.1.20.20])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id AAA13639
	for <R-bugs@biostat.ku.dk>; Thu, 25 Jan 2001 00:09:13 +0100 (MET)
Received: from max166.public.ox.ac.uk (max166.public.ox.ac.uk [192.76.27.166])
	by toucan.stats.ox.ac.uk (8.9.0/8.9.0) with ESMTP id XAA09108;
	Wed, 24 Jan 2001 23:09:15 GMT
Date: Wed, 24 Jan 2001 23:07:56 +0000 (GMT)
From: Prof Brian D Ripley <ripley@stats.ox.ac.uk>
Sender: <ripley@auk.stats>
To: <jasont@indigoindustrial.co.nz>
cc: <R-bugs@biostat.ku.dk>
Subject: Re: [Rd] trouble with netCDF (PR#824)
In-Reply-To: <200101242300.AAA13617@pubhealth.ku.dk>
Message-ID: <Pine.GSO.4.31.0101242303390.9789-100000@auk.stats>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

On Thu, 25 Jan 2001 jasont@indigoindustrial.co.nz wrote:

> Having trouble with netCDF since I upgraded to 1.2.1 (did directly
> from 1.1.1).  Package was recompiled after the upgrade.

You did use netCDF_1.1 for 1.2.1 did you.  I wonder?
netCDF_1.0-1 will not work.

> Symptoms:
> open.netCDF returns cleanly, but read.netCDF causes R to segfault
> and dump core.  What else do you need me to write to help?

The first item is to report that it had passed R CMD check netCDF?  That
uses read.netCDF.  If so the problem is data-specific, if not it
is with your installation.  So we either need the data or a lot
more about your installation of netCDF.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


==> 824.followup.2 <==
From jasont@indigoindustrial.co.nz  Thu Jan 25 01:18:34 2001
Received: from smtp.worley.co.nz (fwuser@fw.worley.co.nz [203.167.214.58])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id BAA13908
	for <R-bugs@biostat.ku.dk>; Thu, 25 Jan 2001 01:18:30 +0100 (MET)
Received: from camille.indigoindustrial.co.nz ([172.16.6.75]) by smtp.worley.co.nz with MailMarshal (3,3,0,0) 
	id <B000207d7>; Thu, 25 Jan 2001 13:22:00 +1300
Received: (from jasont@localhost)
	by camille.indigoindustrial.co.nz (8.9.3/8.9.3) id NAA14287;
	Thu, 25 Jan 2001 13:18:38 +1300
Date: Thu, 25 Jan 2001 13:18:37 +1300
From: Jason Turner <jasont@indigoindustrial.co.nz>
To: r-bugs@r-project.org
Cc: jasont@indigoindustrial.co.nz, R-bugs@biostat.ku.dk
Subject: Re: [Rd] trouble with netCDF (PR#824)
Message-ID: <20010125131836.A4997@camille.indigoindustrial.co.nz>
References: <200101242300.AAA13617@pubhealth.ku.dk> <Pine.GSO.4.31.0101242303390.9789-100000@auk.stats>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
In-Reply-To: <Pine.GSO.4.31.0101242303390.9789-100000@auk.stats>; from ripley@stats.ox.ac.uk on Wed, Jan 24, 2001 at 11:07:56PM +0000


First and foremost, regarding:

> Please do not send bug reports to R-bugs and R-help: the first
> set goes to R-devel too which means that the active developers see it
> twice (and are probably twice as likely to ignore it, as I will next time). 

My appologies.  I'm well aware that R is a labour of love for those involved,
and I truly appreciate what they've given the rest of us.  The last thing
I want to do is irritate any of you.  Now trying to pull foot from 
mouth.  And making every note to not do this sort of thing in future.

Thanks for the quick reply with information.  

> You did use netCDF_1.1 for 1.2.1 did you.  

Yes.

> The first item is to report that it had passed R CMD check netCDF?  

Output from that is....

---Begin ~/R/netCDF.Rcheck/00check.log ---

* using log directory /home/jasont/R/netCDF.Rcheck
* checking for file `netCDF/DESCRIPTION' ... OK
* checking package directory ... OK
* checking DESCRIPTION Package field ... OK
* checking DESCRIPTION Version field ... OK
* checking DESCRIPTION Title field ... OK
* checking DESCRIPTION License field ... OK
* checking DESCRIPTION Author field ... OK
* checking DESCRIPTION Maintainer field ... WARNING
*   no DESCRIPTION Maintainer field found
* checking Rd files ... OK
* checking for undocumented objects ... OK
* creating netCDF-Ex.R ... OK
* checking examples ... OK
* creating netCDF-manual.tex ... OK
* checking netCDF-manual.tex ... OK

---End ~/R/netCDF.Rcheck/00check.log ---

Looks good to me.  As you've probably guessed, I'm new
to R, so take the following with the requisite number
of grains of salt:  in the R-ex directory, the 
read.netCDF.R file contains either blank lines
or commented lines, and nothing else.  There might
be some keywords there for the example software?

---Begin ~/R/netCDF.Rcheck/netCDF/R-ex/read.netCDF.R ---

###--- >>> `read.netCDF' <<<----- Read subsets of a netCDF file

        ## alias         help(read.netCDF)

##___ Examples ___:



## Keywords: 'file'.   
---End ~/R/netCDF.Rcheck/netCDF/R-ex/read.netCDF.R ---

That's it.


NetCDF installation:  version 3.4, built from source.
Other NetCDF utilities continue to work nicely, which 
is how I'm working around the issue.  Now, I'm taking
existing netCDF files, converting them to csv files,
and either reading them directly, or loading them
to PostgreSQL, and using RPgSQL or RODBC.  Conversion
to csv is done using home-brewed c programs which
were dynamically linked against libnetcdf.so.  As
such, I'm pretty sure the library is still working fine.

I have a nice sample netCDF file, but I doubt it's appropriate
for the bugs list (waste of bandwidth).  It's just under 2K.

-- 
Indigo Industrial Controls Ltd.
64-21-343-545
jasont@indigoindustrial.co.nz

==> 824.followup.3 <==
From postmaster@franz.stat.wisc.edu  Thu Jan 25 01:18:45 2001
Received: from franz.stat.wisc.edu (franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id BAA13922
	for <r-bugs@biostat.ku.dk>; Thu, 25 Jan 2001 01:18:45 +0100 (MET)
Received: from smtp.worley.co.nz (really [203.167.214.58]) by franz.stat.wisc.edu
	via in.smtpd with esmtp (ident fwuser using rfc1413)
	id <m14La7t-000IWyC@franz.stat.wisc.edu> (Debian Smail3.2.0.102)
	for <r-bugs@r-project.org>; Wed, 24 Jan 2001 18:18:57 -0600 (CST) 
Received: from camille.indigoindustrial.co.nz ([172.16.6.75]) by smtp.worley.co.nz with MailMarshal (3,3,0,0) 
	id <B000207d7>; Thu, 25 Jan 2001 13:22:00 +1300
Received: (from jasont@localhost)
	by camille.indigoindustrial.co.nz (8.9.3/8.9.3) id NAA14287;
	Thu, 25 Jan 2001 13:18:38 +1300
Date: Thu, 25 Jan 2001 13:18:37 +1300
From: Jason Turner <jasont@indigoindustrial.co.nz>
To: r-bugs@r-project.org
Cc: jasont@indigoindustrial.co.nz, R-bugs@biostat.ku.dk
Subject: Re: [Rd] trouble with netCDF (PR#824)
Message-ID: <20010125131836.A4997@camille.indigoindustrial.co.nz>
References: <200101242300.AAA13617@pubhealth.ku.dk> <Pine.GSO.4.31.0101242303390.9789-100000@auk.stats>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
In-Reply-To: <Pine.GSO.4.31.0101242303390.9789-100000@auk.stats>; from ripley@stats.ox.ac.uk on Wed, Jan 24, 2001 at 11:07:56PM +0000


First and foremost, regarding:

> Please do not send bug reports to R-bugs and R-help: the first
> set goes to R-devel too which means that the active developers see it
> twice (and are probably twice as likely to ignore it, as I will next time). 

My appologies.  I'm well aware that R is a labour of love for those involved,
and I truly appreciate what they've given the rest of us.  The last thing
I want to do is irritate any of you.  Now trying to pull foot from 
mouth.  And making every note to not do this sort of thing in future.

Thanks for the quick reply with information.  

> You did use netCDF_1.1 for 1.2.1 did you.  

Yes.

> The first item is to report that it had passed R CMD check netCDF?  

Output from that is....

---Begin ~/R/netCDF.Rcheck/00check.log ---

* using log directory /home/jasont/R/netCDF.Rcheck
* checking for file `netCDF/DESCRIPTION' ... OK
* checking package directory ... OK
* checking DESCRIPTION Package field ... OK
* checking DESCRIPTION Version field ... OK
* checking DESCRIPTION Title field ... OK
* checking DESCRIPTION License field ... OK
* checking DESCRIPTION Author field ... OK
* checking DESCRIPTION Maintainer field ... WARNING
*   no DESCRIPTION Maintainer field found
* checking Rd files ... OK
* checking for undocumented objects ... OK
* creating netCDF-Ex.R ... OK
* checking examples ... OK
* creating netCDF-manual.tex ... OK
* checking netCDF-manual.tex ... OK

---End ~/R/netCDF.Rcheck/00check.log ---

Looks good to me.  As you've probably guessed, I'm new
to R, so take the following with the requisite number
of grains of salt:  in the R-ex directory, the 
read.netCDF.R file contains either blank lines
or commented lines, and nothing else.  There might
be some keywords there for the example software?

---Begin ~/R/netCDF.Rcheck/netCDF/R-ex/read.netCDF.R ---

###--- >>> `read.netCDF' <<<----- Read subsets of a netCDF file

        ## alias         help(read.netCDF)

##___ Examples ___:



## Keywords: 'file'.   
---End ~/R/netCDF.Rcheck/netCDF/R-ex/read.netCDF.R ---

That's it.


NetCDF installation:  version 3.4, built from source.
Other NetCDF utilities continue to work nicely, which 
is how I'm working around the issue.  Now, I'm taking
existing netCDF files, converting them to csv files,
and either reading them directly, or loading them
to PostgreSQL, and using RPgSQL or RODBC.  Conversion
to csv is done using home-brewed c programs which
were dynamically linked against libnetcdf.so.  As
such, I'm pretty sure the library is still working fine.

I have a nice sample netCDF file, but I doubt it's appropriate
for the bugs list (waste of bandwidth).  It's just under 2K.

-- 
Indigo Industrial Controls Ltd.
64-21-343-545
jasont@indigoindustrial.co.nz

==> 824.followup.4 <==
From postmaster@franz.stat.wisc.edu  Thu Jan 25 01:43:44 2001
Received: from franz.stat.wisc.edu (franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id BAA14078
	for <r-bugs@biostat.ku.dk>; Thu, 25 Jan 2001 01:43:44 +0100 (MET)
Received: from smtp.worley.co.nz (really [203.167.214.58]) by franz.stat.wisc.edu
	via in.smtpd with esmtp (ident fwuser using rfc1413)
	id <m14LaW2-000IWyC@franz.stat.wisc.edu> (Debian Smail3.2.0.102)
	for <r-bugs@r-project.org>; Wed, 24 Jan 2001 18:43:54 -0600 (CST) 
Received: from camille.indigoindustrial.co.nz ([172.16.6.75]) by smtp.worley.co.nz with MailMarshal (3,3,0,0) 
	id <B00020813>; Thu, 25 Jan 2001 13:46:49 +1300
Received: (from jasont@localhost)
	by camille.indigoindustrial.co.nz (8.9.3/8.9.3) id NAA14352
	for r-bugs@r-project.org; Thu, 25 Jan 2001 13:43:26 +1300
Date: Thu, 25 Jan 2001 13:43:26 +1300
From: Jason Turner <jasont@indigoindustrial.co.nz>
To: r-bugs@r-project.org
Subject: Re: [Rd] trouble with netCDF (PR#824)
Message-ID: <20010125134325.A14333@camille.indigoindustrial.co.nz>
References: <200101242300.AAA13617@pubhealth.ku.dk> <Pine.GSO.4.31.0101242303390.9789-100000@auk.stats>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
In-Reply-To: <Pine.GSO.4.31.0101242303390.9789-100000@auk.stats>; from ripley@stats.ox.ac.uk on Wed, Jan 24, 2001 at 11:07:56PM +0000

Another interesting point - read.netCDF does *not* cause
R to dump core if debug(read.netCDF) is on. To be clear:

> rm(list=ls(all=T))
> library(netCDF)

# --- works ---
> debug(read.netCDF)
> fd<-open.netCDF("data.nc")
> z<-read.netCDF(fd,"foo")

--- lots of stuff deleted ---

> length(z)
[1] 143
--- what it should be

> close.netCDF(fd)
[1] TRUE   

#--- end works ---

That works fine.  Carrying on in the same session:

# --- doesn't work ---

> rm(z,fd)
> undebug(read.netCDF)
> fd<-open.netCDF("data.nc")
> z<-read.netCDF(fd,"foo")
Segmentation fault (core dumped)   

# --- end doesn't work ---

Now more puzzled.

Jason Turner
-- 
Indigo Industrial Controls Ltd.
64-21-343-545
jasont@indigoindustrial.co.nz

==> 824.followup.5 <==
From ripley@stats.ox.ac.uk  Thu Jan 25 08:13:58 2001
Received: from toucan.stats.ox.ac.uk (toucan.stats.ox.ac.uk [163.1.20.20])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id IAA15016
	for <R-bugs@biostat.ku.dk>; Thu, 25 Jan 2001 08:13:57 +0100 (MET)
Received: from max128.public.ox.ac.uk (max128.public.ox.ac.uk [192.76.27.128])
	by toucan.stats.ox.ac.uk (8.9.0/8.9.0) with ESMTP id HAA09811;
	Thu, 25 Jan 2001 07:14:08 GMT
Date: Thu, 25 Jan 2001 07:12:48 +0000 (GMT)
From: Prof Brian D Ripley <ripley@stats.ox.ac.uk>
Sender: <ripley@auk.stats>
To: <jasont@indigoindustrial.co.nz>
cc: <R-bugs@biostat.ku.dk>
Subject: Re: [Rd] trouble with netCDF (PR#824)
In-Reply-To: <200101250018.BAA13932@pubhealth.ku.dk>
Message-ID: <Pine.GSO.4.31.0101250709440.10090-100000@auk.stats>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

On Thu, 25 Jan 2001 jasont@indigoindustrial.co.nz wrote:

> NetCDF installation:  version 3.4, built from source.
> Other NetCDF utilities continue to work nicely, which
> is how I'm working around the issue.  Now, I'm taking
> existing netCDF files, converting them to csv files,
> and either reading them directly, or loading them
> to PostgreSQL, and using RPgSQL or RODBC.  Conversion
> to csv is done using home-brewed c programs which
> were dynamically linked against libnetcdf.so.  As
> such, I'm pretty sure the library is still working fine.
>
> I have a nice sample netCDF file, but I doubt it's appropriate
> for the bugs list (waste of bandwidth).  It's just under 2K.

I think the thing to do now is to contact the netCDF package
maintainer (Thomas Lumley) with that example.

As I am sure you appreciate we need to eliminate the simple causes first,
and they are common.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
